{
  "_kommentar": "Næringskontroller i valideringstjenesten pr 2022-04-14. Det vil bli kunne bli endringer i noen av kontrollene, samt at nye kontroller kommer til",

  "kontrolldefinisjoner": [
    {
      "kontrollnavn": "N_ANTALL_MÅNEDER_FEIL",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når antall måneder drevet i år er lavere enn 0 eller høyere enn 12\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .utslagFor {\n                hvis((antallMaanederDrevetIAar erStørreEnn 12) eller (antallMaanederDrevetIAar erMindreEnn 0)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du må legge inn et tall mellom 1 og 12.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVGITT_KONSERNBIDRAG_FOR_HØYT",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig avgir konsernbidrag og avgitt konsernbidrag overstiger samlet inntekt\n        // kontrollen gir faktiskFeil\n    \n     skattemeldingUpersonlig\n            .forForekomsterAv(inntektOgUnderskudd)\n            .utslagFor {\n    \n              \tval næringsinntektISkattemeldingUP = summer{fastsatt(naeringsinntektSomTall)}\n    \n              \tval underskuddISkattemeldingUP = summer{fastsatt(inntektsfradrag.underskuddSomTall)}\n    \n                val mottattKonsernbidragISkattemeldingUP = summer{fastsatt(inntektSomGruppe.samletMottattKonsernbidrag)}\n    \n                  val grunnlagFørAvgittKonsernbidrag = næringsinntektISkattemeldingUP - underskuddISkattemeldingUP + mottattKonsernbidragISkattemeldingUP \n    \n                hvis((fastsatt(inntektsfradrag.samletAvgittKonsernbidrag) er oppgitt) og (fastsatt(inntektsfradrag.samletAvgittKonsernbidrag) erStørreEnn grunnlagFørAvgittKonsernbidrag)       \n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, faktiskFeil, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Avgitt konsernbidrag med skattemessig virkning er for høyt. Det kan bare avgis konsernbidrag med skattemessig virkning som tilsvarer selskapets overskudd før avgitt konsernbidrag.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_AVVIK_ANDEL_PERSONINNTEKT_NÆRINGSINNTEKT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) \n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n       \n        //kontrollen gir utslag dersom skattepliktig oppgir en annen fordelingsprosent på personinntekt enn på næringsinntekt\n        //kontrollen gir validering i SME\n       \n      \tval andelNæringsinntekt = naeringsspesifikasjon \n      \t\t.forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .summer{fastsatt(andelAvFordeltSkattemessigResultatTilordnetInnehaver)}\n                  \n      \tval antallForekomsterAvNaeringsinntekt = naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .antall\n      \n        naeringsspesifikasjon\n      \t\t.forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .utslagFor {\n                  val andelPersoninntekt = summer{fastsatt(andelAvPersoninntektTilordnetInnehaver)}\n              \n              \t  val avviksbeløp = andelNæringsinntekt - andelPersoninntekt\n                  \n                hvis((antallForekomsterAvNaeringsinntekt erLik 1) og (andelNæringsinntekt erUlik andelPersoninntekt)\n                )\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, Avviksbeloep settesTil avviksbeløp\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har oppgitt ulik andel i \"Min andel av næringsinntekten (i prosent)\" og \"Min andel av personinntekten (i prosent)\" for denne næringstypen. Prosentandelen skal være lik.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_FREMFOERBART_UNDERSKUDD",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n    \n    val partsnr = skattepliktUpersonligGjeldende\t\n      \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n    val selskapIkkeIStorbedrift = ansvarligEnhet\n      .hvorMinstEnForekomst{erStorbedrift erLik false}\n    \n    //  Validering dersom selskap fører fremførbart underskudd som er lavere enn det som fremgår av siste skatteoppgjør for året før \n    // gir merknad i valideringstjenesten\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(inntektOgUnderskudd)           \n       \t.utslagFor {\n               \tval finnesIKontrollisteFusjonFisjonInnsats = finnesIKontrolliste(\n                    \"kontrolliste - underskudd fusjonFisjonInnsats\",\n                    listeAv(partsnr)\n                )\n                val fremførtUnderskuddEgenfastsatt = summer{fastsatt(underskuddTilFremfoering.fremfoertUnderskuddFraTidligereAarSomTall)}\n                val fremførtUnderskuddUtkast = summer{grunnlag(underskuddTilFremfoering.fremfoertUnderskuddFraTidligereAarSomTall)}                \n          \t\tval differanseFremfoerbartUnderskudd = fremførtUnderskuddUtkast - fremførtUnderskuddEgenfastsatt\n    \n                    hvis((differanseFremfoerbartUnderskudd erStørreEnn 50000) og (ikke(finnesIKontrollisteFusjonFisjonInnsats)) og \n                       selskapIkkeIStorbedrift\n                       )  {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Vi oppfordrer selskapet til å laste opp dokumentasjon, da beløpet som er oppgitt som underskudd til fremføring fra tidligere inntektsår, er høyere enn beløpet i gjeldende skatteoppgjør for 2021. Dokumentasjonen lastes opp i tilknytning til feltet "Fremført underskudd fra tidligere år".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_AVVIK_FREMFOERBART_UNDERSKUDD_DOKUMENTASJON",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n    \n    val partsnr = skattepliktUpersonligGjeldende\t\n      \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n    val selskapIkkeIStorbedrift = ansvarligEnhet\n      .hvorMinstEnForekomst{erStorbedrift erLik false}\n    \n    //  Validering dersom selskap fører fremførbart underskudd som er høyere enn det som fremgår av siste skatteoppgjør for året før \n    // gir merknad i valideringstjenesten\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(inntektOgUnderskudd)           \n       \t.utslagFor {\n               \tval finnesIKontrollisteFusjonFisjonInnsats = finnesIKontrolliste(\n                    \"kontrolliste - underskudd fusjonFisjonInnsats\",\n                    listeAv(partsnr)\n                )\n                val fremførtUnderskuddEgenfastsatt = summer{fastsatt(underskuddTilFremfoering.fremfoertUnderskuddFraTidligereAarSomTall)}\n                val fremførtUnderskuddUtkast = summer{grunnlag(underskuddTilFremfoering.fremfoertUnderskuddFraTidligereAarSomTall)}                \n          \t\tval differanseFremfoerbartUnderskudd = fremførtUnderskuddEgenfastsatt - fremførtUnderskuddUtkast\n    \n          \t\tval harVedlegg = fastsatt(underskuddTilFremfoering.fremfoertUnderskuddFraTidligereAarSomTall) har vedlegg\n    \n                    hvis((differanseFremfoerbartUnderskudd erStørreEnn 50000) og (ikke(finnesIKontrollisteFusjonFisjonInnsats)) og (ikke(harVedlegg)))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Vi oppfordrer selskapet til å laste opp dokumentasjon, da beløpet som er oppgitt som underskudd til fremføring fra tidligere inntektsår, er høyere enn beløpet i gjeldende skatteoppgjør for 2021. Dokumentasjonen lastes opp i tilknytning til feltet \"Fremført underskudd fra tidligere år\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_AVVIK_GEVINST_OBLIGASJONER",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når selskapet har opplysninger om gevinst av obligasjon/sertifikat og summen av disse er høyere\n        // enn beløp ført i post 8079 i resultatregnskapet\n        // kontrollen gir merknad i valideringstjenesten\n    \n        val gevinstObligasjonManglerIResultat = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n            .forForekomsterAv(inntekt)\n            .filtrer { fastsatt(type).finnesBlant(\"8079\") }\n            .summer { beloepSomGruppe.beloepSomTall }\n    \n        skattemeldingUpersonlig\n            .forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat))\n            .utslagFor {\n                val sumGevinstObligasjon = summer { gevinstVedRealisasjonAvObligasjonOgSertifikat }\n    \n                val avvikGevinst = sumGevinstObligasjon - gevinstObligasjonManglerIResultat\n    \n                hvis(gevinstObligasjonManglerIResultat erMindreEnn sumGevinstObligasjon) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Avviksbeloep settesTil avvikGevinst\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er avvik mellom gevinst ved realisasjon av obligasjon og sertifikat rapportert i konto 8079 i resultatregnskapet og summen av gevinster ved realisasjon som er spesifisert pr obligasjon eller sertifikat i skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_RENTER_OBLIGASJONER",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når selskapet har opplysninger om renteinntekt av obligasjon/sertifikat og summen av disse er høyere\n        // enn beløp ført i post 8090 i resultatregnskapet\n        // kontrollen gir merknad i valideringstjenesten\n    \n        val renterObligasjonManglerIResultat = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n            .forForekomsterAv(inntekt)\n            .filtrer { fastsatt(type).finnesBlant(\"8090\") }\n            .summer { beloepSomGruppe.beloepSomTall }\n    \n        skattemeldingUpersonlig\n            .utslagFor {\n                val sumRenteinntektObligasjon =\n                    forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat))\n                        .summer { renteinntektAvObligasjonOgSertifikatSomTall }\n    \n                val avvikRenter = sumRenteinntektObligasjon - renterObligasjonManglerIResultat\n    \n                hvis(renterObligasjonManglerIResultat erMindreEnn sumRenteinntektObligasjon) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Avviksbeloep settesTil avvikRenter\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er avvik mellom renteinntekt av obligasjon og sertifikat rapportert i konto 8090 i resultatregnskapet og summen av renteinntektene som er spesifisert pr obligasjon eller sertifikat i skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_SKATTEMESSIG_RESULTAT",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n  .kontekst(ValideringSkattepliktig)\n  .hvis({ naeringsspesifikasjon.harInnhold }) {\n    //kontrollen gir utslag dersom summen av alle forekomster av fordelt skattemessig resultat for næring avviker fra skattemessig resultat\n    //kontrollen medfører arbeidsoppgave i SMIA\n\n    val sumSkattemessigResultat = naeringsspesifikasjon\n    .forForekomsterAv(beregnetNaeringsinntekt.skattemessigResultat)\n      .summer { beloepSomTall }\n\n    naeringsspesifikasjon\n    .fokusområde(\"FokusFordeltBeregnetNaeringsinntekt\")\n      .utslagFor {\n        val sumFordeltSkattemessigResultat = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n          .summer {fastsatt(fordeltSkattemessigResultat.beloepSomTall)}\n        val differanseSkattemessigResultat = sumFordeltSkattemessigResultat - sumSkattemessigResultat\n\n        hvis((differanseSkattemessigResultat erStørreEnn 1000) eller (differanseSkattemessigResultat erMindreEnn -1000)) {\n          betjeningsstrategiSettesTil(\n            ikke, faktiskFeil, 1,\n            Avviksbeloep settesTil differanseSkattemessigResultat\n          )\n        } \n      } \n  }",
      "hjelpetekstSME": "Det er avvik mellom det skattemessige resultatet og summen av fordelte næringsinntekter. Et aksjeselskap kan bare ha en fordelt næringsinntekt, mens et enkeltpersonforetak kan ha flere.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_AVVIK_TAP_OBLIGASJONER",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når selskapet har opplysninger om tap av obligasjon/sertifikat og summen av disse er høyere\n        // enn beløp ført i post 8179 i resultatregnskapet\n        // kontrollen gir merknad i valideringstjenesten\n    \n        val tapObligasjonManglerIResultat = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, finanskostnad))\n            .forForekomsterAv(kostnad)\n            .filtrer { fastsatt(type).finnesBlant(\"8179\") }\n            .summer { beloepSomGruppe.beloepSomTall }\n    \n        skattemeldingUpersonlig\n            .forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat))\n            .utslagFor {\n                val sumTapObligasjon = summer { tapVedRealisasjonAvObligasjonOgSertifikat }\n    \n                val avvikTap = sumTapObligasjon - tapObligasjonManglerIResultat\n    \n                hvis(tapObligasjonManglerIResultat erMindreEnn sumTapObligasjon) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Avviksbeloep settesTil avvikTap\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er avvik mellom tap ved realisasjon av obligasjon og sertifikat rapportert i konto 8179 i resultatregnskapet og summen av tap ved realisasjon som er spesifisert pr obligasjon eller sertifikat i skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_TILBAKEFØRT_SKATTEKOSTNAD",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når det er avvik mellom sum skattekostnad i resultatregnskapet og tilbakeført skattekostnad i permanente forskjeller\n        // kontrollen medfører merknad i valideringstjenesten\n    \n        val positivSkattekostnadPermanentForskjell = naeringsspesifikasjon\n            .forForekomsterAv(permanentForskjell)\n            .filtrer { fastsatt(permanentForskjellstype) erLik \"positivSkattekostnad\" }\n            .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n    \n        val negativSkattekostnadPermanentForskjell = naeringsspesifikasjon\n            .forForekomsterAv(permanentForskjell)\n            .filtrer { fastsatt(permanentForskjellstype) erLik \"negativSkattekostnad\" }\n            .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, sumSkattekostnad))\n            .utslagFor {\n                hvis(beloepSomTall erUlik (positivSkattekostnadPermanentForskjell - negativSkattekostnadPermanentForskjell)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er avvik mellom sum skattekostnad i resultatregnskapet og tilbakeført skattekostnad i permanente forskjeller.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_ÅRSRESULTAT_EGENKAPITALAVSTEMMING",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når\n        // kontrollen medfører merknad i valideringstjenesten\n        val aarsresultatIVirksomheten = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, aarsresultat))\n            .summer { beloepSomTall }\n    \n        val harFullRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"fullRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(egenkapitalavstemming)\n            .utslagFor {\n                val oppgittOverskudd = forForekomsterAv(egenkapitalendring)\n                    .filtrer { fastsatt(egenkapitalendringstype) erLik \"aaretsOverskudd\" }\n                    .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n    \n                val oppgittUnderskudd = forForekomsterAv(egenkapitalendring)\n                    .filtrer { fastsatt(egenkapitalendringstype) erLik \"aaretsUnderskudd\" }\n                    .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n    \n                val oppgittOverskuddEllerUnderskudd = oppgittOverskudd - oppgittUnderskudd\n                val avvikIVisning = aarsresultatIVirksomheten - oppgittOverskuddEllerUnderskudd\n    \n                hvis(harFullRegnskapspliktEllerBegrensetRegnskapsplikt og (aarsresultatIVirksomheten erUlik oppgittOverskuddEllerUnderskudd)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1,\n                        Avviksbeloep settesTil avvikIVisning\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er avvik mellom årsresultat og årets overskudd eller årets underskudd i egenkapitalavstemmingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_BARE_PERSONINNTEKT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag når personinntekt er beregnet uten at det er oppgitt beløp i feltet for skattemessig resultat tilordnet innehaver\n        // kontrollen avviser innleveringen\n        val harPersoninntekt = naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .hvorMinstEnForekomst { aaretsBeregnedePersoninntektFoerFordelingOgSamordning.beloepSomTall erStørreEnn 0 }\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .utslagFor {\n                hvis((harPersoninntekt) og (fordeltSkattemessigResultatEtterKorreksjon.beloepSomTall ikkeEr oppgitt)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, faktiskFeil, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har lagt inn personinntekt. Da må du også legge inn næringsinntekt.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_BEREGNET_PERSONINNTEKT_MANGLER",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når det er rapportert \"skattemessig resultat for næring etter korreksjon\" uten at det også er rapportert \"årets beregnede personinntekt\"\n        // kontrollen gir merknad i valideringstjenesten\n        val harPersoninntekt = naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .filtrer { (fastsatt(aaretsBeregnedePersoninntektFoerFordelingOgSamordning.beloepSomTall) er oppgitt) }\n            .verdierFor { identifikatorForFordeltBeregnetPersoninntekt }\n    \n        val harNæringsinntekt = naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .hvorMinstEnForekomst {\n                (identifikatorForFordeltBeregnetPersoninntekt finnesIkkeBlant (harPersoninntekt)) og\n                    (fordeltSkattemessigResultatEtterKorreksjon.beloepSomTall er oppgitt)\n            }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n                hvis(harNæringsinntekt) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Legg inn personinntekt, også dersom den er 0.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_BEREGNET_PERSONINNTEKT_ULIK_TRYGDEAVGIFTSSATS",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag dersom skattepliktig beregner personinntekt under ett for næringstyper med ulik trygdeavgiftssats\n        // kontrollen gir faktiskFeil\n    \n      naeringsspesifikasjon\n            .utslagFor {\n            val identifikatorHøySats = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n             \t.filtrer{naeringstype.finnesBlant(\n              \t\t\"jordbrukGartneriPelsdyrnaeringMv\",\"reindrift\",\"annenNaering\",\"skiferproduksjon\",\"skogbruk\")}\n    .verdierFor{fastsatt(identifikatorForFordeltBeregnetPersoninntekt)}\n    \n            val identifikatorMellomSatsFamiliebarnehage = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n              \t.filtrer{naeringstype erLik \"familiebarnehageIEgetHjem\"}\n              \t.filtrer{fastsatt(identifikatorForFordeltBeregnetPersoninntekt).finnesBlant(identifikatorHøySats)}\n    .verdierFor{fastsatt(identifikatorForFordeltBeregnetPersoninntekt)}\n    \n            val identifikatorMellomSatsFisk = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n              \t.filtrer{naeringstype erLik \"fiskeOgFangst\"}\n              \t.filtrer{fastsatt(identifikatorForFordeltBeregnetPersoninntekt).finnesBlant(identifikatorHøySats)}\n    .verdierFor{fastsatt(identifikatorForFordeltBeregnetPersoninntekt)}\n    \n         hvis((identifikatorMellomSatsFamiliebarnehage.antall erStørreEnn 0) eller\n              (identifikatorMellomSatsFisk.antall erStørreEnn 0)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, faktiskFeil, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Personinntekt fra fiske og fangst eller familiebarnehage har lavere trygdeavgiftssats og kan ikke beregnes under ett med andre næringstyper. ID-nummer for personinntekten må endres.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_BRUK_AV_PRIVATBIL",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig krever fradrag for kostnader ved bruk av privatbil i næring i post 7080, utover det maksimale fradragsbeløpet\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n            .forForekomsterAv(kostnad)\n            .utslagFor {\n                hvis((type erLik \"7080\") og (beloepSomGruppe.beloepSomTall erStørreEnn 21000)) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har krevd fradrag for kostnader ved bruk av privatbil i næring som overstiger maksbeløpet. Bruker du privatbil mer enn 6 000 kilometer i året, skal bilen som hovedregel tas inn i regnskapet. <a href=\"https://www.skatteetaten.no/bedrift-og-organisasjon/skatt/skattemelding-naringsdrivende/fradrag/fradragsveiviser-for-enk/bil/bade-privat-og-i-naring/yrkesbil/\" target=\"_blank\">Les mer om hvordan dette gjøres her.</a>",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_DOBBELTFØRING_KOMPENSASJONSORDNINGEN",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når beløp i felt \"3410 Tilskudd kompensasjonsordningen\" i NSP er større enn eller lik felt \"Kompensasjon for tapt inntekt utbetalt fra NAV\" (preutfylt) i SME\n        // kontrollen gir merknad i valideringstjenesten\n        val kompensasjonISkattemeldingen = skattemelding\n      \t\t.forForekomsterAv(sti(oppgavegiver, sykepengerOgAnnenInntektMvFraOppgavegiver))\n            .filtrer { fastsatt(behandlingsart) erLik \"KOMP_PERS_INNT\" }\n            .summer { beloepSomGruppe.beloepSomTall }\n    \n      \tnaeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftsinntekt, annenDriftsinntekt))\n            .utslagFor {\n                val kompensasjonINæringsspesifikasjon = forForekomsterAv(inntekt)\n            \t\t.filtrer { fastsatt(type) erLik \"3410\" }\n            \t\t.summer { beloepSomGruppe.beloepSomTall }\n    \n                val avviksbeloepKompensasjon = kompensasjonINæringsspesifikasjon - kompensasjonISkattemeldingen\n    \n                hvis((kompensasjonINæringsspesifikasjon erStørreEnnEllerLik kompensasjonISkattemeldingen) og (avviksbeloepKompensasjon erStørreEnn 0)){\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                      \tkortTypeReferanse settesLik \"tilskudd\",\n                        Avviksbeloep settesTil avviksbeloepKompensasjon\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Kontroller at kompensasjon for tapt inntekt fra NAV ikke er ført i post 3410 i næringsspesifikasjonen. Beløpet er forhåndsutfylt i skattemeldingen din.  ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_DOKUMENTASJON_EROVERSTYRT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        //kontrollen gir merknad med anbefalning om å legge ved vedlegg dersom skattyter har overstyrt et eller flere felt i næringsspesifikasjonen\n        //kontrollen gir ikke utslag når felter i temaet \"samletGjeldOgFormuesobjekter\" er overstyrt\n        //kontrollen gir merknad i SME\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(\n                gruppe(\n                    spesifikasjonAvAnleggsmiddel,\n                    spesifikasjonAvOmloepsmiddel,\n                    beregnetNaeringsinntekt,\n                    fordeltBeregnetNaeringsinntekt,\n                    fordeltBeregnetPersoninntekt,\n                    egenkapitalavstemming,\n                    skogbruk\n                )\n            )\n            .forAlleForekomster\n            .utslagFor {\n    \n                hvis((beloepSomTall er oppgitt) og (erOverstyrt erLik true))\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadInformasjon, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Ett eller flere beregnede felt i næringsspesifikasjonen er overstyrt. Vi oppfordrer til å laste opp dokumentasjon med forklaring til overstyrt felt. Denne lastes opp i tilknytning til feltet som er overstyrt.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_DRIFTSTID_FISKE",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig ikke har oppgitt antall dager ombord fiskebåt\n        // kontrollen gir merknad i SME\n        val antallDagerOmbordFinnesIkke = skattemelding\n            .forForekomsterAv(saerskiltFradragForFiskereOgFangstfolk)\n            .hvorMinstEnForekomst { driftstidIFiskeOgFangst ikkeEr oppgitt }\n    \n        val næringsinntektErSkattefri = skattemelding\n            .forForekomsterAv(grunnlagKnyttetTilLottaker)\n            .hvorMinstEnForekomst {\n                (naeringsinntektForLottaker er oppgitt) og\n                    (fastsatt(naeringsinntektForLottaker.trygdeEllerSkattemessigUnntak).finnesBlant(\n                        \"skattefriUtenTrygdeavgiftsplikt\",\n                        \"skattefriMedTrygdeavgiftsplikt\"\n                    ))\n            }\n    \n        skattemelding\n            .forForekomsterAv(saerskiltFradragForFiskereOgFangstfolk)\n            .utslagFor {\n                val harIkkeVilkårstype = harIngenForekomsterDer{vilkaarstype er oppgitt}\n    \n              \thvis(\n                    ((grunnlagForBeregningAvSaerskiltFradragForFiskereOgFangstfolk.beloepSomTall erStørreEnn 0) og\n                     antallDagerOmbordFinnesIkke og harIkkeVilkårstype) og\n                  \tikke(næringsinntektErSkattefri)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadInformasjon, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har lagt inn inntekter fra fiske og fangst. For å få fradrag må du også legge inn driftstid i fiske og fangst. Dette gjør du ved å velge \"Åpne og endre\" og \"Legg til oppdragsgiver og dager om bord\". Dersom antall dager om bord er mindre enn 130, og du likevel har rett på fradraget, må du også angi årsak i feltet \"Vilkår for krav på fradrag for fiske og fangst når kravet til driftstid ikke er oppfylt\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_EKTEFELLEFORDELING_UGIFT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) \n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n       \n        //kontrollen gir utslag dersom skattepliktig er ugift og rapporterer mindre enn 100 % av næringsinntekten og/eller personinntekten fra næringsspesifikasjonen\n        //kontrollen gir validering i SME\n    \n        val erGift = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .forForekomsterAv(sti(personligSkattesubjekt, sambeskatningMedAnnenPart))\n            .hvorMinstEnForekomst { sambeskatningsrolle erLik \"ektefelle\" }\n    \n        val harEktefelleSaerbo = opplysningerOmSkattesubjektDokument\n            .forForekomsterAv { opplysningerOmSkattesubjekt }\n            .forForekomsterAv { relasjonTilAnnenPart }\n            .hvorMinstEnForekomst { fastsatt(subjektetsRelasjonTilAnnenPart) erLik \"ektefelleSaerbo\" }\n    \t\n      \tval andelPersoninntektUnder100 = naeringsspesifikasjon \n      \t\t.forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .hvorMinstEnForekomst{andelAvPersoninntektTilordnetInnehaver erUlik 100}\n                    \n        naeringsspesifikasjon\n      \t\t.forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .utslagFor {\n                  \n                hvis(ikke(erGift) og ikke(harEktefelleSaerbo) og (andelPersoninntektUnder100 eller (andelAvFordeltSkattemessigResultatTilordnetInnehaver erUlik 100))\n                )\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadInformasjon\n                    )\n                }\n            }\n    }\n\n\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "Det er bare mulig å fordele nærings- og personinntekt til ektefelle, meldepliktig samboer eller registrert partner. Dersom du ikke skal fordele en andel av nærings- og personinntekt til ektefelle, registrert partner eller meldepliktig samboer, må du endre \"Min andel av næringsinntekten (i prosent)\" og \"Min andel av personinntekten (i prosent)\" til 100.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_EKTEFELLE_MANGLER_NÆRINGSINNTEKT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattyter rapporterer personinntekt fra ektefelle, men ikke også næringsinntekt\n        // kontrollen gir merknad i SME\n    \n        skattemelding\n            .forForekomsterAv(naeringsinntektMvFordeltFraEktefelle)\n            .utslagFor {\n                hvis((personinntekt.beloepSomTall er oppgitt) og (naeringsinntektSomGruppe.beloepSomTall ikkeEr oppgitt)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har lagt inn din andel av personinntekten. Da må du også legge inn din andel av næringsinntekten.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_EKTEFELLE_MANGLER_PERSONINNTEKT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        //Kontrollen gir utslag når det er oppgitt beløp på feltet \"min andel av overskudd\" i kortet \"Næringsinntekt overført fra ektefelle, registrert partner eller\n        //meldepliktig samboer\", og feltet \"personinntekt før fremføring\" er blankt.\n        //kontrollen gir merknad i SME\n    \n        skattemelding\n            .forForekomsterAv(naeringsinntektMvFordeltFraEktefelle)\n            .utslagFor {\n                hvis(\n                    ((naeringsinntektSomGruppe.beloepSomTall er oppgitt) eller (underskuddSomGruppe.beloepSomTall er oppgitt)) og (samordnetPersoninntekt.personinntektFoerFremfoering.beloepSomTall ikkeEr oppgitt)\n    \n                ) {\n                    betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har oppgitt din andel av overskudd overført fra ektefelle, registrert partner eller meldepliktig samboer. Da må du også fylle ut feltet \"Personinntekt før fremføring\".",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_FEIL_ANLEGGSMIDDELKOMPONENT_IFRSFORETAK",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    {\n    \n     // Kontrollen gir utslag dersom skattepliktig ikke er IFRS\n     // og rapporterer anleggsmiddelkomponent for IFRS-foretak i naeringsspesifikasjon\n      naeringsspesifikasjon\n         .utslagFor {\n    \n            val harIkkeRegeltypeIFRSforetak = forForekomsterAv(virksomhet)\n              .hvorMinstEnForekomst{regeltypeForAarsregnskap.finnesIkkeBlant(\"ifrs\",\"forenkletIfrs\")}\n    \n          val harAnleggsmiddelkomponentForIFRSForetak = forForekomsterAv(sti(balanseregnskap,annenSpesifikasjonAvBalanseregnskap,anleggsmiddelkomponentForIFRSForetak))\n             .hvorMinstEnForekomst{type er oppgitt}\n    \n    \n            hvis( harIkkeRegeltypeIFRSforetak og harAnleggsmiddelkomponentForIFRSForetak)\n           {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil)\n        }\n    }\n    }",
      "hjelpetekstSME": "Det er lagt inn spesifikasjon av anleggsmiddelkomponent som kun IFRS-foretak har lov til å rapportere.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_ANLEGGSMIDDELTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold })\n    {\n        val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n      \tval harIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype erLik \"ingenRegnskapsplikt\" }\n    \n        val harFeilAnleggsmiddelTypeForIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant( \"1350\", \"1360\",)\n            }\n        val harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant (\"ingenRegnskapsplikt\",\"begrensetRegnskapsplikt\") }\n    \n        val harFeilAnleggsmiddelTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant(\"1070\", \"1180\", \"1312\", \"1313\", \"1320\", \"1331\", \"1332\", \"1340\", \"1395\")\n            }\n        val harFullRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {regnskapspliktstype.finnesBlant (\"fullRegnskapsplikt\",\"begrensetRegnskapsplikt\") }\n    \n        val harFeilAnleggsmiddelTypeForFullRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type erLik \"1140\"\n            }\n      \tval harFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {regnskapspliktstype erLik \"fullRegnskapsplikt\"}\n    \n        val harFeilAnleggsmiddelTypeForFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant(\"1295\", \"1296\", \"1298\")\n            }\n        // Kontrollen gir utslag dersom skattyter har regnskapsplikttype 1, 2 eller 5\n        // Sammen med minst en av de nevnte typene anleggsmiddel\n        naeringsspesifikasjon utslagFor hvis( harGyldigVirksomhetstype og\n            (harIngenRegnskapsplikt og harFeilAnleggsmiddelTypeForIngenRegnskapsplikt) eller\n                (harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilAnleggsmiddelTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt) eller\n                (harFullRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilAnleggsmiddelTypeForFullRegnskapspliktEllerBegrensetRegnskapsplikt) eller\n                (harFullRegnskapsplikt og harFeilAnleggsmiddelTypeForFullRegnskapsplikt)\n    \n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er brukt en anleggsmiddeltype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_ANNENDRIFTSINNTEKTSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n    \n      \tval harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\")\n            }\n    \n        val harFeilAnnenDriftsinntektTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftsinntekt.annenDriftsinntektSomGruppe)\n            .forForekomsterAv(inntekt)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"3500\", \"3850\", \"3870\", \"3880\", \"3885\")\n            }\n    \n        val harFullRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                regnskapspliktstype.finnesBlant(\"fullRegnskapsplikt\", \"begrensetRegnskapsplikt\")\n            }\n    \n        val harFeilAnnenDriftsinntektTypeForFullRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftsinntekt.annenDriftsinntektSomGruppe)\n            .forForekomsterAv(inntekt)\n            .hvorMinstEnForekomst {\n                type erLik \"3650\"\n            }\n    \n        val harFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                regnskapspliktstype erLik \"fullRegnskapsplikt\"\n            }\n    \n        val harFeilAnnenDriftsinntektTypeForFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftsinntekt.annenDriftsinntektSomGruppe)\n            .forForekomsterAv(inntekt)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"3890\", \"3895\", \"3910\")\n            }\n    \n        // kontrollen kan gi utslag dersom skattyter har regnskapsplikttype 1, 2 eller 5\n        // sammen med minst en av de nevnte typene av annen driftsinntekt\n        naeringsspesifikasjon utslagFor hvis(harGyldigVirksomhetstype og\n            (harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilAnnenDriftsinntektTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt) eller\n                (harFullRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilAnnenDriftsinntektTypeForFullRegnskapspliktEllerBegrensetRegnskapsplikt) eller\n                (harFullRegnskapsplikt og harFeilAnnenDriftsinntektTypeForFullRegnskapsplikt)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er brukt en driftsinntektstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_ANNENDRIFTSKOSTNADSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n      \tval harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n        val harFeilAnnenDriftskostnadTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n            .forForekomsterAv(kostnad)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"6050\", \"7370\", \"7440\", \"7490\", \"7880\", \"7885\")\n            }\n    \n        val harFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype erLik \"fullRegnskapsplikt\" }\n    \n        val harFeilAnnenDriftskostnadTypeForFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n            .forForekomsterAv(kostnad)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"7350\", \"7400\", \"7420\", \"7890\", \"7897\", \"7910\", \"7911\")\n            }\n    \n        // Kontrollen kan gi utslag dersom skattyter kombinerer regnskapsplikttype og type egenkapital som ikke er gyldig\n        naeringsspesifikasjon \n      \t.utslagFor {\n      \t\thvis(harGyldigVirksomhetstype og\n            (harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilAnnenDriftskostnadTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt) eller\n                                (harFullRegnskapsplikt og harFeilAnnenDriftskostnadTypeForFullRegnskapsplikt)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }}",
      "hjelpetekstSME": "Det er brukt en driftskostnadstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_BANKOGFORSIKRING_IKKE_KAN_OMKLASSIFISERES",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    {\n        val harKorrektVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\"livsforsikringsforetakOgPensjonskasse\",\"skadeforsikringsforetak\")}\n    \n        val harInntektEllerKostnadSomIkkeKanOmklassifiseres = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, bankOgForsikringsinntektEllerKostnadSomIkkeBlirOmklassifisertTilResultatet))\n            .forForekomsterAv(inntektEllerKostnad)\n        \t.hvorMinstEnForekomst{type.finnesBlant(\"8.91.0.10.00\",\"8.91.0.30\",\"8.91.0.30.00\",\"8.91.0.60\",\"8.91.0.60.00\",\n                                                   \"8.91.0.70.00\",\"8.91.0.71\",\"8.91.0.72\",\"8.91.0.80\")}\n    \n        // Kontrollen gir utslag dersom annen virksomhet enn livs- og skadeforsikringsforetak rapporterer inntekt eller kostnad som ikke kan bli omklassifisert \n        naeringsspesifikasjon utslagFor hvis( \n            (ikke(harKorrektVirksomhetstype) og harInntektEllerKostnadSomIkkeKanOmklassifiseres)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er lagt inn bank og forsikringsinntekt eller kostnad som ikke blir omklassifisert til resultatet. Det er kun livsforsikringsforetak og Pensjonskasse, og skadeforsikringsforetak har lov til å rapportere dette.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_BANKOGFORSIKRING_KAN_OMKLASSIFISERES",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    {\n        val harKorrektVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\"livsforsikringsforetakOgPensjonskasse\",\"skadeforsikringsforetak\")}\n    \n        val harInntektEllerKostnadSomKanOmklassifiseres = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, bankOgForsikringsinntektEllerKostnadSomKanBliOmklassifisertTilResultatet))\n            .forForekomsterAv(inntektEllerKostnad)\n        \t.hvorMinstEnForekomst{type.finnesBlant(\"8.92.0.20\",\"8.92.0.20.00\",\"8.92.0.21\",\"8.92.0.40\",\"8.92.0.40.00\",\"8.92.0.50.00\",\n                                                   \"8.92.0.60\",\"8.92.0.60.00\",\"8.92.0.70\",\"8.92.0.70.00\",\"8.92.0.80\")}\n    \n        // Kontrollen gir utslag dersom annen virksomhet enn livs- og skadeforsikringsforetak rapporterer inntekt eller kostnad som kan bli omklassifisert \n        naeringsspesifikasjon utslagFor hvis( \n            (ikke(harKorrektVirksomhetstype) og harInntektEllerKostnadSomKanOmklassifiseres)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er lagt inn bank og forsikringsinntekt eller kostnad som kan bli omklassifisert til resultatet. Det er kun livsforsikringsforetak og Pensjonskasse, og skadeforsikringsforetak som har lov til å rapportere dette.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_BANK_ENDRING_EGENKAPITAL",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    {\n        val harVirksomhetstypeBankFinansieringsforetak = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype erLik \"bankOgFinansieringsforetak\"}\n    \n        val harEndringIEgenkapital = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, endringIEgenkapitalInnenBankOgForsikring))\n            .forForekomsterAv(endringsbeloep)\n        \t.hvorMinstEnForekomst{type.finnesBlant(\"9.01.0.00.00\",\"9.03.0.10.00\",\"9.03.0.90.00\",\"9.05.9.21.00\",\"9.05.9.25.00\",\"9.08.0.10.00\",\n                                                   \"9.08.0.40.00\",\"9.08.0.50.00\",\"9.08.0.60.10\",\"9.08.0.60.20\",\"9.08.0.70.00\",\"9.08.0.90.00\")}\n    \n        // Kontrollen gir utslag dersom annen virksomhet enn bank og finansieringsforetak rapporterer endring i egenkapital innen bank og forsikring \n        naeringsspesifikasjon utslagFor hvis( \n            (ikke(harVirksomhetstypeBankFinansieringsforetak) og harEndringIEgenkapital)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er lagt inn endring i egenkapital innen bank og forsikring som kun bank og finansieringsforetak har lov til å rapportere.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_EGENKAPITALTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n      \tval harBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                regnskapspliktstype erLik \"begrensetRegnskapsplikt\"\n            }\n    \n        val harFeilEgenkapitalTypeForBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(balanseregnskap.gjeldOgEgenkapital.egenkapitalSomGruppe)\n            .forForekomsterAv(kapital)\n            .hvorMinstEnForekomst {\n                type.erLik(\"2080\")\n            }\n        val harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\")\n            }\n    \n        val harFeilEgenkapitalTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(balanseregnskap.gjeldOgEgenkapital.egenkapitalSomGruppe)\n            .forForekomsterAv(kapital)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"2010\", \"2020\", \"2030\", \"2043\", \"2045\", \"2055\", \"9.21.11\", \"9.21.12\", \"9.21.30\", \"9.21.40\", \"9.23.00\",\n                                 \"9.23.20\", \"9.23.30\", \"9.23.40\", \"9.25.00\", \"9.26.00\", \"9.28.31\", \"9.28.33\", \"9.28.60\", \"9.28.76\",\n                                 \"9.28.77\", \"9.28.90\", \"9.28.99\")\n            }\n        val harFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                regnskapspliktstype erLik \"fullRegnskapsplikt\"\n            }\n    \n        val harFeilEgenkapitalTypeForFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(balanseregnskap.gjeldOgEgenkapital.egenkapitalSomGruppe)\n            .forForekomsterAv(kapital)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"2095\", \"2096\", \"2097\", \"2098\", \"9.21.11\", \"9.21.12\", \"9.21.30\", \"9.21.40\", \"9.23.00\", \"9.23.20\", \"9.23.30\", \n                                 \"9.23.40\", \"9.25.00\", \"9.26.00\", \"9.28.31\", \"9.28.33\", \"9.28.60\", \"9.28.76\", \"9.28.77\", \"9.28.90\", \"9.28.99\")\n            }\n    \n        // Kontrollen kan gi utslag dersom skattyter kombinerer regnskapsplikttype og type egenkapital som ikke er gyldig\n        naeringsspesifikasjon utslagFor hvis( harGyldigVirksomhetstype og\n            (harBegrensetRegnskapsplikt og harFeilEgenkapitalTypeForBegrensetRegnskapsplikt) eller\n                (harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilEgenkapitalTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt) eller\n                (harFullRegnskapsplikt og harFeilEgenkapitalTypeForFullRegnskapsplikt)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Du har brukt en egenkapitalstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_EIENDELSTYPE_BANK_FORSIKRING",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    {\n        val harVirksomhetstypeBankFinansieringsforetak = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype erLik \"bankOgFinansieringsforetak\"}\n    \n        val harFeilEiendelstypeForBankFinansieringsforetak = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, balanseverdiForBankOgForsikringseiendel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant(\"2.20.80\",\"2.30.00\",\"3.51.90\",\"3.56.00\",\"3.60.00\",\"3.70.00\",\"4.89.10\")\n            }\n        val harVirksomhetstypeLivsforsikringPensjonskasse = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { virksomhetstype erLik \"livsforsikringsforetakOgPensjonskasse\" }\n    \n        val harFeilEiendelstypeForLivsforsikringPensjonskasse = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, balanseverdiForBankOgForsikringseiendel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant(\"2.30.10\", \"2.30.40\", \"2.30.91\", \"2.30.92\", \"3.51.11\", \"3.51.15\", \"3.51.19\", \"3.51.30\", \"3.51.50\",\n                                 \"3.56.10\",\"3.56.30\",\"3.56.50\",\"4.89.70\",\"5.91.50\")\n            }\n        val harVirksomhetstypeSkadeforsikring = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {virksomhetstype erLik \"skadeforsikringsforetak\"}\n    \n        val harFeilEiendelstypeForSkadeforsikring = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, balanseverdiForBankOgForsikringseiendel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type \n              \t\t.finnesBlant(\"2.30.00\", \"2.30.10\", \"3.51.11\", \"3.51.15\", \"3.51.19\", \"3.51.30\", \"3.51.50\",\n                                 \"3.56.10\",\"3.56.30\",\"3.56.50\",\"3.60.00\",\"4.89.70\",\"5.91.50\")\n            }\n    \n        // Kontrollen gir utslag dersom skattyter rapporterer ugyldig balanseverdi for bank og forsikringseiendel \n        naeringsspesifikasjon utslagFor hvis( \n            (harVirksomhetstypeBankFinansieringsforetak og harFeilEiendelstypeForBankFinansieringsforetak) eller\n                (harVirksomhetstypeLivsforsikringPensjonskasse og harFeilEiendelstypeForLivsforsikringPensjonskasse) eller\n                (harVirksomhetstypeSkadeforsikring og harFeilEiendelstypeForSkadeforsikring)     \n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er brukt eiendelstype som ikke er forenelig med eiendelstypen for bank og forsikring.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_FINANSIELT_DERIVAT",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    {\n        val harVirksomhetstypeForForsikring = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\"livsforsikringsforetakOgPensjonskasse\", \"skadeforsikringsforetak\")}\n    \n        // Kontrollen gir utslag dersom skattyter rapporterer konto for derivater som kun forsikringsforetak har lov til å rapportere. \n    \n        naeringsspesifikasjon \n       .utslagFor {\n       val harfinasiellderivat= forForekomsterAv(gruppe(sti(balanseregnskap, annenSpesifikasjonAvBalanseregnskap, finansieltDerivatSomGjeldEllerAvsetning),\n                                                                   sti(balanseregnskap, annenSpesifikasjonAvBalanseregnskap,finansieltDerivatSomEiendel)))\n      .hvorMinstEnForekomst{finansieltDerivattype er oppgitt}\n      \thvis(ikke(harVirksomhetstypeForForsikring) og harfinasiellderivat \n                 ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil\n    \n            )\n        }\n    }\n    }",
      "hjelpetekstSME": "Det er lagt inn kontoer for derivater som kun forsikringsforetak har lov til å rapportere.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_FINANSINNTEKTSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n      \tval harIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype erLik \"ingenRegnskapsplikt\" }\n    \n        val harFeilFinansinntektTypeForIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n            .forForekomsterAv(inntekt)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"8005\", \"8050\", \"8074\", \"8090\")\n            }\n    \n        val harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n        val harFeilFinansinntektTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n            .forForekomsterAv(inntekt)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"8030\", \"8080\")\n            }\n    \n        val harFullRegnskapspliktEllerIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"fullRegnskapsplikt\") }\n    \n        val harFeilFinansinntektTypeForFullRegnskapspliktEllerIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n            .forForekomsterAv(inntekt)\n            .hvorMinstEnForekomst {\n                type erLik \"8091\"\n            }\n    \n        // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1, 2 eller 5\n        // sammen med minst en av de nevnte typene av finansinntekt\n        naeringsspesifikasjon utslagFor hvis(harGyldigVirksomhetstype og\n            (harIngenRegnskapsplikt og harFeilFinansinntektTypeForIngenRegnskapsplikt) eller\n                (harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilFinansinntektTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt) eller\n                (harFullRegnskapspliktEllerIngenRegnskapsplikt og harFeilFinansinntektTypeForFullRegnskapspliktEllerIngenRegnskapsplikt)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er brukt en finansinntektstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_FINANSKOSTNADSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n         val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n      \tval harIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype erLik \"ingenRegnskapsplikt\" }\n    \n        val harFeilFinanskostnadTypeForIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, finanskostnad))\n            .forForekomsterAv(kostnad)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"8006\", \"8150\", \"8174\")\n            }\n    \n        val harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n        val harFeilFinanskostnadTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, finanskostnad))\n            .forForekomsterAv(kostnad)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"8100\", \"8115\", \"8130\")\n            }\n    \n        // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n        // sammen med minst en av de nevnte typene av finanskostnad\n        naeringsspesifikasjon utslagFor hvis(harGyldigVirksomhetstype og\n            (harIngenRegnskapsplikt og harFeilFinanskostnadTypeForIngenRegnskapsplikt) eller\n                (harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilFinanskostnadTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er brukt en finanskostnadstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_GJELD_BANKOGFORSIKRING",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    {\n        val harVirksomhetstypeBankFinansieringsforetak = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype erLik \"bankOgFinansieringsforetak\"}\n    \n        val harFeilGjeldstypeForBankFinansieringsforetak = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, gjeldInnenBankOgForsikring))\n            .forForekomsterAv(gjeld)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant(\"8.39.00\", \"8.61.00\", \"8.62.00\", \"8.63.00\", \"8.64.00\", \"8.65.00\", \"8.66.00\", \"8.67.00\", \"8.68.00\", \"8.69.00\", \"8.71.00\", \"8.73.00\", \"8.78.00\")\n            }\n        val harVirksomhetstypeLivsforsikringPensjonskasse = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { virksomhetstype erLik \"livsforsikringsforetakOgPensjonskasse\" }\n    \n        val harFeilGjeldstypeForLivsforsikringPensjonskasse = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, gjeldInnenBankOgForsikring))\n            .forForekomsterAv(gjeld)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant(\"6.16.10\", \"6.16.20\", \"6.17.10\", \"6.18.10\", \"6.18.30\", \"6.18.40\", \"6.18.90\", \"7.30.11\", \"7.30.12\",\n                                 \"7.30.91\",\"7.30.92\",\"7.82.20\",\"7.82.82\",\"7.86.10\", \"7.86.30\", \"7.86.50\",\"7.87.00\",\"8.39.10\",\"8.39.90\",\"8.71.00\", \"8.73.00\", \"8.78.00\", \"8.65.00\")\n            }\n        val harVirksomhetstypeSkadeforsikring = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {virksomhetstype erLik \"skadeforsikringsforetak\"}\n    \n        val harFeilGjeldstypeForSkadeforsikring = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, gjeldInnenBankOgForsikring))\n            .forForekomsterAv(gjeld)\n            .hvorMinstEnForekomst {\n                type \n              \t\t.finnesBlant(\"6.16.10\", \"6.16.20\", \"6.17.10\", \"6.18.10\", \"6.18.30\", \"6.18.40\", \"6.18.90\", \"7.30.11\", \"7.30.12\",\n                                 \"7.30.91\",\"7.30.92\",\"7.82.20\", \"7.82.20\",\"7.82.82\", \"7.86.10\", \"7.86.30\", \"7.86.50\",\"7.87.00\",\"8.39.10\",\"8.39.90\", \"8.61.00\", \"8.62.00\", \"8.63.00\",\n                                 \"8.64.00\", \"8.65.00\", \"8.66.00\", \"8.67.00\", \"8.68.00\", \"8.69.00\")\n            }\n    \n        // Kontrollen gir utslag dersom skattyter rapporterer ugyldig gjeldstype for bank og forsikringseiendel \n        naeringsspesifikasjon \n      \t.utslagFor {\n      \thvis( \n            (harVirksomhetstypeBankFinansieringsforetak og harFeilGjeldstypeForBankFinansieringsforetak) eller\n                (harVirksomhetstypeLivsforsikringPensjonskasse og harFeilGjeldstypeForLivsforsikringPensjonskasse) eller\n                (harVirksomhetstypeSkadeforsikring og harFeilGjeldstypeForSkadeforsikring)     \n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }\n    }",
      "hjelpetekstSME": "Det er brukt en gjeldstype som ikke er forenelig med gjeldstypen for bank og forsikring.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_INNTEKT_KOSTNAD_BANKFORSIKRING",
      "kontrollformel": "sakstype(Upersonlig)\n      .kontekst(ValideringSkattepliktig)\n      {                                     \n    val gyldigUnderkodeliste = resultatregnskapOgBalanse_2022\n              .forForekomsterAv{underkodeliste}\n              .filtrer{fastsatt(tekniskNavn).finnesBlant(\"bankOgForsikringskostnad\",\"bankOgForsikringsinntekt\")}\n        \t\t.forForekomsterAv {kode}\n              .filtrer { fastsatt(kodetillegg.virksomhetstype).finnesBlant(\"livsforsikringsforetakOgPensjonskasse\",\"skadeforsikringsforetak\",\"bankOgFinansieringsforetak\")}\n              .verdierFor { tekniskNavn }\n    \n          // Kontrollen gir utslag dersom bank og forsikringsforetak rapporterer kostnadskonto som ikke er gyldig\n          naeringsspesifikasjon \n        \t\t.forForekomsterAv(gruppe(sti(resultatregnskap, driftskostnad, bankOgForsikringskostnad),\n                                      sti(resultatregnskap, driftsinntekt, bankOgForsikringsinntekt)))\n              .forForekomsterAv(gruppe(inntekt,kostnad))\n    \n        \t\t.utslagFor{ \n            \t\thvis((type er oppgitt) og type.finnesBlant(gyldigUnderkodeliste))\n                {\n              \t\tbetjeningsstrategiSettesTil(\n                  \t\tikke,\n                  \t\tfaktiskFeil,\n              )\n          }\n      }}",
      "hjelpetekstSME": "Det er rapportert en inntekts- eller kostnadskonto som ikke er gyldig for virksomhetstypen",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_KONTO_FOR_UTSATT_INNTEKTSFOERING",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    {\n        val harVirksomhetstypeForForsikring = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\"livsforsikringsforetakOgPensjonskasse\", \"skadeforsikringsforetak\")}\n    \n        // Kontrollen gir utslag dersom skattyter rapporterer konto for utsatt inntektsføring på andre foretak enn forsikring. \n    \n        naeringsspesifikasjon \n       .utslagFor {\n       val harkontoforutsattinnteksfoering= forForekomsterAv(sti(balanseregnskap, annenSpesifikasjonAvBalanseregnskap, kontoForUtsattInntektsfoering))\n      .hvorMinstEnForekomst{kontoForUtsattInntektsfoeringSomTekst er oppgitt}\n      \thvis(ikke(harVirksomhetstypeForForsikring) og harkontoforutsattinnteksfoering \n                 ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil\n    \n            )\n        }\n    }\n    }",
      "hjelpetekstSME": "Det er lagt inn balansespesifikasjon for utsatt inntektsføring som kun forsikringsforetak har lov til å rapportere.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_KORTSIKTIGGJELDTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n        .kontekst(ValideringSkattepliktig)\n        .hvis({ naeringsspesifikasjon.harInnhold }) {\n    \n    // Kontrollen gir utslag dersom skattyter rapporterer en kortsiktiggjeldtype som ikke er gyldig for skattyters regnskapsplikttype\n    \n            val harGyldigVirksomhetstype = naeringsspesifikasjon\n          \t\t.forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n                \"enkeltpersonforetak\",\n                \"oevrigSelskap\",\n                \"selskapMedDeltakerfastsetting\")}\n    \n             val harBegrensetRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst {\n                    regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\")\n                }\n    \n             val harFeilKorsiktigGjeldTypeForBegrensetRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, kortsiktigGjeld))\n                .forForekomsterAv(gjeld)\n                .hvorMinstEnForekomst {\n                    type erLik \"2800\"\n                }\n          \tval harIngenRegnskapspliktellerBegrensetRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst {\n                    regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\")\n                }\n    \n            val harFeilKorsiktigGjeldTypeForIngenRegnskapspliktOgBegrensetRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, kortsiktigGjeld))\n                .forForekomsterAv(gjeld)\n                .hvorMinstEnForekomst {\n                    type\n                        .finnesBlant(\"2310\", \"2320\", \"2330\", \"2460\", \"2500\", \"2510\", \"2920\", \"2970\", \"2980\")\n                }\n    \n           naeringsspesifikasjon utslagFor hvis(harGyldigVirksomhetstype og\n                                                (harIngenRegnskapspliktellerBegrensetRegnskapsplikt og harFeilKorsiktigGjeldTypeForIngenRegnskapspliktOgBegrensetRegnskapsplikt) eller\n                                                (harBegrensetRegnskapsplikt og harFeilKorsiktigGjeldTypeForBegrensetRegnskapsplikt)\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesTil Næring\n                )\n            }\n        }",
      "hjelpetekstSME": "Det er brukt en kortsiktige gjeldstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_LANGSIKTIGGJELDTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n        .kontekst(ValideringSkattepliktig)\n        .hvis({ naeringsspesifikasjon.harInnhold }) {\n    \n    // Kontrollen gir utslag dersom skattyter rapporterer en langsiktiggjeldtype som ikke er gyldig for skattyters regnskapsplikttype\n    \n         \tval harGyldigVirksomhetstype = naeringsspesifikasjon\n          \t\t.forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n                \"enkeltpersonforetak\",\n                \"oevrigSelskap\",\n                \"selskapMedDeltakerfastsetting\")}\n    \n            val harRegnskapspliktstypeLikIngenRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst { regnskapspliktstype erLik \"ingenRegnskapsplikt\" }\n    \n            val harFeilLangsiktigGjeldType = naeringsspesifikasjon\n                .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, langsiktigGjeld))\n                .forForekomsterAv(gjeld)\n                .hvorMinstEnForekomst {\n                    type\n                        .erLik(\"2250\")\n                }\n            val harRegnskapspliktstypeLikIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n            val harFeilAnleggsmiddelTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, langsiktigGjeld))\n                .forForekomsterAv(gjeld)\n                .hvorMinstEnForekomst {\n                    type\n                        .finnesBlant(\"2100\", \"2120\", \"2130\", \"2160\", \"2180\", \"2200\", \"2210\", \"2260\")\n                }\n    \n            naeringsspesifikasjon utslagFor hvis(\n                (harGyldigVirksomhetstype og (harRegnskapspliktstypeLikIngenRegnskapsplikt og harFeilLangsiktigGjeldType) eller\n                    (harRegnskapspliktstypeLikIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilAnleggsmiddelTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt))\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesTil Næring\n                )\n            }\n        }",
      "hjelpetekstSME": "Det er brukt en langsiktig gjeldstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_LØNNSKOSTNADSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n      \tval harIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype erLik \"ingenRegnskapsplikt\" }\n    \n        val harFeilLoennskostnadTypeForIngenRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftskostnad, loennskostnad))\n            .forForekomsterAv(kostnad)\n            .hvorMinstEnForekomst {\n                type erLik \"5600\"\n            }\n    \n        val harFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype erLik \"fullRegnskapsplikt\" }\n    \n        val harFeilLoennskostnadTypeForFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftskostnad, loennskostnad))\n            .forForekomsterAv(kostnad)\n            .hvorMinstEnForekomst {\n                type erLik \"5950\"\n            }\n    \n        // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 2\n        // sammen med minst en av de nevnte typene av lønnskostnad\n        naeringsspesifikasjon utslagFor hvis( harGyldigVirksomhetstype og \n            (harIngenRegnskapsplikt og harFeilLoennskostnadTypeForIngenRegnskapsplikt) eller\n                (harFullRegnskapsplikt og harFeilLoennskostnadTypeForFullRegnskapsplikt)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er brukt en lønnskostnadstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_MANGLER_AVSKRIVNINGSSATS",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom det mangler avskrivingssats for saldoavskrivninger\n        // kontrollen gir merknadFeil i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis(\n                    (avskrivningssats ikkeEr oppgitt)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det mangler opplysning om avskrivningssats for driftsmiddel som saldoavskrives. Legg inn avskrivningssats i feltet "Sats for avskriving eller inntektsføring (i prosent)". Opplysningen må legges inn for at du skal kunne sende inn skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_MANGLER_LINEÆR_AVSKRIVNING",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom det mangler lineære avskrivning\n        // kontrollen gir merknadFeil i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis(\n                    (aaretsAvskrivning.beloepSomTall ikkeEr oppgitt)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                    )\n                }\n            }\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "Det mangler opplysning om årets avskrivning for driftsmiddel som avskrives lineært. Legg inn årets avskrivning i feltet "Lineær avskrivning". Opplysningen må legges inn for at du skal kunne sende inn skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_MANGLER_SATS_ELLER_INNTEKTSFØRING_SKOG",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom det mangler sats for innteksføring eller innteksfradrag på tømmerkonto\n        // eller sats for inntektsføring av ekstraordinær fordeling\n        // kontrollen gir merknadFeil i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n            .utslagFor {\n              val harEkstraordinærFordeling = forForekomsterAv(sti(ekstraordinaerFordelingAvToemmeravvirkningEtterNaturkatastrofe,inngaaendeVerdiAvToemmeravvirkning))\n              \t.hvorMinstEnForekomst{beloepSomTall er oppgitt}\n              val manglerInntektsføringEkstraordinærFordeling = forForekomsterAv(sti(ekstraordinaerFordelingAvToemmeravvirkningEtterNaturkatastrofe,inntektsfoertBeloepAvToemmeravvirkning))\n              \t.hvorMinstEnForekomst{beloepSomTall er oppgitt}\n                \n                hvis((satsForInntektsfoeringOgInntektsfradrag ikkeEr oppgitt) eller (harEkstraordinærFordeling og ikke(manglerInntektsføringEkstraordinærFordeling))\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                    )\n                }\n            }\n    }\n    \n\n\n\n\n",
      "hjelpetekstSME": "Det mangler opplysning om prosentsats for inntekts- og fradragsføring av tømmerkonto og/eller inntektsført beløp fra ekstraordinær tømmeravvirkning i skogbruk. Legg inn prosentsats i feltet "Sats for føring av inntekt eller fradrag (i prosent)" og/eller inntektsført beløp i feltet "Beløp fra ekstraordinær tømmeravvirkning som skal inntektsføres". Opplysningene må legges inn for at du skal kunne sende inn skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_MANGLER_SATS_GTK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom det mangler sats for inntektsført eller fradragsføring\n        // kontrollen gir merknadFeil i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .utslagFor {\n                hvis(\n                    (satsForInntektsfoeringOgInntektsfradrag ikkeEr oppgitt)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                    )\n                }\n            }\n    }\n",
      "hjelpetekstSME": "Det mangler opplysning om prosentsats for inntekts- og fradragsføring av gevinst- og tapskonto. Legg inn prosentsatsen i feltet "Prosentsats for inntekt eller fradrag". Du må også legge inn hvilken kommune gevinst- og tapskontoen er knyttet til. Opplysningen må legges inn for at du skal kunne sende inn skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_NEGATIV_FORETAKSGJELD",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag når gjennomsnittsverdi av inngående og utgående verdi for foretaksgjeld under spesifikasjonAvSkjermingsgrunnlag er negativ\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(fordeltBeregnetPersoninntekt, spesifikasjonAvSkjermingsgrunnlag))\n            .utslagFor {\n                val inngåendeVerdiForetaksgjeld =\n                    filtrer { fastsatt(skjermingsgrunnlagstype) erLik \"foretaksgjeld\" }\n                        .summer { inngaaendeVerdi.beloepSomTall }\n    \n                val utgåendeVerdiForetaksgjeld =\n                    filtrer { fastsatt(skjermingsgrunnlagstype) erLik \"foretaksgjeld\" }\n                        .summer { utgaaendeVerdi.beloepSomTall }\n    \n                val gjennomsnittsverdiForetaksgjeld =\n                    (inngåendeVerdiForetaksgjeld + utgåendeVerdiForetaksgjeld) / 2\n    \n                hvis(gjennomsnittsverdiForetaksgjeld erMindreEnn 0) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Avviksbeloep settesTil gjennomsnittsverdiForetaksgjeld\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har lagt inn et negativt beløp i feltet for foretaksgjeld til finansinstitusjoner og foretaksgjeld knyttet til mengdegjeldsbrev. Du må endre til null eller et positivt beløp.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_OMLØPSMIDDELTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n        .kontekst(ValideringSkattepliktig)\n        .hvis({ naeringsspesifikasjon.harInnhold }) {\n    \n    // Kontrollen gir utslag dersom skattyter rapporterer en omløpsmiddeltype som ikke er gyldig for skattyters regnskapsplikttype\n    \n         \tval harGyldigVirksomhetstype = naeringsspesifikasjon\n          \t\t.forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n                \"enkeltpersonforetak\",\n                \"oevrigSelskap\",\n                \"selskapMedDeltakerfastsetting\")}\n    \n            val harIngenRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst { regnskapspliktstype erLik \"ingenRegnskapsplikt\" }\n    \n            val harFeilOmloepsmiddelTypeForIngenRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(sti(balanseregnskap, omloepsmiddel, balanseverdiForOmloepsmiddel))\n                .forForekomsterAv(balanseverdi)\n                .hvorMinstEnForekomst {\n                    type erLik \"1895\"\n                }\n          \tval harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n            val harFeilOmloepsmiddelTypeForIngenRegnskapspliktOgBegrensetRegnskapsplikt = naeringsspesifikasjon\n                .forForekomsterAv(sti(balanseregnskap, omloepsmiddel, balanseverdiForOmloepsmiddel))\n                .forForekomsterAv(balanseverdi)\n                .hvorMinstEnForekomst {\n                    type.finnesBlant(\"1490\", \"1501\", \"1560\", \"1840\")\n                }\n    \n    naeringsspesifikasjon utslagFor hvis(harGyldigVirksomhetstype og\n                                \t\t(harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harFeilOmloepsmiddelTypeForIngenRegnskapspliktOgBegrensetRegnskapsplikt) eller\n                                        (harIngenRegnskapsplikt og harFeilOmloepsmiddelTypeForIngenRegnskapsplikt)\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesTil Næring\n                )\n            }\n        }",
      "hjelpetekstSME": "Det er brukt en omløpsmiddeltype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_RESULTATKOMPONENTTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n      \tval harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n        val harResultatForIFRSForetak = naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap)\n            .hvorMinstEnForekomst { sumResultatkomponentForIFRSForetak.beloepSomTall erStørreEnn 0 }\n    \n        // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n        // sammen med minst en av de nevnte typene av skattekostnad\n        naeringsspesifikasjon utslagFor hvis(\n            harGyldigVirksomhetstype og harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og harResultatForIFRSForetak\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er brukt en resultatkomponentstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_SKATTEKOSTNADSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n            \"enkeltpersonforetak\",\n            \"oevrigSelskap\",\n            \"selskapMedDeltakerfastsetting\")}\n    \n      \tval harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n        val harFeilSkattekostnadTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, skattekostnad))\n            .forForekomsterAv(kostnad)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"8300\", \"8321\", \"8322\", \"8323\", \"8324\",\n                                 \"7.80.0.10\", \"7.80.0.10.00\", \"7.80.7.89\", \"7.80.7.89.00\", \"8.91.7.89.00\",\n                                 \"8.91.7.89\", \"8.92.7.89.00\", \"8.92.7.89\")\n            }\n    \n        val harFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype erLik \"fullRegnskapsplikt\"}\n    \n        val harFeilSkattekostnadTypeForFullRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, skattekostnad))\n            .forForekomsterAv(kostnad)\n            .hvorMinstEnForekomst {\n                type.finnesBlant(\"7.80.0.10\", \"7.80.0.10.00\", \"7.80.7.89\", \"7.80.7.89.00\", \"8.91.7.89.00\",\n                                 \"8.91.7.89\", \"8.92.7.89.00\", \"8.92.7.89\")\n            }\n    \n        // kontrollen gir utslag dersom skattyter kombinderer en regnskapsplikttype og type skattekostnad som ikke er gyldig\n        naeringsspesifikasjon utslagFor hvis( harGyldigVirksomhetstype og\n            (harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og\n                harFeilSkattekostnadTypeForIngenRegnskapspliktEllerBegrensetRegnskapsplikt) eller\n            (harFullRegnskapsplikt og harFeilSkattekostnadTypeForFullRegnskapsplikt)\n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesTil Næring\n            )\n        }\n    }",
      "hjelpetekstSME": "Det er brukt en skattekostnadstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FORMUE_OG_GJELD_NÆRINGSEIENDOM",
      "kontrollformel": "sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n    \t\tval partsnr = skattepliktUpersonligGjeldende\n            \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n          // Kontrollen gir utslag dersom selskapet har næringseiendommer \"Anleggsmidler\" på konto 1105 og/eller 1115, og det ikke er beregnet formuesverdi næringseiendom i skattemeldingen\n          //AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n          // kontrollen gir merknad i valideringstjenesten\n    \n    val manglerNæringseiendomUP = skattemeldingUpersonlig\n     \t.harIngenForekomsterDer{\n          \t(fastsatt(formuesgrunnlagIkkeUtleidNaeringseiendomINorge) er oppgitt) og \n          \t(fastsatt(formuesgrunnlagIkkeUtleidNaeringseiendomIUtlandet) er oppgitt) og\n          \t(fastsatt(formuesgrunnlagUtleidNaeringseiendom) er oppgitt) }\n    \n    naeringsspesifikasjon\n    \t.forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n        .forForekomsterAv(balanseverdi)\n    \n        .utslagFor {             \n       \t\thvis((fastsatt(type).finnesBlant(\"1105\",\"1115\")) og (manglerNæringseiendomUP) og\n                           (partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",))\n              ) {\n             betjeningsstrategiSettesTil(\n             ikke, merknadStandard, 1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Det er rapportert bygninger i balansen. Skattemessig verdi av fast eiendom inngår i verdsettingen av selskapets aksjer. Opplysninger om fast eiendom legges til under temaet \"Faste eiendommer\" i skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_FORMUE_OG_GJELD_NÆRINGSEIENDOM_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n    \t\tval partsnr = skattepliktUpersonligGjeldende\n            \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n          // Kontrollen gir utslag dersom selskapet har næringseiendommer \"Anleggsmidler\" på konto 1105 og/eller 1115, og det ikke er beregnet formuesverdi næringseiendom i skattemeldingen\n          //AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n          // kontrollen gir merknad i valideringstjenesten\n    \n    val manglerNæringseiendomUP = skattemeldingUpersonlig\n     \t.harIngenForekomsterDer{\n          \t(fastsatt(formuesgrunnlagIkkeUtleidNaeringseiendomINorge) er oppgitt) og \n          \t(fastsatt(formuesgrunnlagIkkeUtleidNaeringseiendomIUtlandet) er oppgitt) og\n          \t(fastsatt(formuesgrunnlagUtleidNaeringseiendom) er oppgitt) }\n    \n    naeringsspesifikasjon\n    \t.forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n        .forForekomsterAv(balanseverdi)\n    \n        .utslagFor {             \n       \t\thvis((fastsatt(type).finnesBlant(\"1105\",\"1115\")) og (manglerNæringseiendomUP) og\n                                (partsnr.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\",))\n              ) {\n             betjeningsstrategiSettesTil(\n             ikke, merknadIngen, 1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_FORSKJELLER_MIDLERTIDIGE_DRIFTSMIDLER_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)   {\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n                   \n        \t//kontrollen plukker ut skattepliktige der den skattemessige inntektsvirkningen ved avskriving av driftsmidler ikke samsvarer med innrapporterte opplysninger i temaet spesifikasjon av anleggsmidler\n          //AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n          //kontrollen gir merknad i valideringstjenesten\n    \n          naeringsspesifikasjon\n              .utslagFor {\n                   val harFullRegnskapsplikt = forForekomsterAv(virksomhet)\n                 \t\t.hvorMinstEnForekomst {\n                  \t\tregnskapspliktstype erLik \"fullRegnskapsplikt\"\n              \t\t\t}\n    \n                  val erUpSdfEllerEnk = forForekomsterAv(virksomhet)\n                  \t.hvorMinstEnForekomst{virksomhetstype erLik \"enkeltpersonforetak\"}\n    \n                  val SMVerdiSaldoavskrevetAnleggsmiddel = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n                      .summer{(vederlagVedRealisasjonOgUttakInntektsfoertIAar.beloepSomTall) - (aaretsAvskrivning.beloepSomTall) + (aaretsInntektsfoeringAvNegativSaldo.beloepSomTall)}\n    \n                  val SMVerdiLineærtavskrevetAnleggsmiddel = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n                      .summer{(vederlagVedRealisasjonOgUttakInntektsfoertIAar.beloepSomTall) - (aaretsAvskrivning.beloepSomTall)}\n    \n                  val SMVerdiGevinstOgTapskonto = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel,gevinstOgTapskonto))\n                      .summer{(inntektFraGevinstOgTapskonto.beloepSomTall) - (inntektsfradragFraGevinstOgTapskonto.beloepSomTall)}\n    \n                  val RMVerdiDriftsinntekt = forForekomsterAv(sti(resultatregnskap,driftsinntekt,annenDriftsinntektSomGruppe))\n                      .forForekomsterAv(inntekt)\n                      .filtrer{type erLik \"3880\"}\n                      .summer{beloepSomGruppe.beloepSomTall}\n    \n                  val RMVerdiDriftskostnad = forForekomsterAv(sti(resultatregnskap,driftskostnad,annenDriftskostnadSomGruppe))\n                      .forForekomsterAv(kostnad)\n                      .filtrer{type.finnesBlant (\"6000\",\"6050\",\"7880\")}\n                      .summer{beloepSomGruppe.beloepSomTall}\n    \n                  val VerdiMidlertidigeForskjellDriftsmiddel = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"driftsmiddelOgGoodwill\" }\n                      .summer {\n                          ((regnskapsmessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdiForrigeInntektsaar.beloepSomTall)) -\n                              ((regnskapsmessigVerdi.beloepSomTall) - (skattemessigVerdi.beloepSomTall))\n                      }\n    \n                  val VerdiMidlertidigeForskjellerPositivGTK = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"positivSaldoPaaGevinstOgTapskonto\" }\n                      .summer { (skattemessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerNegativGTK = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"negativSaldoPaaGevinstOgTapskonto\" }\n                      .summer { (skattemessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerDifferanseTillegg = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"tilleggForDifferanseMellomBalansefoertOgVirkeligVerdiPaaFusjonsEllerFisjonstidspunktet\" }\n                      .summer { (regnskapsmessigVerdi.beloepSomTall) + (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerDifferanseFradrag = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"fradragForDifferanseMellomBalansefoertOgVirkeligVerdiPaaFusjonsEllerFisjonstidspunktet\" }\n                      .summer { (regnskapsmessigVerdi.beloepSomTall) + (skattemessigVerdi.beloepSomTall) }\n    \n                  val sumSMVerdi =\n                      SMVerdiSaldoavskrevetAnleggsmiddel + SMVerdiLineærtavskrevetAnleggsmiddel + SMVerdiGevinstOgTapskonto\n    \n                  val sumRMVerdi = RMVerdiDriftsinntekt - RMVerdiDriftskostnad\n    \n                  val sumForskjeller =\n                      VerdiMidlertidigeForskjellDriftsmiddel + VerdiMidlertidigeForskjellerPositivGTK - VerdiMidlertidigeForskjellerNegativGTK +\n                          VerdiMidlertidigeForskjellerDifferanseTillegg - VerdiMidlertidigeForskjellerDifferanseFradrag\n    \n                val avvikRMSM = sumSMVerdi - (sumRMVerdi + sumForskjeller)\n    \n                val differanseSMRM = differanse(sumSMVerdi, (sumRMVerdi + sumForskjeller))\n    \n                  hvis(harFullRegnskapsplikt og erUpSdfEllerEnk og (differanseSMRM erStørreEnn 1000) og (partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",)))\n                  {\n                      betjeningsstrategiSettesTil(\n                          ikke,\n                          merknadStandard,\n                          1,\n                      )\n                  }\n              }\n      }\n\n\n\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "Det er avvik mellom skattemessig og regnskapsmessig inntektsvirkning av driftsmidler. Avviket er mellom innrapporterte opplysninger i temaet "driftsmidler" og beregnet endring i midlertidige forskjeller. Kontroller at skattemessig fradrag er riktig.     ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_FORSKJELLER_MIDLERTIDIGE_DRIFTSMIDLER_ENK_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)   {\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n        \t//kontrollen plukker ut skattepliktige der den skattemessige inntektsvirkningen ved avskriving av driftsmidler ikke samsvarer med innrapporterte opplysninger i temaet spesifikasjon av anleggsmidler\n          //AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n          //kontrollen gir ikke merknad i valideringstjenesten\n    \n          naeringsspesifikasjon\n              .utslagFor {\n                   val harFullRegnskapsplikt = forForekomsterAv(virksomhet)\n                 \t\t.hvorMinstEnForekomst {\n                  \t\tregnskapspliktstype erLik \"fullRegnskapsplikt\"\n              \t\t\t}\n    \n                  val erUpSdfEllerEnk = forForekomsterAv(virksomhet)\n                  \t.hvorMinstEnForekomst{\n                        \tvirksomhetstype erLik \"enkeltpersonforetak\" }\n    \n                  val SMVerdiSaldoavskrevetAnleggsmiddel = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n                      .summer{(vederlagVedRealisasjonOgUttakInntektsfoertIAar.beloepSomTall) - (aaretsAvskrivning.beloepSomTall) + (aaretsInntektsfoeringAvNegativSaldo.beloepSomTall)}\n    \n                  val SMVerdiLineærtavskrevetAnleggsmiddel = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n                      .summer{(vederlagVedRealisasjonOgUttakInntektsfoertIAar.beloepSomTall) - (aaretsAvskrivning.beloepSomTall)}\n    \n                  val SMVerdiGevinstOgTapskonto = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel,gevinstOgTapskonto))\n                      .summer{(inntektFraGevinstOgTapskonto.beloepSomTall) - (inntektsfradragFraGevinstOgTapskonto.beloepSomTall)}\n    \n                  val RMVerdiDriftsinntekt = forForekomsterAv(sti(resultatregnskap,driftsinntekt,annenDriftsinntektSomGruppe))\n                      .forForekomsterAv(inntekt)\n                      .filtrer{type erLik \"3880\"}\n                      .summer{beloepSomGruppe.beloepSomTall}\n    \n                  val RMVerdiDriftskostnad = forForekomsterAv(sti(resultatregnskap,driftskostnad,annenDriftskostnadSomGruppe))\n                      .forForekomsterAv(kostnad)\n                      .filtrer{type.finnesBlant (\"6000\",\"6050\",\"7880\")}\n                      .summer{beloepSomGruppe.beloepSomTall}\n    \n                  val VerdiMidlertidigeForskjellDriftsmiddel = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"driftsmiddelOgGoodwill\" }\n                      .summer {\n                          ((regnskapsmessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdiForrigeInntektsaar.beloepSomTall)) -\n                              ((regnskapsmessigVerdi.beloepSomTall) - (skattemessigVerdi.beloepSomTall))\n                      }\n    \n                  val VerdiMidlertidigeForskjellerPositivGTK = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"positivSaldoPaaGevinstOgTapskonto\" }\n                      .summer { (skattemessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerNegativGTK = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"negativSaldoPaaGevinstOgTapskonto\" }\n                      .summer { (skattemessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerDifferanseTillegg = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"tilleggForDifferanseMellomBalansefoertOgVirkeligVerdiPaaFusjonsEllerFisjonstidspunktet\" }\n                      .summer { (regnskapsmessigVerdi.beloepSomTall) + (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerDifferanseFradrag = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"fradragForDifferanseMellomBalansefoertOgVirkeligVerdiPaaFusjonsEllerFisjonstidspunktet\" }\n                      .summer { (regnskapsmessigVerdi.beloepSomTall) + (skattemessigVerdi.beloepSomTall) }\n    \n                  val sumSMVerdi =\n                      SMVerdiSaldoavskrevetAnleggsmiddel + SMVerdiLineærtavskrevetAnleggsmiddel + SMVerdiGevinstOgTapskonto\n    \n                  val sumRMVerdi = RMVerdiDriftsinntekt - RMVerdiDriftskostnad\n    \n                  val sumForskjeller =\n                      VerdiMidlertidigeForskjellDriftsmiddel + VerdiMidlertidigeForskjellerPositivGTK - VerdiMidlertidigeForskjellerNegativGTK +\n                          VerdiMidlertidigeForskjellerDifferanseTillegg - VerdiMidlertidigeForskjellerDifferanseFradrag\n    \n                val avvikRMSM = sumSMVerdi - (sumRMVerdi + sumForskjeller)\n    \n                val differanseSMRM = differanse(sumSMVerdi, (sumRMVerdi + sumForskjeller))\n    \n                  hvis(harFullRegnskapsplikt og erUpSdfEllerEnk og (differanseSMRM erStørreEnn 1000) og\n                              (partsnr.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\",)))\n                  {\n                      betjeningsstrategiSettesTil(\n                          ikke,\n                          merknadIngen,\n                          1,\n                      )\n                  }\n              }\n      }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_FORSKJELLER_MIDLERTIDIGE_DRIFTSMIDLER_UP",
      "kontrollformel": "sakstype(Upersonlig)\n      .kontekst(ValideringSkattepliktig) {\n    val partsnr = skattepliktUpersonligGjeldende\n          \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n         val selskapIkkeIStorbedrift = ansvarligEnhet\n    \t\t.hvorMinstEnForekomst{erStorbedrift erLik false}\n    \n        \t//kontrollen plukker ut skattepliktige der den skattemessige inntektsvirkningen ved avskriving av driftsmidler ikke samsvarer med innrapporterte opplysninger i temaet spesifikasjon av anleggsmidler\n          //AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n          //kontrollen gir merknad i valideringstjenesten\n    \n          naeringsspesifikasjon\n              .utslagFor {\n                   val harFullRegnskapsplikt = forForekomsterAv(virksomhet)\n                 \t\t.hvorMinstEnForekomst {\n                  \t\tregnskapspliktstype erLik \"fullRegnskapsplikt\"\n              \t\t\t}\n    \n                  val erUpSdfEllerEnk = forForekomsterAv(virksomhet)\n                  \t.hvorMinstEnForekomst{virksomhetstype erLik \"oevrigSelskap\"}\n    \n                  val SMVerdiSaldoavskrevetAnleggsmiddel = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n                      .summer{(vederlagVedRealisasjonOgUttakInntektsfoertIAar.beloepSomTall) - (aaretsAvskrivning.beloepSomTall) + (aaretsInntektsfoeringAvNegativSaldo.beloepSomTall)}\n    \n                  val SMVerdiLineærtavskrevetAnleggsmiddel = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n                      .summer{(vederlagVedRealisasjonOgUttakInntektsfoertIAar.beloepSomTall) - (aaretsAvskrivning.beloepSomTall)}\n    \n                  val SMVerdiGevinstOgTapskonto = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel,gevinstOgTapskonto))\n                      .summer{(inntektFraGevinstOgTapskonto.beloepSomTall) - (inntektsfradragFraGevinstOgTapskonto.beloepSomTall)}\n    \n                  val RMVerdiDriftsinntekt = forForekomsterAv(sti(resultatregnskap,driftsinntekt,annenDriftsinntektSomGruppe))\n                      .forForekomsterAv(inntekt)\n                      .filtrer{type erLik \"3880\"}\n                      .summer{beloepSomGruppe.beloepSomTall}\n    \n                  val RMVerdiDriftskostnad = forForekomsterAv(sti(resultatregnskap,driftskostnad,annenDriftskostnadSomGruppe))\n                      .forForekomsterAv(kostnad)\n                      .filtrer{type.finnesBlant (\"6000\",\"6050\",\"7880\")}\n                      .summer{beloepSomGruppe.beloepSomTall}\n    \n                  val VerdiMidlertidigeForskjellDriftsmiddel = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"driftsmiddelOgGoodwill\" }\n                      .summer {\n                          ((regnskapsmessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdiForrigeInntektsaar.beloepSomTall)) -\n                              ((regnskapsmessigVerdi.beloepSomTall) - (skattemessigVerdi.beloepSomTall))\n                      }\n    \n                  val VerdiMidlertidigeForskjellerPositivGTK = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"positivSaldoPaaGevinstOgTapskonto\" }\n                      .summer { (skattemessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerNegativGTK = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"negativSaldoPaaGevinstOgTapskonto\" }\n                      .summer { (skattemessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerDifferanseTillegg = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"tilleggForDifferanseMellomBalansefoertOgVirkeligVerdiPaaFusjonsEllerFisjonstidspunktet\" }\n                      .summer { (regnskapsmessigVerdi.beloepSomTall) + (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerDifferanseFradrag = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"fradragForDifferanseMellomBalansefoertOgVirkeligVerdiPaaFusjonsEllerFisjonstidspunktet\" }\n                      .summer { (regnskapsmessigVerdi.beloepSomTall) + (skattemessigVerdi.beloepSomTall) }\n    \n                  val sumSMVerdi =\n                      SMVerdiSaldoavskrevetAnleggsmiddel + SMVerdiLineærtavskrevetAnleggsmiddel + SMVerdiGevinstOgTapskonto\n    \n                  val sumRMVerdi = RMVerdiDriftsinntekt - RMVerdiDriftskostnad\n    \n                  val sumForskjeller =\n                      VerdiMidlertidigeForskjellDriftsmiddel + VerdiMidlertidigeForskjellerPositivGTK - VerdiMidlertidigeForskjellerNegativGTK +\n                          VerdiMidlertidigeForskjellerDifferanseTillegg - VerdiMidlertidigeForskjellerDifferanseFradrag\n    \n                val avvikRMSM = sumSMVerdi - (sumRMVerdi + sumForskjeller)\n    \n                val differanseSMRM = differanse(sumSMVerdi, (sumRMVerdi + sumForskjeller))\n    \n                  hvis(harFullRegnskapsplikt og erUpSdfEllerEnk og selskapIkkeIStorbedrift og (differanseSMRM erStørreEnn 1000) og\n                              (partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",)))\n                  {\n                      betjeningsstrategiSettesTil(\n                          ikke,\n                          merknadStandard,\n                          1,\n                      )\n                  }\n              }\n      }",
      "hjelpetekstSME": "Det er avvik mellom skattemessig og regnskapsmessig inntektsvirkning av driftsmidler. Avviket er mellom innrapporterte opplysninger i temaet "driftsmidler" og beregnet endring i midlertidige forskjeller. Kontroller at skattemessig fradrag er riktig.     ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_FORSKJELLER_MIDLERTIDIGE_DRIFTSMIDLER_UP_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Upersonlig)\n      .kontekst(ValideringSkattepliktig) {\n    val partsnr = skattepliktUpersonligGjeldende\n          \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n         val selskapIkkeIStorbedrift = ansvarligEnhet\n    \t\t.hvorMinstEnForekomst{erStorbedrift erLik false}\n    \n        \t//kontrollen plukker ut skattepliktige der den skattemessige inntektsvirkningen ved avskriving av driftsmidler ikke samsvarer med innrapporterte opplysninger i temaet spesifikasjon av anleggsmidler\n          //AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n          //kontrollen gir ikke merknad i valideringstjenesten\n    \n          naeringsspesifikasjon\n              .utslagFor {\n                   val harFullRegnskapsplikt = forForekomsterAv(virksomhet)\n                 \t\t.hvorMinstEnForekomst {\n                  \t\tregnskapspliktstype erLik \"fullRegnskapsplikt\"\n              \t\t\t}\n    \n                  val erUpSdfEllerEnk = forForekomsterAv(virksomhet)\n                  \t.hvorMinstEnForekomst{\n                        \tvirksomhetstype erLik \"oevrigSelskap\" }\n    \n                  val SMVerdiSaldoavskrevetAnleggsmiddel = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n                      .summer{(vederlagVedRealisasjonOgUttakInntektsfoertIAar.beloepSomTall) - (aaretsAvskrivning.beloepSomTall) + (aaretsInntektsfoeringAvNegativSaldo.beloepSomTall)}\n    \n                  val SMVerdiLineærtavskrevetAnleggsmiddel = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n                      .summer{(vederlagVedRealisasjonOgUttakInntektsfoertIAar.beloepSomTall) - (aaretsAvskrivning.beloepSomTall)}\n    \n                  val SMVerdiGevinstOgTapskonto = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel,gevinstOgTapskonto))\n                      .summer{(inntektFraGevinstOgTapskonto.beloepSomTall) - (inntektsfradragFraGevinstOgTapskonto.beloepSomTall)}\n    \n                  val RMVerdiDriftsinntekt = forForekomsterAv(sti(resultatregnskap,driftsinntekt,annenDriftsinntektSomGruppe))\n                      .forForekomsterAv(inntekt)\n                      .filtrer{type erLik \"3880\"}\n                      .summer{beloepSomGruppe.beloepSomTall}\n    \n                  val RMVerdiDriftskostnad = forForekomsterAv(sti(resultatregnskap,driftskostnad,annenDriftskostnadSomGruppe))\n                      .forForekomsterAv(kostnad)\n                      .filtrer{type.finnesBlant (\"6000\",\"6050\",\"7880\")}\n                      .summer{beloepSomGruppe.beloepSomTall}\n    \n                  val VerdiMidlertidigeForskjellDriftsmiddel = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"driftsmiddelOgGoodwill\" }\n                      .summer {\n                          ((regnskapsmessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdiForrigeInntektsaar.beloepSomTall)) -\n                              ((regnskapsmessigVerdi.beloepSomTall) - (skattemessigVerdi.beloepSomTall))\n                      }\n    \n                  val VerdiMidlertidigeForskjellerPositivGTK = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"positivSaldoPaaGevinstOgTapskonto\" }\n                      .summer { (skattemessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerNegativGTK = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"negativSaldoPaaGevinstOgTapskonto\" }\n                      .summer { (skattemessigVerdiForrigeInntektsaar.beloepSomTall) - (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerDifferanseTillegg = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"tilleggForDifferanseMellomBalansefoertOgVirkeligVerdiPaaFusjonsEllerFisjonstidspunktet\" }\n                      .summer { (regnskapsmessigVerdi.beloepSomTall) + (skattemessigVerdi.beloepSomTall) }\n    \n                  val VerdiMidlertidigeForskjellerDifferanseFradrag = forForekomsterAv(midlertidigForskjell)\n                      .filtrer { fastsatt(midlertidigForskjellstype) erLik \"fradragForDifferanseMellomBalansefoertOgVirkeligVerdiPaaFusjonsEllerFisjonstidspunktet\" }\n                      .summer { (regnskapsmessigVerdi.beloepSomTall) + (skattemessigVerdi.beloepSomTall) }\n    \n                  val sumSMVerdi =\n                      SMVerdiSaldoavskrevetAnleggsmiddel + SMVerdiLineærtavskrevetAnleggsmiddel + SMVerdiGevinstOgTapskonto\n    \n                  val sumRMVerdi = RMVerdiDriftsinntekt - RMVerdiDriftskostnad\n    \n                  val sumForskjeller =\n                      VerdiMidlertidigeForskjellDriftsmiddel + VerdiMidlertidigeForskjellerPositivGTK - VerdiMidlertidigeForskjellerNegativGTK +\n                          VerdiMidlertidigeForskjellerDifferanseTillegg - VerdiMidlertidigeForskjellerDifferanseFradrag\n    \n                val avvikRMSM = sumSMVerdi - (sumRMVerdi + sumForskjeller)\n    \n                val differanseSMRM = differanse(sumSMVerdi, (sumRMVerdi + sumForskjeller))\n    \n                  hvis(harFullRegnskapsplikt og erUpSdfEllerEnk og selskapIkkeIStorbedrift og (differanseSMRM erStørreEnn 1000) og\n                              (partsnr.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\",)))\n                  {\n                      betjeningsstrategiSettesTil(\n                          ikke,\n                          merknadIngen,\n                          1,\n                      )\n                  }\n              }\n      }",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_FORSKJELLER_PERMANENT_3PROSENT_INNTEKTSFØRING_UP",
      "kontrollformel": "sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n    \t\tval partsnr = skattepliktUpersonligGjeldende\n            \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n          // Validering dersom det er rapportert inntekter som skal inntektsføres med 3 %\n          //AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n          // kontrollen gir merknadStandard i valideringstjenesten\n    \n    val harUtbetalingUpersonlig = skattemeldingUpersonlig\n     \t.forForekomsterAv(deltakersAndelAvFormueOgInntekt)\n        .summer{fastsatt(utbetalingMvTilDeltaker)}      \n    \n    naeringsspesifikasjon\n          .utslagFor{  \n    \t\tval harFullRegnskapsplikt = forForekomsterAv(virksomhet)\n            \t.hvorMinstEnForekomst{regnskapspliktstype erLik \"fullRegnskapsplikt\"}\n            val harGyldigVirksomhetstype = forForekomsterAv(virksomhet)\n            \t.hvorMinstEnForekomst{virksomhetstype erLik \"oevrigSelskap\"}\n            val harIkkePermanentForskjell = harIngenForekomsterDer{fastsatt(permanentForskjell) er oppgitt}\n         \tval harIkkeInntektsført3Prosent = forForekomsterAv(permanentForskjell) \n          \t\t.harIngenForekomsterDer{fastsatt(permanentForskjellstype) erLik \"skattepliktigDelAvUtbytterOgUtdelinger\"}\n          \tval harTilbakeførtSomPermanentForskjell = forForekomsterAv(permanentForskjell) \n          \t\t.filtrer{fastsatt(permanentForskjellstype) erLik \"tilbakefoeringAvInntektsfoertUtbytte\"}\n                .summer{beloepSomTall}\n    \n            \thvis(harFullRegnskapsplikt og harGyldigVirksomhetstype og (skalBekreftesAvRevisor erLik \"false\") og (((harUtbetalingUpersonlig erStørreEnn 100000) og (harIkkePermanentForskjell eller harIkkeInntektsført3Prosent)) eller \n                     ((harTilbakeførtSomPermanentForskjell erStørreEnn 100000) og (harIkkePermanentForskjell eller harIkkeInntektsført3Prosent))) og\n                                (partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",))\n                    ){\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                                             )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Det er rapportert utbytte/utdeling fra SDF innenfor fritaksmetoden. 3 % av dette grunnlaget skal inntektsføres. Dette gjelder likevel ikke utbytte fra datterselskap i skattekonsern. Beregnet inntekt rapporteres som permanent forskjell.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FORSKJELLER_PERMANENT_3PROSENT_INNTEKTSFØRING_UP_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n    \t\tval partsnr = skattepliktUpersonligGjeldende\n            \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n          // Validering dersom det er rapportert inntekter som skal inntektsføres med 3 %\n          // AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n          // kontrollen gir merknadStandard i valideringstjenesten\n    \n    val harUtbetalingUpersonlig = skattemeldingUpersonlig\n     \t.forForekomsterAv(deltakersAndelAvFormueOgInntekt)\n        .summer{fastsatt(utbetalingMvTilDeltaker)}      \n    \n    naeringsspesifikasjon\n          .utslagFor{  \n    \t\tval harFullRegnskapsplikt = forForekomsterAv(virksomhet)\n            \t.hvorMinstEnForekomst{regnskapspliktstype erLik \"fullRegnskapsplikt\"}\n            val harGyldigVirksomhetstype = forForekomsterAv(virksomhet)\n            \t.hvorMinstEnForekomst{virksomhetstype erLik \"oevrigSelskap\"}\n            val harIkkePermanentForskjell = harIngenForekomsterDer{fastsatt(permanentForskjell) er oppgitt}\n         \tval harIkkeInntektsført3Prosent = forForekomsterAv(permanentForskjell) \n          \t\t.harIngenForekomsterDer{fastsatt(permanentForskjellstype) erLik \"skattepliktigDelAvUtbytterOgUtdelinger\"}\n          \tval harTilbakeførtSomPermanentForskjell = forForekomsterAv(permanentForskjell) \n          \t\t.filtrer{fastsatt(permanentForskjellstype) erLik \"tilbakefoeringAvInntektsfoertUtbytte\"}\n                .summer{beloepSomTall}\n    \n            \thvis(harFullRegnskapsplikt og harGyldigVirksomhetstype og (skalBekreftesAvRevisor erLik \"false\") og (((harUtbetalingUpersonlig erStørreEnn 100000) og (harIkkePermanentForskjell eller harIkkeInntektsført3Prosent)) eller \n                     ((harTilbakeførtSomPermanentForskjell erStørreEnn 100000) og (harIkkePermanentForskjell eller harIkkeInntektsført3Prosent))) og\n                       (partsnr.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\",))\n    \n                    ){\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadIngen,\n                                             )\n                    }\n                }\n        }",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_FOU_AVVIK_PROSJEKTKATEGORI_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Ved avvik mot prosjektkategori i forhold til opplysninger gitt av Norges forskningsråd \n     // gir merknad i valideringstjenesten\n    \n    skattemelding\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {    \n          \tval harVedlegg = fastsatt(prosjektkategori) har vedlegg\n    \n                    hvis((fastsatt(prosjektkategori) erUlik grunnlag(prosjektkategori)) og (ikke(harVedlegg))\n                    ){\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n",
      "hjelpetekstSME": "Oppgitt prosjektkategori avviker fra opplysninger om godkjent prosjekt fra Norges Forskningsråd (NF). Det kan få betydning i forhold til hvor mye offentlig støtte som kan gis til prosjektet. Ved feil må du ta kontakt med NF.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_AVVIK_PROSJEKTKATEGORI_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Ved avvik mot prosjektkategori i forhold til opplysninger gitt av Norges forskningsråd \n     // gir merknad i valideringstjenesten\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {    \n          \tval harVedlegg = fastsatt(prosjektkategori) har vedlegg\n    \n                    hvis((fastsatt(prosjektkategori) erUlik grunnlag(prosjektkategori)) og (ikke(harVedlegg))\n                    ){\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Oppgitt prosjektkategori avviker fra opplysninger om godkjent prosjekt fra Norges Forskningsråd (NF). Det kan få betydning i forhold til hvor mye offentlig støtte som kan gis til prosjektet. Ved feil må du ta kontakt med NF.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_AVVIK_PROSJEKTNR_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n     // validering dersom det er avvik mellom oppgitt prosjektnummer og forhåndsutfylt fra Norges Forskningsråd \n     // gir merknad i valideringstjenesten\n    \n    skattemelding\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {\n          val harVedlegg = prosjektnummer har vedlegg\n    \n                    hvis((grunnlag(prosjektnummer) erUlik fastsatt(prosjektnummer)) og ikke(harVedlegg))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n",
      "hjelpetekstSME": "Oppgitt prosjektnummer avviker fra forhåndsutfylt prosjektnummer mottatt fra Norges Forskningsråd. Vi oppfordrer deg til å laste opp vedlegg med forklaring av avviket. Dette gjør du ved å klikke på \"Legg ved dokumentasjon\" nederst i skattemeldingen, og velge kategorien \"Tilleggsopplysninger til SkatteFUNN/FoU\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_AVVIK_PROSJEKTNR_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n     // validering dersom det er avvik mellom oppgitt prosjektnummer og forhåndsutfylt fra Norges Forskningsråd \n     // gir merknad i valideringstjenesten\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {\n          val harVedlegg = prosjektnummer har vedlegg\n    \n                    hvis((grunnlag(prosjektnummer) erUlik fastsatt(prosjektnummer)) og ikke(harVedlegg))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Oppgitt prosjektnummer avviker fra forhåndsutfylt prosjektnummer mottatt fra Norges Forskningsråd. Vi oppfordrer deg til å laste opp vedlegg med forklaring av avviket. Dette gjør du ved å klikke på \"Legg ved dokumentasjon\" nederst i skattemeldingen, og velge kategorien \"Tilleggsopplysninger til SkatteFUNN/FoU\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_AVVIK_PROSJEKTPERIODE_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Validering dersom det er avvik mellom oppgitt prosjektperiode og forhåndsutfylt fra Norges Forskningsråd\n     // gir merknad i valideringstjenesten\n    \n    skattemelding\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {    \n          \tval harVedlegg = (fastsatt(prosjektperiode.startdato) har vedlegg) eller (fastsatt(prosjektperiode.sluttdato) har vedlegg)\n    \n                    hvis(((fastsatt(prosjektperiode.startdato) erUlik grunnlag(prosjektperiode.startdato)) eller \n                         (fastsatt(prosjektperiode.sluttdato) erUlik grunnlag(prosjektperiode.sluttdato))) og\n                         (ikke(harVedlegg))\n                    ){\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n\n",
      "hjelpetekstSME": "Oppgitt prosjektperiode avviker fra forhåndsutfylt prosjektperiode mottatt fra Norges Forskningsråd. Vi oppfordrer deg til å laste opp vedlegg med forklaring av avviket. Dette gjør du ved å klikke på \"Legg ved dokumentasjon\" nederst i skattemeldingen, og velge kategorien \"Tilleggsopplysninger til SkatteFUNN/FoU\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_AVVIK_PROSJEKTPERIODE_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Validering dersom det er avvik mellom oppgitt prosjektperiode og forhåndsutfylt fra Norges Forskningsråd\n     // gir merknad i valideringstjenesten\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {    \n          \tval harVedlegg = (fastsatt(prosjektperiode.startdato) har vedlegg) eller (fastsatt(prosjektperiode.sluttdato) har vedlegg)\n    \n                    hvis(((fastsatt(prosjektperiode.startdato) erUlik grunnlag(prosjektperiode.startdato)) eller \n                         (fastsatt(prosjektperiode.sluttdato) erUlik grunnlag(prosjektperiode.sluttdato))) og\n                         (ikke(harVedlegg))\n                    ){\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Oppgitt prosjektperiode avviker fra forhåndsutfylt prosjektperiode mottatt fra Norges Forskningsråd. Vi oppfordrer deg til å laste opp vedlegg med forklaring av avviket. Dette gjør du ved å klikke på \"Legg ved dokumentasjon\" nederst i skattemeldingen, og velge kategorien \"Tilleggsopplysninger til SkatteFUNN/FoU\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_EGENINNSATS",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Utslag dersom det er oppgitt verdi i \"heravpersonalkostnad\" eller \"antallegnetimer\". Dersom flere prosjekter, skal merknaden bare vises på ett kort. \n     // gir merknad i valideringstjenesten\n    \n    skattemelding\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {    \n          \t  \n                    hvis((kostnadIInntektsaaret.heravPersonalkostnad er oppgitt) eller (kostnadIInntektsaaret.antallEgneTimer er oppgitt)\n                    ){\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n\n",
      "hjelpetekstSME": "Merk at du ikke kan kreve fradrag for timer som gjelder din egen arbeidsinnsats i foretaket ditt.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_FIV_MELLOMBALANSE_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Validering om å laste opp dokumentasjon ved angitt FIV-vurdering basert på mellombalanse\n     // gir merknad i valideringstjenesten\n    \n    val datoIInntektsaar = KonstantTekstFelt(\"2022-01-01\").dato\n    \n    skattemelding\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {    \n          \tval harVedlegg = hvorMinstEnForekomst{(grunnlagsdokumentasjon erLik \"mellombalanse\") og (grunnlagsdokumentasjon har vedlegg)}\n    \n                    hvis((prosjektperiode.startdato.dato erStørreEnn datoIInntektsaar) og\n                        (varIOekonomiskeVanskeligheterPaaSoeknadstidspunktet erLik \"true\") og\n                        (grunnlagsdokumentasjon erLik \"mellombalanse\") og\n                        (ikke(harVedlegg))\n                        )\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n",
      "hjelpetekstSME": "Du har krysset av for at vurdering av økonomiske vanskeligheter er vurdert basert på mellombalanse. Vi oppfordrer deg til å laste opp denne mellombalansen. Dette gjør du ved å klikke på \"Legg ved dokumentasjon\" nederst i skattemeldingen, og velge kategorien \"Tilleggsopplysninger til SkatteFUNN/FoU\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_FIV_MELLOMBALANSE_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Validering om å laste opp dokumentasjon ved angitt FIV-vurdering basert på mellombalanse\n     // gir merknad i valideringstjenesten\n    \n    val datoIInntektsaar = KonstantTekstFelt(\"2022-01-01\").dato\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {    \n          \tval harVedlegg = hvorMinstEnForekomst{(grunnlagsdokumentasjon erLik \"mellombalanse\") og (grunnlagsdokumentasjon har vedlegg)}\n    \n                    hvis((prosjektperiode.startdato.dato erStørreEnn datoIInntektsaar) og\n                        (varIOekonomiskeVanskeligheterPaaSoeknadstidspunktet erLik \"true\") og\n                        (grunnlagsdokumentasjon erLik \"mellombalanse\") og\n                        (ikke(harVedlegg))\n                        )\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Du har krysset av for at vurdering av økonomiske vanskeligheter er vurdert basert på mellombalanse. Vi oppfordrer deg til å laste opp denne mellombalansen. Dette gjør du ved å klikke på \"Legg ved dokumentasjon\" nederst i skattemeldingen, og velge kategorien \"Tilleggsopplysninger til SkatteFUNN/FoU\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
{
      "kontrollnavn": "N_FOU_KOSTNADER_TILKNYTTET_PROSJEKT_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n\tval partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n     // Validering med informasjon om krav til timeregnskap og lønnsinnberetning \n     //AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n     // gir merknad i valideringstjenesten\n    \n    skattemelding.forForekomsterAv(spesifikasjonAvSkattefradragForKostnaderTilForskningOgUtvikling)\n       \t.utslagFor {      \n                    hvis((fastsatt(samletTotalkostnad) erStørreEnn 0) og\n          \t\t\t\t(partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",)))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n\n\n",
      "hjelpetekstSME": "Det er viktig å skille mellom kostnader direkte tilknyttet godkjent prosjekt og kostnader til ordinær drift. Du må kunne sende inn prosjektregnskap hvis vi ber om det.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_KOSTNADER_TILKNYTTET_PROSJEKT_IKKE_MERKNAD_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n\tval partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n     // Validering med informasjon om krav til timeregnskap og lønnsinnberetning \n     // AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n     // gir merknad i valideringstjenesten\n    \n    skattemelding.forForekomsterAv(spesifikasjonAvSkattefradragForKostnaderTilForskningOgUtvikling)\n       \t.utslagFor {      \n                    hvis((fastsatt(samletTotalkostnad) erStørreEnn 0) og\n          \t\t\t\t(partsnr.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\",)))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadIngen,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_FOU_KOSTNADER_TILKNYTTET_PROSJEKT_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n    val partsnr = skattepliktUpersonligGjeldende\t\n      \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n     // Validering med informasjon om krav til timeregnskap og lønnsinnberetning \n     //AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n     // gir merknad i valideringstjenesten\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(spesifikasjonAvSkattefradragForKostnaderTilForskningOgUtvikling)\n       \t.utslagFor {      \n                    hvis((fastsatt(samletTotalkostnad) erStørreEnn 0) og\n          \t\t\t\t(partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",)))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Det er viktig å skille mellom kostnader direkte tilknyttet godkjent prosjekt og kostnader til ordinær drift. Du må kunne sende inn prosjektregnskap hvis vi ber om det.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_KOSTNADER_TILKNYTTET_PROSJEKT_UP_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n    val partsnr = skattepliktUpersonligGjeldende\t\n      \t.verdiFor { skattepliktOgOpplysningerOmSkattesubjekt.partsnummer }\n    \n     // Validering med informasjon om krav til timeregnskap og lønnsinnberetning \n     // AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n     // gir merknad i valideringstjenesten\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(spesifikasjonAvSkattefradragForKostnaderTilForskningOgUtvikling)\n       \t.utslagFor {      \n                    hvis((fastsatt(samletTotalkostnad) erStørreEnn 0) og\n                       (partsnr.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\",)))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadIngen,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_FOU_REVISORS_BEKREFTELSE_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Ved avvik mot prosjektkategori i forhold til opplysninger gitt av Norges forskningsråd \n     // gir merknad i valideringstjenesten\n    \n    skattemelding\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {          \n                    hvis((fastsatt(prosjektSkalBekreftesAvRevisor) ikkeEr oppgitt) eller (fastsatt(prosjektSkalBekreftesAvRevisor) erLik \"false\"))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n",
      "hjelpetekstSME": "Vi minner om at FoU-fradrag skal bekreftes av revisor. Dersom dere vil be om revisors godkjenning, må det angis \"Ja\" i feltet.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_REVISORS_BEKREFTELSE_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n     // Ved avvik mot prosjektkategori i forhold til opplysninger gitt av Norges forskningsråd \n     // gir merknad i valideringstjenesten\n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {          \n                    hvis((fastsatt(prosjektSkalBekreftesAvRevisor) ikkeEr oppgitt) eller (fastsatt(prosjektSkalBekreftesAvRevisor) erLik \"false\"))\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Vi minner om at FoU-fradrag skal bekreftes av revisor. Dersom dere vil be om revisors godkjenning, må det angis \"Ja\" i feltet.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_TIMEREGNSKAP_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n     //Fradrag for timer skal være basert på timeregnskap, utslag for alle som har verdi i antallegnetime og heravpersonalkostnad. \n      //Skal bare vise tilknyttet én forekomst, dersom flere prosjekt. \n    \n    skattemelding\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {      \n                    hvis(kostnadIInntektsaaret.antallEgneTimer erStørreEnn 2000)\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "Merk at det er detaljerte krav til timelister, med maksimal timesats på kr 700 og maksimalt antall timer pr. ansatt på 1850. Du må kunne sende inn timelister med signatur både av prosjektansvarlig og den ansatte dersom vi ber om det. Det er bare regnskapsført lønn som er utbetalt og tatt med i a-meldingen, som kan inngå i beregningsgrunnlaget for skattefradraget.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FOU_TIMEREGNSKAP_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n     //Fradrag for timer skal være basert på timeregnskap, utslag for alle som har verdi i antallegnetime og heravpersonalkostnad. \n      //Skal bare vise tilknyttet én forekomst, dersom flere prosjekt. \n    \n    skattemeldingUpersonlig\n        .forForekomsterAv(forskningOgUtviklingsprosjekt)\n       \t.utslagFor {      \n                    hvis(kostnadIInntektsaaret.antallEgneTimer erStørreEnn 2000)\n                    {\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Merk at det er detaljerte krav til timelister, med maksimal timesats på kr 700 og maksimalt antall timer pr. ansatt på 1850. Du må kunne sende inn timelister med signatur både av prosjektansvarlig og den ansatte dersom vi ber om det. Det er bare regnskapsført lønn som er utbetalt og tatt med i a-meldingen, som kan inngå i beregningsgrunnlaget for skattefradraget.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_FRADRAG_ELEKTR_KOMMUNIKASJON",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n        val harIngenRegnskapspliktEllerBegrensetRegnskapsplikt = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"ingenRegnskapsplikt\", \"begrensetRegnskapsplikt\") }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt kostnader til elektroniske kommunikasjonstjenester på konto 6995, men som ikke har tilbakeført for privat bruk på konto 6998\n        // AB-test på skattytere som har tallene 0, 2, 4, 6 eller 8 i 7.siffer i partsnummeret\n        // Gir merknad\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n            .utslagFor {\n    \n                val harElektroniskKommunkasjon = forForekomsterAv(kostnad)\n                    .filtrer { fastsatt(type) erLik \"6995\" }\n                    .summer { beloepSomGruppe.beloepSomTall }\n    \n                val harTilbakeførtElKomm = forForekomsterAv(kostnad)\n                    .filtrer { fastsatt(type) erLik \"6998\" }\n                    .summer { beloepSomGruppe.beloepSomTall }\n    \n                hvis(\n                    harIngenRegnskapspliktEllerBegrensetRegnskapsplikt og (harElektroniskKommunkasjon erStørreEnnEllerLik 5000) og (\n                        ikke(harTilbakeførtElKomm erStørreEnn 0)) og (partsnr.tegnFraIndeks(7).finnesBlant(\"0\",\"2\",\"4\",\"6\",\"8\"))\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        kortTypeReferanse settesLik \"kontorlokaler\"\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Har du brukt mobiltelefon, bredbånd, telefon, e.l. privat? Da skal deler av kostnadene tilbakeføres på konto 6998. <a href=\"https://www.skatteetaten.no/bedrift-og-organisasjon/skatt/skattemelding-naringsdrivende/fradrag/fradragsveiviser-for-enk/kostnader-til-mobiltelefon-bredband-telefon-mm/\" target=\"_blank\">Les mer om hvordan du beregner den private fordelen her. </a>",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_FRADRAG_ELEKTR_KOMMUNIKASJON_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n        // Kontrollen gir IKKE utslag dersom skattyter har oppgitt kostnader til elektroniske kommunikasjonstjenester på konto 6995, men som ikke har tilbakeført for privat bruk på konto 6998\n        // AB-test på skattytere som har tallene 1, 3, 5, 7 eller 9 i 7.siffer i partsnummeret\n        // Gir ingen merknad\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n            .utslagFor {\n    \n                val harElektroniskKommunkasjon = forForekomsterAv(kostnad)\n                    .filtrer { fastsatt(type) erLik \"6995\" }\n                    .summer { beloepSomGruppe.beloepSomTall }\n    \n                val harTilbakefoertElKomm = forForekomsterAv(kostnad)\n                    .filtrer { fastsatt(type) erLik \"6998\" }\n                    .summer { beloepSomGruppe.beloepSomTall }\n    \n                hvis(\n                    (harElektroniskKommunkasjon erStørreEnnEllerLik 5000) og (\n                        ikke(harTilbakefoertElKomm erStørreEnn 0) og\n                            (partsnr.tegnFraIndeks(7).finnesBlant(\"1\",\"3\",\"5\",\"7\",\"9\"))\n                        )\n                ) {\n                    betjeningsstrategiSettesTil(ikke, merknadIngen, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_GEVINST_TAP_OVERFØRT_MANGLER_GTK",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n      \n      //kontrollen gir utslag dersom skattyter har angitt beløp større enn 0 i \"Gevinst overført til gevinst- og tapskonto\" eller \"Tap overført til gevinst og tapskonto\", \n        //men gevinst- og tapskonto er ikke rapportert\n                        \n                val harIkkeGevinstOgTapskonto = naeringsspesifikasjon\n                    .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto ))\n                        .harIngenForekomsterDer { fastsatt(kommunenummer) er oppgitt }\n                     \n        naeringsspesifikasjon\n      \t.forForekomsterAv(gruppe(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel),\n                                 sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel),\n                                 sti(spesifikasjonAvAnleggsmiddel, ikkeAvskrivbartAnleggsmiddel)))\n            .utslagFor {\n                       \n                hvis(((fastsatt(gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall) er oppgitt) og (fastsatt(saldogruppe).finnesBlant(\"b\", \"e\", \"f\", \"g\", \"h\", \"i\")) og harIkkeGevinstOgTapskonto) eller \n                     ((fastsatt(tapOverfoertTilGevinstOgTapskonto.beloepSomTall) er oppgitt) og (fastsatt(saldogruppe).finnesBlant(\"e\", \"f\", \"g\", \"h\", \"i\")) og harIkkeGevinstOgTapskonto)\n                    )               \n                {\n                    betjeningsstrategiSettesTil(\n                        ikke, \n                        merknadTips\n                       \n                    )\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "Du har overført gevinst eller tap fra et saldoavskrevet driftsmiddel til gevinst- og tapskonto. Du har ikke opprettet gevinst- og tapskonto ennå. Vil du gjøre det nå?",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_GJELD_FORMUESOBJEKTER_AKSJESELSKAP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig med virksomhetstype oevrigSelskap rapporterer samletGjeldOgFormuesobjekt\n        // kontrollen gir faktiskFeil i valideringstjenesten\n    \n        val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                virksomhetstype erLik \"oevrigSelskap\"\n            }\n    \n        val rapportererGjeldOgFormuesobjekter = naeringsspesifikasjon\n            .forForekomsterAv(samletGjeldOgFormuesobjekter)\n            .hvorMinstEnForekomst {\n                (\n                    (formuesverdiForFormuesobjekterIkkeOmfattetAvVerdsettingsrabatt.beloepSomTall er oppgitt) eller\n                        (verdiFoerVerdsettingsrabattForFormuesobjekterOmfattetAvVerdsettingsrabatt.beloepSomTall er oppgitt) eller\n                        (samletGjeldSomGruppe.beloepSomTall er oppgitt) eller\n                        (formuesverdiForFormuesobjekterIkkeOmfattetAvVerdsettingsrabattTilordnetInnehaver.beloepSomTall er oppgitt) eller\n                        (verdiFoerVerdsettingsrabattForFormuesobjekterOmfattetAvVerdsettingsrabattTilordnetInnehaver.beloepSomTall er oppgitt) eller\n                        (samletGjeldTilordnetInnehaver.beloepSomTall er oppgitt)\n                    )\n            }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                hvis(harVirksomhetstypeLikAksjeselskap og rapportererGjeldOgFormuesobjekter) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Selskapet har rapportert temaet "Gjeld og formuesobjekter". Dette temaet er bare gyldig for enkeltpersonforetak.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_GTK_INNTEKTSFRADRAG_MANGLER_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n        val harIkkeOppgittGevinstOgTapskonto = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .harIngenForekomsterDer { fastsatt(satsForInntektsfoeringOgInntektsfradrag) er oppgitt }\n    \n        // kontrollen gir utslag dersom skattyter ligger i kontrolliste og IKKE har oppgitt GevinstOgTapskonto\n        // kontrollen gir merknad i valideringstjenesten og SME\n        naeringsspesifikasjon\n            .fokusområde(\"Fokusområde\")\n            .utslagFor {\n                val utgaaendeVerdiFraKontrollisteGevinstOgTap = finnesIKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - negativ gevinst- og tapskonto\",\n                    listeAv(partsnr)\n                )\n                hvis(utgaaendeVerdiFraKontrollisteGevinstOgTap og harIkkeOppgittGevinstOgTapskonto) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadTips, 1\n                    )\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "Du stod oppført med tap på gevinst- og tapskonto per 31.12.2021. Du kan fradragsføre opptil 20 % av tapet. Vil du legge til fradrag for tap?",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_GTK_INNTEKTSFRADRAG_MANGLER_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val partsnrUpersonlig = skattepliktUpersonligGjeldende     \n            .verdiFor {skattepliktOgOpplysningerOmSkattesubjekt.partsnummer}\n    \n       \tval harIkkeOppgittGevinstOgTapskonto = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .harIngenForekomsterDer { fastsatt(satsForInntektsfoeringOgInntektsfradrag) er oppgitt }\n    \n        // kontrollen gir utslag dersom skattyter leverte skattemelding i SMIA i fjor med GTK eller ligger i kontrolliste over de som hadde GTK i SL i fjor, \n      \t// og IKKE har oppgitt GevinstOgTapskonto i årets skattemelding\n        // AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n        // kontrollen gir merknad i valideringstjenesten og SME\n        naeringsspesifikasjon\n            .utslagFor {\n                val positivUtgaaendeVerdiGevinstOgTapUpersonlig = finnesIKontrolliste(\n                    \"kontrolliste - negativ gevinst- og tapskonto\",\n                    listeAv(partsnrUpersonlig)\n                )\n    \n                hvis((positivUtgaaendeVerdiGevinstOgTapUpersonlig og harIkkeOppgittGevinstOgTapskonto) og\n                     (partsnrUpersonlig.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",))\n    \t\t){\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadTips, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du stod oppført med tap på gevinst- og tapskonto per 31.12.2021. Du kan fradragsføre opptil 20 % av tapet. Vil du legge til fradrag for tap?",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_GTK_INNTEKT_MANGLER_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n       \tval harIkkeOppgittGevinstOgTapskonto = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .harIngenForekomsterDer { fastsatt(satsForInntektsfoeringOgInntektsfradrag) er oppgitt }\n    \n        // kontrollen gir utslag dersom skattepliktig ligger i kontrolliste og IKKE har oppgitt GevinstOgTapskonto\n        //AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n        // kontrollen gir merknad i valideringstjenesten og SME\n        naeringsspesifikasjon\n            .utslagFor {\n                val positivUtgaaendeVerdiGevinstOgTapPersonlig = finnesIKontrolliste(\n                    \"kontrolliste - positiv gevinst- og tapskonto\",\n                    listeAv(partsnr)\n                )\n    \n              hvis((positivUtgaaendeVerdiGevinstOgTapPersonlig og harIkkeOppgittGevinstOgTapskonto) og\n                     (partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",))\n    \t\t){\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadTips, 1\n                    )\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "Du stod oppført med gevinst på gevinst- og tapskonto per 31.12.2021. Du må inntektsføre minst 20 % av denne gevinsten. Vil du gjøre dette nå?",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_GTK_INNTEKT_MANGLER_IKKE_MERKNAD_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n\tval partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n       \tval harIkkeOppgittGevinstOgTapskonto = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .harIngenForekomsterDer { fastsatt(satsForInntektsfoeringOgInntektsfradrag) er oppgitt }\n    \n      // kontrollen gir utslag dersom skattyter leverte skattemelding i SMIA i fjor med GTK eller ligger i kontrolliste over de som hadde GTK i SL i fjor, \n      \t// og IKKE har oppgitt GevinstOgTapskonto i årets skattemelding\n        // AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n        // kontrollen gir merknad i valideringstjenesten og SME\n        naeringsspesifikasjon\n            .utslagFor {\n                val positivUtgaaendeVerdiGevinstOgTapPersonlig = finnesIKontrolliste(\n                    \"kontrolliste - negativ gevinst- og tapskonto\",\n                    listeAv(partsnr)\n                )\n    \n                hvis((positivUtgaaendeVerdiGevinstOgTapPersonlig og harIkkeOppgittGevinstOgTapskonto) og\n                     (partsnr.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\",))\n    \t\t){\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadIngen, 1\n                    )\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_GTK_INNTEKT_MANGLER_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val partsnrUpersonlig = skattepliktUpersonligGjeldende     \n            .verdiFor {skattepliktOgOpplysningerOmSkattesubjekt.partsnummer}\n    \n       \tval harIkkeOppgittGevinstOgTapskonto = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .harIngenForekomsterDer { fastsatt(satsForInntektsfoeringOgInntektsfradrag) er oppgitt }\n    \n        // kontrollen gir utslag dersom skattyter ligger i kontrolliste og IKKE har oppgitt GevinstOgTapskonto\n        // AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n        // kontrollen gir merknad i valideringstjenesten og SME\n        naeringsspesifikasjon\n            .utslagFor {\n                val positivUtgaaendeVerdiGevinstOgTapUpersonlig = finnesIKontrolliste(\n                    \"kontrolliste - positiv gevinst- og tapskonto\",\n                    listeAv(partsnrUpersonlig)\n                )\n    \n                hvis((positivUtgaaendeVerdiGevinstOgTapUpersonlig og harIkkeOppgittGevinstOgTapskonto) og\n                     (partsnrUpersonlig.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\",))\n    \t\t){\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadTips, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du stod oppført med gevinst på gevinst- og tapskonto per 31.12.2021. Du må inntektsføre minst 20 % av denne gevinsten. Vil du gjøre dette nå?",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_GTK_INNTEKT_MANGLER_UP_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val partsnrUpersonlig = skattepliktUpersonligGjeldende     \n            .verdiFor {skattepliktOgOpplysningerOmSkattesubjekt.partsnummer}\n    \n       \tval harIkkeOppgittGevinstOgTapskonto = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .harIngenForekomsterDer { fastsatt(satsForInntektsfoeringOgInntektsfradrag) er oppgitt }\n    \n      // kontrollen gir utslag dersom skattyter leverte skattemelding i SMIA i fjor med GTK eller ligger i kontrolliste over de som hadde GTK i SL i fjor, \n      \t// og IKKE har oppgitt GevinstOgTapskonto i årets skattemelding\n        // AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n        // kontrollen gir merknad i valideringstjenesten og SME\n        naeringsspesifikasjon\n            .utslagFor {\n                val positivUtgaaendeVerdiGevinstOgTapUpersonlig = finnesIKontrolliste(\n                    \"kontrolliste - negativ gevinst- og tapskonto\",\n                    listeAv(partsnrUpersonlig)\n                )\n    \n                hvis((positivUtgaaendeVerdiGevinstOgTapUpersonlig og harIkkeOppgittGevinstOgTapskonto) og\n                     (partsnrUpersonlig.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\",))\n    \t\t){\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadIngen, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_HØY_AVSKRIVINGSSATS",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom det er benyttet for høy avskrivingssats for saldoavskrivninger når grunnlaget for avskriving er høyere enn 15000\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis(\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"a\") og (avskrivningssats erStørreEnn 30)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"b\") og (avskrivningssats erStørreEnn 20)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"c\") og (avskrivningssats erStørreEnn 24)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"c2\") og (avskrivningssats erStørreEnn 30)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"d\") og (avskrivningssats erStørreEnn 20)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"e\") og (avskrivningssats erStørreEnn 14)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"f\") og (avskrivningssats erStørreEnn 12)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"g\") og (avskrivningssats erStørreEnn 5)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"h\") og (avskrivningssats erStørreEnn 20)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"i\") og (avskrivningssats erStørreEnn 2)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"j\") og (avskrivningssats erStørreEnn 10))\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har brukt for høy avskrivingssats for et driftsmiddel. Du må endre satsen.<a href=\"https://www.skatteetaten.no/satser/avskrivningssatser/\"target=\"_blank\"> På nettsiden til Skatteetaten finner du riktige satser per inntektsår (ny fane).</a>",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_HØY_INNTEKT_FELLESFISKE",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom korrigert andel av inntekt som gjelder fellesfiske er høyere enn sum driftsinntekter.\n        // kontrollen medfører merknad i skattemeldingen\n        val sumDriftsinntektEnefisker = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftsinntekt, sumDriftsinntekt))\n            .summer { beloepSomTall }\n    \n        skattemelding\n            .forForekomsterAv(saerskiltFradragForFiskereOgFangstfolk)\n            .utslagFor {\n                hvis(\n                    (\n                        korrigeringerIGrunnlagForSaerskiltFradragForFiskereOgFangstfolkKnyttetTilEnefisker\n                            .andelAvInntektINaeringsinntektForFiskeSomGjelderFellesfiske\n                        ) erStørreEnn (sumDriftsinntektEnefisker)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Inntekter som gjelder fellesfiske kan ikke være høyere enn de totale driftsinntektene. Du må korrigere beløpene.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_HØY_KOSTNAD_FELLESFISKE",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom korrigert andel av kostnad som gjelder fellesfiske er høyere enn sum driftskostnader.\n        // kontrollen medfører merknad i skattemeldingen\n        val sumDriftskostnadEnefisker = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftskostnad, sumDriftskostnad))\n            .summer { beloepSomTall }\n    \n        skattemelding\n            .forForekomsterAv(saerskiltFradragForFiskereOgFangstfolk)\n            .utslagFor {\n                hvis(\n                    (\n                        korrigeringerIGrunnlagForSaerskiltFradragForFiskereOgFangstfolkKnyttetTilEnefisker\n                            .andelAvKostnadINaeringsinntektForFiskeSomGjelderFellesfiske\n                        ) erStørreEnn (sumDriftskostnadEnefisker)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Kostnader som gjelder fellesfiske kan ikke være høyere enn de totale driftskostnadene. Du må korrigere beløpene.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_HØY_SKJERMINGSRENTE",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skjermingsrenten er høyere enn renten som er fastsatt av Skattedirektoratet\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .utslagFor {\n                hvis((skjermingsrente) erStørreEnn 2.1) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Skjermingsrenten kan maksimalt være 2,1 prosent. Dette er fastsatt av Skattedirektoratet.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_INNEHAVERSANDEL_OVER_100",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag dersom innehavers andel er satt til over 100 %\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .utslagFor {\n                hvis((andelAvSkattemessigResultatTilordnetInnehaver) erStørreEnn 100) {\n                    betjeningsstrategiSettesTil(\n                        ikke, faktiskFeil, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Innehaverens andel kan ikke være høyere enn 100 prosent.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_INNRAPP_NÆRINGSINNTEKT_FRA_TREDJEPART",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // Merknad med informasjon om innrapportert næringsinntekt fra tredjepart\n        // kontrollen gir merknad i SME\n    \n    skattemelding\n    \t.forForekomsterAv(oppgavegiver)\n            .utslagForFørste {\n                \n                hvis(inntektFraUtbetalingTilSelvstendigNaeringsdrivendeOverGrenseverdi erStørreEnn 1000) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadInformasjon,\n                       \n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er innrapportert utbetaling av næringsinntekt fra tredjepart. Alle beløp i feltet "Innrapportert næringsinntekt fra tredjepart som må oppgis i næringsspesifikasjonen", må legges til som inntekt i næringsspesifikasjonen. ",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_INNRAPP_NÆRINGSINNTEKT_STØRRE_ENN_DRIFTSINNTEKT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        //kontrollen gir utslag dersom innrapportert næringsinntekt er større enn sum driftsinntekt i resultatregnskapet\n        // AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n\t\t//kontrollen gir merknad\n    \n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n        val sumInnrapportertNæringsinntekt = skattemelding\n            .forForekomsterAv(oppgavegiver)\n            .summer { inntektFraUtbetalingTilSelvstendigNaeringsdrivende.beloepSomTall }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val driftsinntekterSummert =\n                    forForekomsterAv(sti(resultatregnskap, driftsinntekt, salgsinntekt))\n                        .forForekomsterAv(inntekt)\n                        .filtrer { fastsatt(type).finnesBlant(\"3000\", \"3100\", \"3200\", \"3300\") }\n                        .summer { beloepSomGruppe.beloepSomTall }\n    \n                val finnesIKontrollisteTredjepart = finnesIKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - innrapportert naeringsinntekt hoyere enn driftsinntekt\",\n                    listeAv(partsnr)\n                )\n    \n                val verdiFraKontrollist = hentKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - innrapportert naeringsinntekt hoyere enn driftsinntekt\",\n                    listeAv(partsnr)\n                )\n                    .forForekomsterAv { verdi }\n                    .summer { verdiSomTall1 }\n    \n                val avvikBeløp = verdiFraKontrollist - sumInnrapportertNæringsinntekt - driftsinntekterSummert\n    \n                hvis(finnesIKontrollisteTredjepart og (avvikBeløp erStørreEnnEllerLik 1000) og\n                     (partsnr.tegnFraIndeks(7).finnesBlant(\"0\",\"2\",\"4\",\"6\",\"8\")))\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1, Avviksbeloep settesTil avvikBeløp,\n                        kortTypeReferanse settesLik \"salgsinntekt\"\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Vi har opplysninger om at du har mottatt betaling(er) som selvstendig næringsdrivende. Beløpet er høyere enn sum driftsinntekter i næringsspesifikasjonen. Kontroller at dette er riktig.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_INNRAPP_NÆRINGSINNTEKT_STØRRE_ENN_DRIFTSINNTEKT_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        //kontrollen gir utslag dersom innrapportert næringsinntekt er større enn sum driftsinntekt i resultatregnskapet\n    \t// AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n\t\t//kontrollen gir merknad\n    \n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n        val sumInnrapportertNæringsinntekt = skattemelding\n            .forForekomsterAv(oppgavegiver)\n            .summer { inntektFraUtbetalingTilSelvstendigNaeringsdrivende.beloepSomTall }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val driftsinntekterSummert =\n                    forForekomsterAv(sti(resultatregnskap, driftsinntekt, salgsinntekt))\n                        .forForekomsterAv(inntekt)\n                        .filtrer { fastsatt(type).finnesBlant(\"3000\", \"3100\", \"3200\", \"3300\") }\n                        .summer { beloepSomGruppe.beloepSomTall }\n    \n                val finnesIKontrollisteTredjepart = finnesIKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - innrapportert naeringsinntekt hoyere enn driftsinntekt\",\n                    listeAv(partsnr)\n                )\n    \n                val verdiFraKontrollist = hentKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - innrapportert naeringsinntekt hoyere enn driftsinntekt\",\n                    listeAv(partsnr)\n                )\n                    .forForekomsterAv { verdi }\n                    .summer { verdiSomTall1 }\n    \n                val avvikBeløp = verdiFraKontrollist - sumInnrapportertNæringsinntekt - driftsinntekterSummert\n    \n                hvis(finnesIKontrollisteTredjepart og (avvikBeløp erStørreEnnEllerLik 1000) og\n                     (partsnr.tegnFraIndeks(7).finnesBlant(\"1\",\"3\",\"5\",\"7\",\"9\")))\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1, Avviksbeloep settesTil avvikBeløp,\n                        kortTypeReferanse settesLik \"salgsinntekt\"\n                    )\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_INNRAPP_SKOGINNTEKT_UTEN_DRIFTSINNTEKTER",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) \n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor {fastsattEllerGrunnlag(partsnummerSomTekst) }\n            \n        //kontrollen gir utslag dersom skattepliktig skattepliktig står på kontrolliste over tømmeromsetning og ikke rapporterer salgsinntekt i temaet Skog og tømmerkonto\n        //kontrollen gir validering i SME\n       \n      \tval erLeveringspliktig = opplysningerOmSkattesubjektGjeldendeDokument\n            .forForekomsterAv{opplysningerOmSkattesubjekt}\n            .hvorMinstEnForekomst{leveringsplikt.harLeveringsplikt erLik true}\n      \n      \tval tilvekstSkogOver200m3 = skattemelding \n      \t\t.forForekomsterAv(formuesgrunnlagSkogeiendomINorge)\n            .summer{fastsatt(sumTilvekst.beloepSomTall)}\n            \n        val beløpKapitalinntektSkog = skattemelding\n      \t\t.forForekomsterAv(kapitalkostnadOgKapitalinntektFraSkogeiendomUtenforNaeringsvirksomhet)\n            .summer{kapitalinntekt.beloepSomTall}\n            \n        val harIkkeKapitalinntektSkog = skattemelding\n      \t\t.forForekomsterAv(kapitalkostnadOgKapitalinntektFraSkogeiendomUtenforNaeringsvirksomhet)\n      \t\t.harIngenForekomsterDer{kapitalinntekt.beloepSomTall er oppgitt}\n                                \n        naeringsspesifikasjon\n            .utslagFor {\n               \n              val beløpIKontrollisteTømmer = hentKontrolliste(\n                    \"kontrolliste - toemmeromsetning\",\n                    listeAv(partsnr)\n                ).forForekomsterAv { verdi }\n                    .summer { verdiSomTall1 }\n                    \n               val harIkkeTømmerkonto = harIngenForekomsterDer{skogOgToemmerkonto er oppgitt}   \n               \n               val harIkkeSalgsinntekt = forForekomsterAv(sti(resultatregnskap, driftsinntekt))\n                        .harIngenForekomsterDer{salgsinntekt er oppgitt}\n                        \n               val differanseKapitalinntektOgKontrollistebeløp = beløpKapitalinntektSkog - beløpIKontrollisteTømmer\n                     \n                hvis((((beløpIKontrollisteTømmer erStørreEnn 0) og (tilvekstSkogOver200m3 erStørreEnn 200)) eller ((beløpIKontrollisteTømmer erStørreEnn 0) og erLeveringspliktig)) og \n                     harIkkeTømmerkonto og harIkkeSalgsinntekt og (differanseKapitalinntektOgKontrollistebeløp erStørreEnn 100000)\n                    )\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadTips\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Ifølge kontrolloppgaver fra skogforvaltningen i kommunen har du solgt tømmer/skogvirke i inntektsåret 2022. Skoginntekter er som hovedregel skattepliktige. Inntekt av skog som er virksomhet, må du oppgi som salgsinntekt i resultatregnskapet, og beregne årets inntekt i temaet \"Skog og tømmerkonto\". Vil du legge til salgsinntektene nå? Skattereglene for skoginntekt kan du lese mer om her: \n<a href=\"https://www.skatteetaten.no/bedrift-og-organisasjon/skatt/skattemelding-naringsdrivende/hjelp-til-skattemelding/skog/\" target=\"_blank\">Skattemelding for deg som driver skog - skatteetaten.</a>",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_INNTEKTSFRADRAG_GTK_HØY",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag dersom sats for inntektsfradrag i gevinst- og tapskonto er høyere enn 20 % og grunnlaget er mindre enn kr - 15 000\n        // kontrollen avviser innsending\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .utslagFor {\n                hvis(\n                    (grunnlagForAaretsInntektsOgFradragsfoering.beloepSomTall erMindreEnn -15000)\n                        og (satsForInntektsfoeringOgInntektsfradrag erStørreEnn 20)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, faktiskFeil, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt for høy sats. Satsen kan settes til maksimalt 20 prosent når grunnlaget er lavere enn - 15 000 kroner.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_INNTEKTSFØRING_GTK_LAV",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag dersom sats for inntektsføring av gevinst- og tapskonto er lavere enn 100 % når grunnlaget er positivt og under kr 15 000\n        // kontrollen avviser innsending\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n            .utslagFor {\n                hvis(\n                    ((grunnlagForAaretsInntektsOgFradragsfoering.beloepSomTall erStørreEnn 15000) og (satsForInntektsfoeringOgInntektsfradrag er oppgitt) og (satsForInntektsfoeringOgInntektsfradrag erMindreEnn 20)) eller\n                        (\n                            (grunnlagForAaretsInntektsOgFradragsfoering.beloepSomTall erMindreEnnEllerLik 15000) og (grunnlagForAaretsInntektsOgFradragsfoering.beloepSomTall erStørreEnn 0) og\n                                (satsForInntektsfoeringOgInntektsfradrag erMindreEnn 100)\n                            )\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, faktiskFeil, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt for lav sats. Satsen skal settes til mimium 20 prosent når grunnlaget er høyere enn 15 000 kroner og mimium 100 prosent når grunnlaget er lavere eller lik 15 000 kroner.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_KOMPENSASJONSYTELSE_NAV_AVVIK_GLD",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når beløpet fylt ut på feltet 'Kompensasjon for tapt inntekt' avviker fra innrapportert beløp fra NAV. Gjelder både når beløpet er større eller mindre enn innrapportert beløp.\n        // kontrollen gir merknad i valideringstjenesten\n    \n        skattemelding\n            .forForekomsterAv(sti(oppgavegiver, sykepengerOgAnnenInntektMvFraOppgavegiver))\n            .utslagFor {\n    \n                val harKompensasjonNAV = filtrer { grunnlag(behandlingsart) erLik \"KOMP_PERS_INNT\" }\n                    .hvorMinstEnForekomst { grunnlag(beloepSomGruppe.beloepSomTall) er oppgitt }\n    \n                val fastsattKompensasjonNAV = filtrer { fastsatt(behandlingsart) erLik \"KOMP_PERS_INNT\" }\n                    .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n    \n                val grunnlagKompensasjonNAV = filtrer { grunnlag(behandlingsart) erLik \"KOMP_PERS_INNT\" }\n                    .summer { grunnlag(beloepSomGruppe.beloepSomTall) }\n    \n                val differanseKompensasjonNAV = fastsattKompensasjonNAV - grunnlagKompensasjonNAV\n    \n                hvis(harKompensasjonNAV og (differanseKompensasjonNAV erUlik 0)) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Avviksbeloep settesTil differanseKompensasjonNAV\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har endret beløpet i feltet \"kompensasjon for tapt inntekt\". Beløpet er innrapportert av NAV og skal skattlegges i utbetalingsåret. Hvis du mener innrapportert beløp er feil, må du kontakte NAV.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_KONSERNBIDRAG_AVGITT_MANGLER_SELSKAPSNAVN",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig avgir konsernbidrag og mottakers orgnavn mangler\n        // kontrollen gir merknad i valideringstjenesten\n    \n     skattemeldingUpersonlig\n            .forForekomsterAv(sti(inntektOgUnderskudd,avgittKonsernbidrag))\n            .utslagFor {\n               hvis((fastsatt(mottakersOrganisasjonsnummer) er oppgitt) og (fastsatt(mottakersOrganisasjonsnavn) ikkeEr oppgitt)       \n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Feltet "mottakers organisasjonsnavn" må fylles ut.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_KONSERNBIDRAG_MOTTATT_MANGLER_SELSKAPSNAVN",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig mottar konsernbidrag og avgivers orgnavn mangler\n        // kontrollen gir merknad i valideringstjenesten\n    \n     skattemeldingUpersonlig\n            .forForekomsterAv(sti(inntektOgUnderskudd,mottattKonsernbidrag))\n            .utslagFor {\n               hvis((fastsatt(avgiversOrganisasjonsnummer) er oppgitt) og (fastsatt(avgiversOrganisasjonsnavn) ikkeEr oppgitt)       \n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Feltet "avgivers organisasjonsnavn" må fylles ut.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_KREDITFRADRAG_AVVIK_NÆRINGSINNTEKT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) \n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n           \n        //kontrollen gir utslag dersom skattepliktig skattepliktig krever kreditfradrag for betalt skatt av næringsinntekt og hele/deler av inntekten ikke er tatt med som skattepliktig inntekt\n        //kontrollen gir validering i SME\n       \n       val skattemessigResultatNSP = naeringsspesifikasjon\n      \t\t.forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .summer{fordeltSkattemessigResultatEtterKorreksjon.beloepSomTall}\n                              \nskattemelding\n\t.forForekomsterAv(grunnlagForKreditfradragFraNaeringsvirksomhetIUtlandet)      \n    \n            .utslagFor {             \n              val avviksbeløp = naeringsinntektSomGruppe.beloepSomTall - skattemessigResultatNSP \n              \n                hvis(naeringsinntektSomGruppe.beloepSomTall erStørreEnn skattemessigResultatNSP)\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, Avviksbeloep settesTil avviksbeløp\n                    )\n                }\n            }\n                  }\n\n",
      "hjelpetekstSME": "Du har krevd kreditfradrag for betalt skatt av næringsinntekt i utlandet, men har ikke tatt med hele/deler av næringsinntekten som skattepliktig inntekt. Alle inntekter og kostnader du har oppgitt under \"Grunnlag for kreditfradrag i næringsinntekt i utlandet\", må du også oppgi i næringsspesifikasjonen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_KREDITFRADRAG_FRADRAG_NORSK_SKATT_DOKUMENTASJON",
      "kontrollformel": "sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n            // kontrollen gir utslag dersom skattyter krever fradrag for betalt skatt i utlandet uten å legge ved dokumentasjon\n            // kontrollen gir merknad i valideringstjenesten og SME\n    \n    skattemeldingUpersonlig\n       \t.forForekomsterAv(gruppe(sti(fradragINorskInntektsskattForSkattBetaltTilFremmedStatKnyttetTilAnnenUtenlandsinntekt,inntektsskattBetaltIUtlandet),\n        \t\t\t\t\t\t sti(fradragINorskInntektsskattForSkattBetaltTilFremmedStatKnyttetTilInntektFraNOKUSSelskapEllerVirksomhetILavskatteland,inntektsskattBetaltIUtlandet),\n                    \t\t\t sti(fradragINorskFormuesskattForSkattBetaltTilFremmedStatKnyttetTilAnnenUtenlandsinntekt,formuesskattBetaltIUtlandet),             \n                    \t\t\t sti(fradragINorskFormuesskattForSkattBetaltTilFremmedStatKnyttetTilInntektFraNOKUSSelskapEllerVirksomhetILavskatteland,formuesskattBetaltIUtlandet)\n                                ))\n    \n                .utslagFor {\n                 val harVedlegg = beloepSomTall har vedlegg \n    \n                    hvis((fastsatt(landkode) er oppgitt) og ikke(harVedlegg)) {\n                        betjeningsstrategiSettesTil(\n                            ikke, merknadInformasjon, 1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Det må dokumenteres at beløpet det kreves fradrag for<ul >  <li>utgjør utenlandsk skatt som er fradragsberettiget i norsk skatt</li><li>er innbetalt i utlandet<li>utgjør endelig skatt ved ordinær skattefastsetting i utlandet</li></ul> Dokumentasjonen lastes opp i tilknytning til feltet \"beløp\" i betalt inntektsskatt til utlandet. <br>Hvis selskapet ikke har mottatt dokumentasjon fra utlandet, ber vi dere vente med å kreve fradraget og sende inn ny skattemelding (ny egenfastsetting) med krav om kreditfradrag når dokumentasjonen er mottatt.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_KREDITFRADRAG_SKTL_1630_1631",
      "kontrollformel": "sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n            // kontrollen gir utslag dersom skattyter mangler dokumentasjon i feltet  \"Årets fradragsberettigede andel av underliggende selskapsskatt\"\n            // kontrollen gir merknad i valideringstjenesten og SME\n    \n    skattemeldingUpersonlig\n        .utslagFor {\n          val harOpplysningerOmKreditIht1631 = hvorMinstEnForekomst{fradragINorskSkattVedSkattleggingAvUtbytteMvFraUtenlandskDatterselskap er oppgitt}\n    \n                    hvis(harOpplysningerOmKreditIht1631) {\n                        betjeningsstrategiSettesTil(\n                            ikke, merknadInformasjon, 1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Temaet \"Kreditfradrag i utenlandsk skatt av overskudd eller utbytte fra utenlandsk datterselskap\" skal dere bare benytte for skatt på utbytte fra utenlandsk datterselskap og/eller underliggende selskapsskatt i utlandet.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_KREDITFRADRAG_SKTL_1630_DOKUMENTASJON",
      "kontrollformel": "sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n            // kontrollen gir utslag dersom skattyter mangler dokumentasjon i feltet  \"Årets fradragsberettigede andel av underliggende selskapsskatt\"\n            // kontrollen gir merknad i valideringstjenesten og SME\n    \n    skattemeldingUpersonlig\n       \t.forForekomsterAv(fradragINorskSkattVedSkattleggingAvUtbytteMvFraUtenlandskDatterselskap)\n        .utslagFor {\n          val harVedlegg = anvendtFradragsberettigetAndelAvUnderliggendeSelskapsskattIInntektsaaret har vedlegg\n    \n                    hvis((fastsatt(anvendtFradragsberettigetAndelAvUnderliggendeSelskapsskattIInntektsaaret) er oppgitt) og ikke(harVedlegg)) {\n                        betjeningsstrategiSettesTil(\n                            ikke, merknadInformasjon, 1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Det må forklares i et vedlegg hvordan beløpet i feltet \"Årets fradragsberettigede andel av underliggende selskapsskatt\" er regnet ut. Betalt skatt må dokumenteres. Dokumentasjonen lastes opp i tilknytning til feltet.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_KREDITFRADRAG_UNNTAK_FRITAKSMETODE",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig har oppgitt utbytte eller aksjesalgsgevinst i land med landkode innenfor EØS\n        // kontrollen gir merknad i valideringstjenesten\n      val EOESLandkoder = aktiveLandkoder_2022\n            .forForekomsterAv { kode }\n            .filtrer { fastsatt(kodetillegg.medlemAvEoes) erLik \"Ja\" }\n            .verdierFor { tekniskNavn } \n    \n     skattemeldingUpersonlig\n            .forForekomsterAv(gruppe(sti(fradragINorskInntektsskattForSkattBetaltTilFremmedStatKnyttetTilAnnenUtenlandsinntekt,inntektsskattBetaltIUtlandet),\n                                     sti(fradragINorskInntektsskattForSkattBetaltTilFremmedStatKnyttetTilInntektFraNOKUSSelskapEllerVirksomhetILavskatteland,inntektsskattBetaltIUtlandet)))                        \n            .utslagFor {\n              val landIEØS = hvorMinstEnForekomst{fastsatt(landkode) finnesBlant EOESLandkoder}\n    \n               hvis((fastsatt(type).finnesBlant(\"annenInntekt\",\"aksjeutbytte\")) og landIEØS\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Kreditfradrag kan bare kreves av skatt på utbytte og gevinst som ikke er omfattet av fritaksmetoden. Utbytte og/eller gevinst ved salg av aksjer må være tatt til skattemessig inntekt for at det kan kreves kreditfradrag for den utenlandske skatten.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_LINEÆRAVSKRIVNING_MANGLER_ANSKAFFELSESKOST",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når anskaffelseskost ikke er oppgitt for lineært avskrevet driftsmiddel\n        // kontrollen medfører merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis((anskaffelseskost.beloepSomTall ikkeEr oppgitt) og (paakostning.beloepSomTall ikkeEr oppgitt)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det må legges inn anskaffelseskost for driftsmidler som avskrives lineært.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_LINEÆRAVSKRIVNING_MANGLER_LEVETID",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når levetid ikke er oppgitt for lineært avskrevet driftsmiddel\n        // kontrollen medfører merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis(levetid ikkeEr oppgitt) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det må legges inn levetid for driftsmidler som avskrives lineært.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_LINEÆRAVSKRIVNING_MANGLER_REALISASJONSDATO",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når driftsmiddelet er realisert og realisasjonsdato mangler\n        // kontrollen medfører merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis((vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det må legges inn realisasjonsdato for driftsmidler som er solgt eller realisert på annen måte.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_LINEÆRAVSKRIVNING_PÅKOSTNING",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // Kontrollen slår ut når det rapporteres påkostning på et driftsmiddel som avskrives lineært og ervervsdatoen er tidligere enn i inntektsåret\n        // Kontrollen medfører avvisning i valideringstjenesten\n        val datoIInntektsaaret = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .verdiFor { regnskapsperiode.start }.dato\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis((paakostning.beloepSomTall er oppgitt) og (verdiFor { ervervsdato }.dato erMindreEnn datoIInntektsaaret)) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er rapportert påkostning på et lineært avskrivbart driftsmiddel som er anskaffet i et tidligere år. Slike påkostninger må registreres som et eget lineært avskrivbart driftsmiddel.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_MANGELFULL_NÆRINGSSPESIFIKASJON",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n    \n        // kontrollen gir utslag dersom skattyter forsøker å levere næringsspesifikasjon uten noen av disse temaene:\n        //     Fordelt beregnet næringsinntekt\n        //     Personinntekt\n        //     Samlet gjeld og formuesobjekter\n        naeringsspesifikasjon\n            .utslagFor {\n                val harNæringsspesifikasjon = forForekomsterAv(virksomhet)\n                    .hvorMinstEnForekomst { virksomhetstype er oppgitt }\n                    \n                val harOppgittTilstrekkeligInformasjon = hvorMinstEnForekomst{gruppe(fordeltBeregnetNaeringsinntekt,\n                                                                                    fordeltBeregnetPersoninntekt,\n                                                                                    samletGjeldOgFormuesobjekter) er oppgitt} \n            \n                hvis(harNæringsspesifikasjon og ikke(harOppgittTilstrekkeligInformasjon)) \n              {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det mangler opplysninger i næringsspesifikasjonen. Næringsspesifikasjonen må minst innehold et av temaene «Fordelt beregnet næringsinntekt», «Fordelt beregnet personinntekt» eller «Samlet gjeld og formuesobjekter».",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_MANGLER_EROMFATTETAVFRITAKSMETODEN",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n    \n        // kontrollen gir utslag dersom det er rapportert verdipapir uten at feltet erOmtattetAvFritaksmetoden er oppgitt\n        // kontrollen gir merknad i valideringstjenesten\n    \n        skattemeldingUpersonlig\n            .forForekomsterAv(\n                gruppe(\n                    sti(\n                        spesifikasjonAvForholdRelevanteForBeskatning,\n                        aksjeIAksjonaerregisteret\n                    ),\n                    sti(spesifikasjonAvForholdRelevanteForBeskatning, aksjeIkkeIAksjonaerregisteret),\n                    sti(spesifikasjonAvForholdRelevanteForBeskatning, annetFinansprodukt),\n                    sti(spesifikasjonAvForholdRelevanteForBeskatning, verdipapirfond)\n    \n                )\n            )\n            .utslagFor {\n                hvis(fastsatt(erOmfattetAvFritaksmetoden) ikkeEr oppgitt) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det mangler opplysninger om ett eller flere verdipapirer er omfattet av fritaksmetoden eller ikke.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_MANGLER_NÆRINGSSPESIFIKASJON_OG_DELTAKER_SDF_INFO",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n     {\n        // kontrollen gir utslag dersom skattyters er næringsdrivende (harLeveringsplikt = true i OOSS)\n        // og ikke har oppgitt næringsspesifikasjon \n        //       eller opplysninger om deltakers andel i SDF \n        //       eller næringsinntekt fordelt fra ektefelle\n        // kontrollen gir merknadMangel i SME\n    \n        val erLeveringspliktig = opplysningerOmSkattesubjektGjeldendeDokument\n            .forForekomsterAv{opplysningerOmSkattesubjekt}\n            .hvorMinstEnForekomst{leveringsplikt.harLeveringsplikt erLik true}\n    \n        val harOppgittAarsresulat = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, aarsresultat))\n            .hvorMinstEnForekomst { beloepSomTall er oppgitt }\n            \n        val harIkkeBalanseregnskap = naeringsspesifikasjon\n       \t\t.harIngenForekomsterDer{balanseregnskap er oppgitt}\n    \n        val harIkkeOppgittNaeringFordeltFraEktefelle = skattemelding\n           .forForekomsterAv(naeringsinntektMvFordeltFraEktefelle)\n           .harIngenForekomsterDer{fastsatt(naeringstype) er oppgitt}\n    \n        val harIkkeOppgittDeltakerinformasjonSDF = skattemelding\n            .harIngenForekomsterDer { fastsatt(deltakersAndelAvFormueOgInntekt) er oppgitt }\n    \n        skattemelding\n            .utslagFor {\n                hvis(erLeveringspliktig og\n                    ikke(harOppgittAarsresulat) og\n                    harIkkeBalanseregnskap og\n                    harIkkeOppgittNaeringFordeltFraEktefelle og\n                    harIkkeOppgittDeltakerinformasjonSDF\n                ) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil)\n                }\n            }\n    }",
      "hjelpetekstSME": "<p>Dersom du var personlig næringsdrivende i fjor, må du sende inn en næringsspesifikasjon som en del av skattemeldingen din. Det gjelder selv om det ikke var aktivitet i din virksomhet i fjor. Hvis du bruker regnskaps- eller årsoppgjørssystem starter du innsendingen i ditt system.</p><p><strong>Du finner næringsspesifikasjonen under temaet \"Næring\" (skroll nedover).</strong></p><p>Er du deltaker i et selskap skal du oppgi opplysninger om dette under temaet \"Formue og inntekt i selskap med deltakerfastsetting\" i skattemeldingen.<p><strong>Denne skattemeldingen må leveres.</strong></p>",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_MANGLER_OPPLYSNINGER_OM_SELSKAPET",
      "kontrollformel": "// Kontrollen gir utslag dersom selskapet ikke svarer på spørsmålene om det er børsnotert eller om det har ytelser\n    // mellom aksjonær og selskapet eller temaet Opplysninger om selskapet mangler\n    // Kontrollen gir merknad i valideringstjenesten\n    sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n    \n            val manglerOpplysninger = skattemeldingUpersonlig\n                .forForekomsterAv(opplysningerOmSkattesubjekt)\n                .harIngenForekomsterDer {\n                    (fastsatt(erBoersnotert) er oppgitt) eller\n                        (fastsatt(harYtelseMellomAksjonaerEllerNaerstaaendeOgSelskapEllerSelskapetsDatterselskap) er oppgitt)\n                }\n    \n            skattemeldingUpersonlig\n                .utslagFor {\n                    hvis(manglerOpplysninger eller (fastsatt(opplysningerOmSkattesubjekt) ikkeEr oppgitt)) {\n                        betjeningsstrategiSettesTil(\n                            ikke, merknadStandard, 1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Det må svares på om selskapet er børsnotert og om det er ytelser mellom aksjonær og selskapet.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_MANGLER_VERDI_BAK_AKSJENE",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom ikke-børsnoterte aksjeselskap ikke rapporterer feltet samletVerdiBakAksjeneISelskapet\n        // kontrollen gir merknad i valideringstjenesten\n    \n      \tval erIkkeFormuesskattepliktig = skattepliktUpersonligGjeldende\n      \t\t.forForekomsterAv{skatteplikt}\n            .hvorMinstEnForekomst{erFritattForFormuesskatt erLik true}\n    \n      \tval selskapetErBoersnotert = skattemeldingUpersonlig\n            .forForekomsterAv(opplysningerOmSkattesubjekt)\n            .hvorMinstEnForekomst { erBoersnotert erLik true }\n    \n        val harIkkeVerdiBakAksjene = skattemeldingUpersonlig\n            .forForekomsterAv(verdsettingAvAksje)\n            .harIngenForekomsterDer { fastsatt(samletVerdiBakAksjeneISelskapet) er oppgitt }\n    \n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                hvis(erIkkeFormuesskattepliktig og harIkkeVerdiBakAksjene og ikke(selskapetErBoersnotert)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                                         )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det finnes ikke opplysninger i feltet \"samletVerdiBakAksjeneISelskapet\" i skattemeldingen. De fleste aksjeselskap skal beregne denne verdien. Unntak gjelder for aksjeselskap som er børsnotert eller eid 100 % fra utlandet eller offentlig sektor (statlig, fylkeskommunal eller kommunal).",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_MANGLER_YTELSE",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val harYtelseFraAksjonaerEllerNaerstaaendeINS = naeringsspesifikasjon\n            .forForekomsterAv(sti(andreForhold, ytelseFraAksjonaerDeltakerEllerNaerstaaende))\n            .hvorMinstEnForekomst {\n                (laan.kostnadsfoerteRenter erStørreEnn 0) eller\n                    (laan.laanesaldoVedUtgangAvInntektsaar erStørreEnn 0) eller\n                    (laan.laanesaldoPer061015 erStørreEnn 0) eller\n                    (sikkerhetsstillelse.beloepPer061015 erStørreEnn 0) eller\n                    (sikkerhetsstillelse.beloepVedUtgangAvInntektsaar erStørreEnn 0) eller\n                    (realisasjonOgUtleieAvFormuesobjektMv er oppgitt)\n            }\n    \n        val harYtelseFraSelskapINS = naeringsspesifikasjon\n            .forForekomsterAv(sti(andreForhold, ytelseFraSelskapEllerSelskapetsDatterselskap))\n            .hvorMinstEnForekomst {\n                (totaltUtdeltUtbytteVedUtgangAvInntektsaar erStørreEnn 0) eller\n                    (totaltUtdeltUtbytteVedUtgangAvInntektsaar erStørreEnn 0) eller\n                    (laan.kostnadsfoerteRenter erStørreEnn 0) eller\n                    (laan.laanesaldoVedUtgangAvInntektsaar erStørreEnn 0) eller\n                    (laan.laanesaldoPer061015 erStørreEnn 0) eller\n                    (sikkerhetsstillelse.beloepPer061015 erStørreEnn 0) eller\n                    (sikkerhetsstillelse.beloepVedUtgangAvInntektsaar erStørreEnn 0) eller\n                    (realisasjonOgUtleieAvFormuesobjektMv er oppgitt)\n            }\n    \n        skattemeldingUpersonlig\n            .utslagFor {\n                val harYtelserMellomAksjonaerOgSelskapISMU = forForekomsterAv(opplysningerOmSkattesubjekt)\n                    .hvorMinstEnForekomst { harYtelseMellomAksjonaerEllerNaerstaaendeOgSelskapEllerSelskapetsDatterselskap erLik true }\n    \n                hvis(harYtelserMellomAksjonaerOgSelskapISMU og (ikke(harYtelseFraAksjonaerEllerNaerstaaendeINS eller harYtelseFraSelskapINS))) {\n                    betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det mangler spesifikasjon av ytelse mellom selskap og aksjonær/deltaker.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_MIDLERTIDIG_FORSKJELL_BESKRIVELSE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // Dersom midlertidigForskjell.midlertidigForskjellstype = annenPositivMidlertidigForskjell eller annenNegativMidlertidigForskjell og midlertidigForskjell.beskrivelse mangler\n        naeringsspesifikasjon\n            .forForekomsterAv(midlertidigForskjell)\n            .filtrer {\n                fastsatt(midlertidigForskjellstype)\n                    .finnesBlant(\"annenPositivMidlertidigForskjell\", \"annenNegativMidlertidigForskjell\")\n            }\n            .utslagFor {\n                hvis(beskrivelse ikkeEr oppgitt) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Når type midlertidig forskjell er annen negativ eller annen positiv, så må det legges inn en beskrivelse av forskjellen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_NEDSKREVET_VERDI_DRIFTSMIDDEL",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom nedskrevet verdi av utskilte driftsmidler er høyere enn \n        // summen av inngående verdi, nyanskaffelse og påkostning\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis(\n                    (nedskrevetVerdiAvUtskiltAnleggsmiddel.beloepSomTall er oppgitt)\n                        og (\n                        (nedskrevetVerdiAvUtskiltAnleggsmiddel.beloepSomTall) erStørreEnn\n                            ((inngaaendeVerdi.beloepSomTall) + (nyanskaffelse.beloepSomTall) + (paakostning.beloepSomTall))\n                        )\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Summen av inngående verdi, nyanskaffelser og påkostninger i saldogruppen kan ikke være lavere enn den nedskrevne verdien av utskilte driftsmidler.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_NEGATIV_KONTO_2080",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag dersom post 2080 \"udekket tap\" er negativ\n        // kontrollen avviser innleveringen\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, egenkapital))\n            .forForekomsterAv(kapital)\n            .utslagFor {\n                hvis((type erLik \"2080\") og (beloepSomGruppe.beloepSomTall erMindreEnn 0)) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er lagt inn verdi med negativ fortegn på konto for udekket tap. Verdien skal ikke ha fortegn.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_NEGATIV_KONTO_3300",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom post 3300 \"spesielle offentlige avgifter vedrørende salg\" er negativ\n        // kontrollen medfører merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftsinntekt, salgsinntekt))\n            .forForekomsterAv(inntekt)\n            .utslagFor {\n                hvis((type erLik \"3300\") og (beloepSomGruppe.beloepSomTall erMindreEnn 0)) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er lagt inn verdi med negativ fortegn på konto for spesielle offentlige avgifter vedrørende salg. Verdien skal i utgangspunktet ikke ha fortegn.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_NEGATIV_KONTO_6998",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag når post 6998 rapporteres med negativt fortegn\n        // kontrollen avviser innleveringen\n        naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n            .forForekomsterAv(kostnad)\n            .utslagFor {\n                hvis((type erLik \"6998\") og (beloepSomGruppe.beloepSomTall erMindreEnn 0)) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                          kortTypeReferanse settesLik \"kontorlokaler\"\n\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er lagt inn verdi med negativt fortegn på konto for privat bruk av elektronisk kommunikasjon. Verdien skal ikke ha fortegn.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_NEGATIV_KONTO_7099",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag dersom post 7099 er negativ\n        // kontrollen avviser innleveringen\n        naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n            .forForekomsterAv(kostnad)\n            .utslagFor {\n                hvis((type erLik \"7099\") og (beloepSomGruppe.beloepSomTall erMindreEnn 0)) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er lagt inn verdi med negativt fortegn på konto for privat bruk av yrkesbil. Verdien skal ikke ha fortegn.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_NEGATIV_SALDO",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når grunnlag for inntektsføring er lavere enn - 15 000 og avskrivingssats er mindre enn minimumssatsen for saldogruppen\n        // kontrollen gir utslag når grunnlag for inntektsføring er høyere eller lik - 15 000 og avskrivningssats er mindre enn 100 %\n        // kontrollen medfører merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis(\n                    (\n                        (saldogruppe erLik \"a\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 30)) eller\n                            (\n                                (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                                    (avskrivningssats erMindreEnn 100)\n                                )\n                        ) eller\n                        (\n                            (saldogruppe erLik \"c\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 24)) eller\n                                (\n                                    (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                                        (avskrivningssats erMindreEnn 100)\n                                    )\n                            ) eller\n                        (\n                            (saldogruppe erLik \"c2\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 30)) eller\n                                (\n                                    (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                                        (avskrivningssats erMindreEnn 100)\n                                    )\n                            ) eller\n                        (\n                            (saldogruppe erLik \"d\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 20)) eller\n                                (\n                                    (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                                        (avskrivningssats erMindreEnn 100)\n                                    )\n                            ) eller\n                        (\n                            (saldogruppe erLik \"j\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 10)) eller\n                                (\n                                    (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                                        (avskrivningssats erMindreEnn 100)\n                                    )\n                            )\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt for lav sats ved beregning av beløpet som skal inntektsføres fra negativ saldo.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_NEGATIV_SALDO_IFJOR_OVER_15000",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        //kontrollen gir utslag dersom skattyters partsnr finnes i kontrolliste (negativ saldo under 15000) og\n        //skattyter ikke har inntektsført andel av negativ saldo\n        // AB-test på skattytere som har tallene 0, 2, 4, 6 eller 8 i 7.siffer i partsnummeret\n        //kontrollen gir validering i SME\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { partsnummerSomTekst }\n    \n        val harIkkeOppgittNegativSaldo = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .filtrer{saldogruppe.finnesBlant(\"a\",\"c\",\"c2\",\"d\",\"j\")}\n            .harIngenForekomsterDer { fastsatt(avskrivningssats) er oppgitt }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n                val finnesIKontrollisteNegativSaldo = finnesIKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - negativ saldo over 15000\",\n                    listeAv(partsnr)\n                )\n    \n                hvis(finnesIKontrollisteNegativSaldo og harIkkeOppgittNegativSaldo og (partsnr.tegnFraIndeks(7).finnesBlant(\"0\",\"2\",\"4\",\"6\",\"8\"))\n                    ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadTips,\n                        1\n                    )\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "Du hadde negativ saldo i saldogruppe a, c, c2, d og/eller j per 31.12.2021. Negativ saldo skal inntektsføres for hvert år med et beløp som minst tilsvarer gruppens avskrivningssats. <a href=\"https://www.skatteetaten.no/satser/avskrivningssatser/\" target=\"_blank\">Avskrivningssatsene finner du her</a>. Vil du legge til opplysningene nå?",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_NEGATIV_SALDO_IFJOR_OVER_15000_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        //kontrollen gir utslag dersom skattyters partsnr finnes i kontrolliste (negativ saldo under 15000) og\n        //skattyter ikke har inntektsført andel av negativ saldo\n        // AB-test på skattytere som har tallene 1, 3, 5 ,7 eller 9 i 7.siffer i partsnummeret\n        //kontrollen gir ingen validering i SME\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { partsnummerSomTekst }\n    \n        val harIkkeOppgittNegativSaldo = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .filtrer{saldogruppe.finnesBlant(\"a\",\"c\",\"c2\",\"d\",\"j\")}\n            .harIngenForekomsterDer { fastsatt(avskrivningssats) er oppgitt }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n                val finnesIKontrollisteNegativSaldo = finnesIKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - negativ saldo over 15000\",\n                    listeAv(partsnr)\n                )\n    \n                hvis(finnesIKontrollisteNegativSaldo og harIkkeOppgittNegativSaldo og (partsnr.tegnFraIndeks(7).finnesBlant(\"1\",\"3\",\"5\",\"7\",\"9\"))\n                    ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadIngen,\n                        1\n                    )\n                }\n            }\n    }\n\n\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_NEGATIV_SALDO_IFJOR_UNDER_15000",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        //kontrollen gir utslag dersom skattyters partsnr finnes i kontrolliste (negativ saldo under 15000) og\n        //skattyter ikke har inntektsført andel av negativ saldo\n        //kontrollen gir oppgave i SMIA\n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { partsnummerSomTekst }\n    \n        val harIkkeOppgittNegativSaldo = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .filtrer{saldogruppe.finnesBlant(\"a\",\"c\",\"c2\",\"d\",\"j\")}\n            .harIngenForekomsterDer { fastsatt(avskrivningssats) er oppgitt }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n                val finnesIKontrollisteNegativSaldo = finnesIKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - negativ saldo under 15000\",\n                    listeAv(partsnr)\n                )\n    \n                hvis(finnesIKontrollisteNegativSaldo og harIkkeOppgittNegativSaldo) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadTips,\n                        1\n                    )\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "Du hadde negativ saldo i saldogruppe a, c, c2, d og/eller j under kr 15 000 per 31.12.2021. Når negativ saldo er under kr 15 000, skal du inntektsføre den i sin helhet. Vil du gjøre dette nå?",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_NEGATIV_SALDO_IKKE_OVERFØRT_GTK",
      "kontrollformel": "sakstype(Personlig,Upersonlig,SDF)\n    .kontekst(ValideringSkattepliktig) {\n     // Dersom grunnlag for årets saldoavskrivning  i saldogruppe b, e, f, g, h eller i < 0  i felt \"Grunnlag for avskrivning eller inntektsføring\", og hele den negative saldoen ikke er overført til gevinst og tapskonto i felt \"Gevinst overført til gevinst- og tapskonto\"\n     // gir merknad i valideringstjenesten\n    \n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel,saldoavskrevetAnleggsmiddel))\n        .filtrer{fastsatt(saldogruppe).finnesBlant(\"b\",\"e\",\"f\",\"g\",\"h\",\"i\")}\n       \t.utslagFor {\n          \thvis((fastsatt(vederlagVedRealisasjonOgUttak.beloepSomTall) er oppgitt) og \n          \t\t\t(fastsatt(utgaaendeVerdi.beloepSomTall) erMindreEnn 0) og\n                 \t(fastsatt(erRealisasjonenUfrivilligOgGevinstenBetingetSkattefri) erLik false)\n                    ){\n                        betjeningsstrategiSettesTil(\n                            ikke,\n                            merknadInformasjon,\n                            1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Du har et negativt grunnlag for avskrivning i saldogruppen. Den negative saldoen kan inntektsføres helt eller delvis i året i feltet \"Salg og annen realisasjon inntektsført i inntektsåret\". Resten av den negative saldoen må overføres til feltet \"Gevinst overført til gevinst- og tapskonto\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_NÆRINGSINNTEKT_MANGLER_SKATTEMESSIG_UNNTAK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        //kontrollen gir utslag dersom skattyter har valgt 'Ikke skattepliktig eller trygdepliktig' som trygde- og skattemessig unntak for personinntekt,\n        //og det mangler trygde- og skattemessig unntak 'Ikke skattepliktig eller trygdepliktig' for næringsinntekten.\n        //kontrollen gir merknad i SME\n    \n        skattemelding\n            .forForekomsterAv(naeringsinntektMv)\n            .utslagFor {\n    \n                val harTrygdefritakPåPersoninntekt = hvorMinstEnForekomst {\n                    (samordnetPersoninntekt.personinntekt.beloepSomTall er oppgitt) og\n                        (\n                            fastsatt(samordnetPersoninntekt.personinntekt.trygdeEllerSkattemessigUnntak) erLik (\n                                \"skattefriUtenTrygdeavgiftsplikt\"\n                                )\n                            )\n                }\n    \n                val harIkkeSkattefritakPåNæringsinntekt = hvorMinstEnForekomst {\n                    (\n                        (naeringsinntektTilordnetInnehaver.beloepSomTall er oppgitt) og\n                            (\n                                fastsatt(naeringsinntektTilordnetInnehaver.trygdeEllerSkattemessigUnntak) erUlik (\n                                    \"skattefriUtenTrygdeavgiftsplikt\"\n                                    )\n                                ) eller\n                            (\n                                (underskuddTilordnetInnehaver.beloepSomTall er oppgitt) og (\n                                    fastsatt(underskuddTilordnetInnehaver.trygdeEllerSkattemessigUnntak) erUlik (\n                                        \"skattefriUtenTrygdeavgiftsplikt\"\n                                        )\n                                    )\n                                )\n                        )\n                }\n    \n                hvis(harTrygdefritakPåPersoninntekt og harIkkeSkattefritakPåNæringsinntekt) {\n                    betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har valgt \"Ikke skattepliktig eller trygdepliktig\" som trygde- og skattemessig unntak for personinntekten. Da må du også velge dette for næringsinntekten.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_OBLIGASJON_MANGLER_OPPLYSNING",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        skattemeldingUpersonlig\n            .forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat))\n            .utslagFor {\n                hvis(\n                    rentepapiretsNavn er oppgitt og (\n                        (kontofoerersNavn ikkeEr oppgitt) eller\n                            (kontonummer ikkeEr oppgitt) eller\n                            (finansproduktidentifikator ikkeEr oppgitt) eller\n                            (finansproduktidentifikatortype ikkeEr oppgitt) eller\n                            (landkode ikkeEr oppgitt) eller\n                            (antallObligasjonOgSertifikat ikkeEr oppgitt)\n                        )\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det mangler en eller flere opplysninger om rapportert obligasjon eller sertifikat. Vi ønsker at følgende felter fylles ut; kontofoerersNavn, kontonummer, finansproduktidentifikator, finansproduktidentifikatortype, landkode og antallObligasjonOgSertifikat.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_OMSETNING_MVA_SME_SBS",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        //kontrollen gir utslag dersom skattyter finnes i kontrolliste (innrapportert i mva) og ikke har rapportert drifsinntekter eller driftskostnader i NSP\n        // AB-test på skattytere som har partall i 7.siffer i partsnummeret\n        //kontrollen gir merknad\n    \n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n        val harIkkeDriftsinntekter = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftsinntekt, sumDriftsinntekt))\n            .summer { beloepSomTall }\n    \n        val harIkkeDriftskostnader = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftskostnad, sumDriftskostnad))\n            .summer { beloepSomTall }\n    \n        skattemelding\n            .fokusområde(\"Fokusområde\")\n            .forForekomsterAv(naeringsinntektMv)\n            .utslagFor {\n    \n                val finnesIKontrollisteMva = finnesIKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - innrapportert i mva\",\n                    listeAv(partsnr)\n                )\n    \n                hvis(\n                    finnesIKontrollisteMva og (harIkkeDriftsinntekter erLik 0) og (harIkkeDriftskostnader erLik 0) og\n                        (partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"2\", \"4\", \"6\", \"8\"))\n                )\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadInformasjon,\n                        1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Foretaket ditt var registrert i Merverdiavgiftsregisteret i inntektsåret. Det er ikke oppgitt inntekter eller kostnader i næringsspesifikasjonen. Vurder om denne skal fylles ut.",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_OMSETNING_MVA_SME_SBS_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        //kontrollen gir utslag dersom skattyter finnes i kontrolliste (innrapportert i mva) og ikke har rapportert drifsinntekter eller driftskostnader i NSP\n        // AB-test på skattytere som har partall i 7.siffer i partsnummeret\n        //kontrollen gir ingen merknad\n    \n        val partsnr = skattepliktGjeldende\n            .forForekomsterAv(skatteplikt)\n            .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n    \n        val harIkkeDriftsinntekter = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftsinntekt, sumDriftsinntekt))\n            .summer { beloepSomTall }\n    \n        val harIkkeDriftskostnader = naeringsspesifikasjon\n            .forForekomsterAv(sti(resultatregnskap, driftskostnad, sumDriftskostnad))\n            .summer { beloepSomTall }\n    \n        skattemelding\n            .fokusområde(\"Fokusområde\")\n            .forForekomsterAv(naeringsinntektMv)\n            .utslagFor {\n    \n                val finnesIKontrollisteMva = finnesIKontrolliste(\n                    skattemelding.kontrollKontekst.inntektsaar,\n                    \"kontrolliste - innrapportert i mva\",\n                    listeAv(partsnr)\n                )\n    \n                hvis(\n                    finnesIKontrollisteMva og (harIkkeDriftsinntekter erLik 0) og (harIkkeDriftskostnader erLik 0) og\n                        (partsnr.tegnFraIndeks(7).finnesBlant(\"1\", \"3\", \"5\", \"7\", \"9\"))\n                )\n                {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadIngen,\n                        1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_PERMANENT_FORSKJELL_BESKRIVELSE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // Dersom permanentForskjell.permanentForskjellstype = annetInntektstillegg eller annetInntektsfradrag og permanentForskjell.beskrivelse mangler\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(permanentForskjell)\n            .filtrer {\n                fastsatt(permanentForskjellstype)\n                    .finnesBlant(\"annetInntektstillegg\", \"annetInntektsfradrag\")\n            }\n            .utslagFor {\n                hvis(beskrivelse ikkeEr oppgitt) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Når type permanent forskjell er annet inntektstillegg eller annet inntektsfradrag, så må det legges inn en beskrivelse av forskjellen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_PERSONINNTEKT_AKSJESELSKAP",
      "kontrollformel": "sakstype(Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig som ikke er enkeltpersonforetak rapporterer personinntekt\n        // kontrollen gir faktiskFeil i valideringstjenesten\n    \n         val harGyldigVirksomhetstype = naeringsspesifikasjon\n      \t\t.forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst{virksomhetstype.finnesBlant(\n             \"oevrigSelskap\",\n             \"selskapMedDeltakerfastsetting\",\n             \"bankOgFinansieringsforetak\", \n             \"livsforsikringsforetakOgPensjonskasse\",\n             \"skadeforsikringsforetak\") \n            }\n    \n        val harRapportertPersoninntekt = naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .hvorMinstEnForekomst {\n                (identifikatorForFordeltBeregnetPersoninntekt er oppgitt)\n            }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                hvis(harGyldigVirksomhetstype og harRapportertPersoninntekt) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }}",
      "hjelpetekstSME": "Det finnes opplysninger om personinntekt i næringsspesifikasjonen. Aksjeselskap skal ikke rapportere opplysninger om personinntekt i næringsspesifikasjonen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_PERSONINNTEKT_MANGLER_TRYGDEOGSKATTEMESSIG_UNNTAK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        //kontrollen gir utslag dersom skattyter har valgt 'Ikke skattepliktig eller trygdepliktig' som trygde- og skattemessig unntak for næringsinntekt,\n        //og det mangler trygde- og skattemessig unntak 'Ikke skattepliktig eller trygdepliktig' for personinntekten.\n        //kontrollen gir merknad i SME\n    \n        skattemelding\n            .forForekomsterAv(naeringsinntektMv)\n            .utslagFor {\n    \n                val harSkattefritakPåNæringsinntekt = hvorMinstEnForekomst {\n                    (\n                        (naeringsinntektTilordnetInnehaver.beloepSomTall er oppgitt) og\n                            (\n                                fastsatt(naeringsinntektTilordnetInnehaver.trygdeEllerSkattemessigUnntak) erLik (\n                                    \"skattefriUtenTrygdeavgiftsplikt\"\n                                    )\n                                )\n                        ) eller\n                        (\n                            (underskuddTilordnetInnehaver.beloepSomTall er oppgitt) og\n                                (\n                                    fastsatt(underskuddTilordnetInnehaver.trygdeEllerSkattemessigUnntak) erLik (\n                                        \"skattefriUtenTrygdeavgiftsplikt\"\n                                        )\n                                    )\n                            )\n                }\n    \n                val harIkkeTrygdefritakPåPersoninntekt = hvorMinstEnForekomst {\n                    (samordnetPersoninntekt.personinntekt.beloepSomTall er oppgitt) og\n                        (\n                            fastsatt(samordnetPersoninntekt.personinntekt.trygdeEllerSkattemessigUnntak) erUlik (\n                                \"skattefriUtenTrygdeavgiftsplikt\"\n                                )\n                            )\n                }\n    \n                hvis(harSkattefritakPåNæringsinntekt og harIkkeTrygdefritakPåPersoninntekt) {\n                    betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har valgt \"Ikke skattepliktig eller trygdepliktig\" som trygde- og skattemessig unntak for næringsinntekten. Da må du også velge det samme unntaket for \"Min andel av personinntekten\".",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_PRIMÆRBOLIG_UPERSONLIG",
      "kontrollformel": "sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n          // Kontrollen gir utslag dersom skattyter oppgir bolig som primærbolig\n          // gir faktiskFeil\n    \n    skattemeldingUpersonlig\n          \t.forForekomsterAv(gruppe(\n          \t\tformuesgrunnlagBoenhetIBoligselskap,\n          \t\tformuesgrunnlagFlerboligbygning,\n          \t\tformuesgrunnlagSelveidBolig))\n         \t.utslagFor {\n    \n                    val boligbrukBoenhetOgSelveidBolig = hvorMinstEnForekomst{fastsatt(boligbruk) erLik \"primaerbolig\"}\n                    val boligbrukFlerboligbygning = forForekomsterAv(useksjonertBoenhet)\n                    \t.hvorMinstEnForekomst{fastsatt(boligbruk) erLik \"primaerbolig\"}\n    \n                hvis(boligbrukBoenhetOgSelveidBolig eller boligbrukFlerboligbygning) {\n                        betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                    }\n                }\n        }",
      "hjelpetekstSME": "Selskapet har rapportert at selveid bolig, boenhet i boligselskap eller flerboligbygning er primærbolig. Et selskap kan ikke ha primærbolig, og må angi slike boliger er sekundærbolig.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_PÅKOSTNING_SKIP_OG_FARTØY",
      "kontrollformel": "sakstype(Personlig)\n        .kontekst(ValideringSkattepliktig) {\n    \n    // Merknad til skattepliktige med påkostninger på skip og fartøy - informasjon om å opprette eget kort ved påkostninger over 20 % av kostprisen.\n    // kontrollen medfører merknad i SME\n    \n    val harVerdierISaldogruppeE = naeringsspesifikasjon\n     \t.forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .filtrer{fastsatt(saldogruppe) erLik \"e\"}\n        .hvorMinstEnForekomst{(fastsatt(inngaaendeVerdi.beloepSomTall) er oppgitt) og\n        \t\t\t\t\t\t(fastsatt(paakostning.beloepSomTall) er oppgitt) og\n        \t\t\t\t\t\t(fastsatt(erDetFysiskAnleggsmiddelIUtgaaendeVerdi) erLik \"true\")}\n    \n    val forekomsterAvSkip = skattemelding\n       \t.forForekomsterAv(formuesspesifikasjonForSkipFiskeOgFangstfartoeyMv)\n        .antall\n    \n    skattemelding\n        .fokusområde(\"Fokusområde\")\n        .forForekomsterAv(formuesspesifikasjonForSkipFiskeOgFangstfartoeyMv)\n        .utslagFor {\n          val harKostprisEllerPåkostningOver20Prosent = hvorMinstEnForekomst {kostprisEllerAnskaffelsespris.beloepSomTall er oppgitt}\n    \n          \thvis(harVerdierISaldogruppeE og harKostprisEllerPåkostningOver20Prosent og (forekomsterAvSkip erLik 1))\n          \t{\n            \tbetjeningsstrategiSettesTil(\n                 \tikke, merknadInformasjon, 1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Du har rapportert påkostning på et skip eller fartøy. Dersom påkostningen er mer enn 20 prosent av kostprisen, skal du legge til påkostningen for seg selv som et eget skip/fartøy ved å opprette et nytt kort for \"Skip og fartøy\" under tema \"Næring\", \"Inntekter, kostnader, formue og gjeld fra næringsvirksomhet\".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_REGELTYPE_AARSREGNSKAP_MANGLER",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        // kontrollen gir utslag dersom skattepliktig med regnskapspliktstype full regnskapsplikt ikke rapporterer regeltype for årsregnskap\n        // kontrollen gir faktiskFeil i valideringstjenesten\n    \n        val harRegnskapspliktstypeLik2 = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                regnskapspliktstype erLik \"fullRegnskapsplikt\"\n            }\n    \n        val regeltypeForAarsregnskapMangler = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .harIngenForekomsterDer {\n                regeltypeForAarsregnskap\n                    .finnesBlant(\n                        \"regnskapslovensAlminneligeRegler\",\n                        \"regnskapslovensReglerForSmaaForetak\",\n                        \"regnskapslovensReglerForBankKredittforetakOgFinansieringsforetak\",\n                        \"godRegnskapsskikkForIdeelleOrganisasjoner\",\n                        \"ifrs\",\n                        \"forenkletIfrs\"\n                    )\n            }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                hvis(harRegnskapspliktstypeLik2 og regeltypeForAarsregnskapMangler) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det finnes ikke opplysninger om hvilken regeltype for årsregnskap som er benyttet ved føringen av resultatregnskapet og balansen. Virksomheter med full regnskapsplikt skal alltid opplyse om dette.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_REINDRIFT_GJENNOMSNITTSFASTSETTING",
      "kontrollformel": "sakstype(Personlig)\n  \t.kontekst(ValideringSkattepliktig) { \n// Merknad med informasjon om gjennomsnittfastsetting for reindrift\n     \nnaeringsspesifikasjon\n \t.forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n    .utslagFor {        \n\t\tval næringstypeErReindrift = hvorMinstEnForekomst{naeringstype erLik \"reindrift\"}   \n        \n        val manglerGjennomsnittsberegning = forForekomsterAv(gruppe(sti(reindrift,resultatIFjor),\n                                                                    sti(reindrift,resultatForToAarSiden)))\n        \t.harIngenForekomsterDer{beloepSomTall er oppgitt}\n            \n          hvis(næringstypeErReindrift og manglerGjennomsnittsberegning) {\n            betjeningsstrategiSettesTil(\n              ikke, merknadInformasjon           \n            )\n          }\n        }\n    }",
      "hjelpetekstSME": "Er reindriften drevet i minst tre år? Da skal inntekten som hovedregel gjennomsnittsfastsettes. Dette gjør du ved å registrere inntekten for de to foregående år i feltene  "Korrigert næringsinntekt for to år siden" og "Korrigert næringsinntekt for ett år siden".",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_SALDOAVSKRIVNING_ANSKAFFELSE_EKSISTERENDE_ENKELTSALDO",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når det rapporteres nyanskaffelse på en eksisterende enkeltesaldo\n        // kontrollen medfører merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .filtrer { fastsatt(saldogruppe).finnesBlant(\"e\", \"f\", \"g\", \"h\", \"i\") }\n            .utslagFor {\n                hvis((inngaaendeVerdi.beloepSomTall er oppgitt) og (nyanskaffelse.beloepSomTall er oppgitt)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har rapportert nyanskaffelse på en saldo som bare skal omfatte ett driftsmiddel. Hvis dette gjelder påkostning, må beløpet flyttes til feltet \"påkostninger\". Gjelder det nyanskaffelse, må det opprettes en ny saldo.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SALDOAVSKRIVNING_FORRETNINGSBYGGFØR_01011984_ERVERVSDATO",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom det oppgis opplysninger om forretningseiendom anskaffet før 01.01.84 og ervervsdatoen er senere enn 01.01.84\n        // kontrollen medfører merknad i valideringstjenesten\n        val forretningsbygg = naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .hvorMinstEnForekomst {\n                (\n                    (forretningsbyggAnskaffetFoer01011984.historiskKostpris.beloepSomTall er oppgitt)\n                        eller (forretningsbyggAnskaffetFoer01011984.nedskrevetVerdiPr01011984.beloepSomTall er oppgitt)\n                        eller (forretningsbyggAnskaffetFoer01011984.nedreGrenseForAvskrivning.beloepSomTall er oppgitt)\n                    )\n            }\n    \n        val datoGrense = KonstantTekstFelt(\"1984-01-01\").dato\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis((forretningsbygg) og (ervervsdato er oppgitt) og (ervervsdato.dato erStørreEnn datoGrense)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Feltet gjelder bare forretningsbygg anskaffet før 1. januar 1984.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SALDOAVSKRIVNING_INNGÅENDE_VERDI_NY_ENKELTSALDO",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når det rapporteres inngående verdi på en ny enkeltesaldo\n        // kontrollen medfører merknad i valideringstjenesten\n    \n        val datoIInntektsaaret = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .verdiFor { regnskapsperiode.start }.dato\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .filtrer { fastsatt(saldogruppe).finnesBlant(\"e\", \"f\", \"g\", \"h\", \"i\") }\n            .utslagFor {\n                hvis((inngaaendeVerdi.beloepSomTall er oppgitt) og (verdiFor { ervervsdato }.dato erStørreEnn datoIInntektsaaret)) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er rapportert inngående verdi på en enkeltsaldo som har dato for anskaffelse i inntektsåret. For saldogruppe e-i skal det være én saldo per driftsmiddel. Hvis du har anskaffet et driftsmiddel i inntektsåret, må du opprette en ny saldo der beløpet oppgis som nyanskaffelse.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SALDOAVSKRIVNING_MANGLER_REALISASJONSDATO",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når driftsmiddelet er realisert og realisasjonsdato mangler\n        // kontrollen medfører merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis(\n                    ((saldogruppe erLik \"e\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) eller\n                        ((saldogruppe erLik \"f\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) eller\n                        ((saldogruppe erLik \"g\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) eller\n                        ((saldogruppe erLik \"h\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) eller\n                        ((saldogruppe erLik \"i\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt))\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Er driftsmiddelet solgt eller realisert på annen måte? Da må du oppgi realisasjonsdatoen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SAMLESALDO_GTK",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n            .utslagFor {\n                hvis(\n                    ((saldogruppe erLik \"a\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt))) eller\n                        ((saldogruppe erLik \"c\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt))) eller\n                        ((saldogruppe erLik \"c2\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt))) eller\n                        ((saldogruppe erLik \"d\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt))) eller\n                        ((saldogruppe erLik \"j\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt)))\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, faktiskFeil, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Gevinst eller tap etter salg eller annen realisasjon for saldogruppe A, C, C2  D eller J skal ikke overføres til gevinst- og tapskonto. Slike gevinster eller tap skal inntekts- eller fradragsføres direkte på saldo, med minimum 20 prosent ved gevinst og maksimum 20 prosent ved tap.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_SKIP_FORMUESVERDI_MANGLER",
      "kontrollformel": "sakstype(Personlig)\n        .kontekst(ValideringSkattepliktig) {\n    \n    // Merknad skal gis til skattepliktige som har eiendeler på konto 1221 i balanseregnskapet og/eller saldogruppe e, men ikke har fastsatt formuesverdi av skip, fartøy mv.\n    // AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n\t// valideringen gir merknad i skattemeldingen\n \n     val partsnr = skattepliktGjeldende\n       \t.forForekomsterAv(skatteplikt)\n        .verdiFor {fastsattEllerGrunnlag(partsnummerSomTekst) }\n        \n    val harBegrensetSkatteplikt = skattepliktGjeldende\n       \t.forForekomsterAv(skatteplikt)\n        .hvorMinstEnForekomst { personligSkattesubjekt.skattepliktTilNorge erLik \"begrenset\" }\n    \n    val harSaldogruppeE = naeringsspesifikasjon\n     \t.forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .filtrer{fastsatt(saldogruppe) erLik \"e\"}\n        .hvorMinstEnForekomst{fastsatt(utgaaendeVerdi.beloepSomTall) er oppgitt}\n    \n    val harBeløpPåKonto1221 = naeringsspesifikasjon\n     \t.forForekomsterAv(sti(balanseregnskap,anleggsmiddel,balanseverdiForAnleggsmiddel))\n       \t.forForekomsterAv(balanseverdi)\n        .filtrer{type erLik \"1221\"}\n        .hvorMinstEnForekomst{fastsatt(beloepSomGruppe.beloepSomTall) er oppgitt}\n    \n    skattemelding\n        .utslagFor {\n          val harIkkeFormuesverdiFartøy = harIngenForekomsterDer{formuesspesifikasjonForSkipFiskeOgFangstfartoeyMv er oppgitt}\n          \n          \thvis(ikke(harBegrensetSkatteplikt) og (harSaldogruppeE eller harBeløpPåKonto1221) og harIkkeFormuesverdiFartøy og\n                     (partsnr.tegnFraIndeks(7).finnesBlant(\"0\",\"2\",\"4\",\"6\",\"8\")))\n          \t{\n            \tbetjeningsstrategiSettesTil(\n                 \tikke, merknadTips, 1\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Det er rapportert skip, rigger eller annet fartøy som eiendel i næringsspesifikasjonen. Skip og fartøy som er eid ved utgangen av inntektsåret, skal inngå som formue i skattemeldingen. Formuesverdien er ikke forhåndsutfylt. Opplysningene legges til under tema \"Næring\" -  \"Inntekter, kostnader, formue og gjeld fra næringsvirksomhet\". Velg \"Skip og fartøy\".",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_SKIP_FORMUESVERDI_MANGLER_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n        .kontekst(ValideringSkattepliktig) {\n    \n    // Merknad skal gis til skattepliktige som har eiendeler på konto 1221 i balanseregnskapet og/eller saldogruppe e, men ikke har fastsatt formuesverdi av skip, fartøy mv.\n    // AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n\t// valideringen gir merknad i skattemeldingen\n \n     val partsnr = skattepliktGjeldende\n       \t.forForekomsterAv(skatteplikt)\n        .verdiFor {fastsattEllerGrunnlag(partsnummerSomTekst) }\n        \n    val harBegrensetSkatteplikt = skattepliktGjeldende\n       \t.forForekomsterAv(skatteplikt)\n        .hvorMinstEnForekomst { personligSkattesubjekt.skattepliktTilNorge erLik \"begrenset\" }\n    \n    val harSaldogruppeE = naeringsspesifikasjon\n     \t.forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .filtrer{fastsatt(saldogruppe) erLik \"e\"}\n        .hvorMinstEnForekomst{fastsatt(utgaaendeVerdi.beloepSomTall) er oppgitt}\n    \n    val harBeløpPåKonto1221 = naeringsspesifikasjon\n     \t.forForekomsterAv(sti(balanseregnskap,anleggsmiddel,balanseverdiForAnleggsmiddel))\n       \t.forForekomsterAv(balanseverdi)\n        .filtrer{type erLik \"1221\"}\n        .hvorMinstEnForekomst{fastsatt(beloepSomGruppe.beloepSomTall) er oppgitt}\n    \n    skattemelding\n        .utslagFor {\n          val harIkkeFormuesverdiFartøy = harIngenForekomsterDer{formuesspesifikasjonForSkipFiskeOgFangstfartoeyMv er oppgitt}\n          \n          \thvis(ikke(harBegrensetSkatteplikt) og (harSaldogruppeE eller harBeløpPåKonto1221) og harIkkeFormuesverdiFartøy og\n                     (partsnr.tegnFraIndeks(7).finnesBlant(\"1\",\"3\",\"5\",\"7\",\"9\")))\n          \t{\n            \tbetjeningsstrategiSettesTil(\n                 \tikke, merknadIngen, 1\n                        )\n                    }\n                }\n        }\n\n\n\n\n",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_SKJERMINGFRADRAG_NEGATIVT",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skjermingsfradraget blir negativt\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .utslagFor {\n                hvis(skjermingsfradrag.beloepSomTall erMindreEnn 0) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Skjermingsgrunnlaget etter gjeldsfradrag kan ikke være negativt. Beløpet må være 0 eller høyere.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKJERMINGSRENTE_MANGLER",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom sum skjermingsgrunnlag etter gjeldsfradrag er positiv og skjermingsrente mangler\n        // kontrollen gir merknad i valideringstjenesten\n        naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetPersoninntekt)\n            .utslagFor {\n                hvis(\n                    (sumSkjermingsgrunnlagEtterGjeldsfradrag.beloepSomTall erStørreEnn 0)\n                        og (skjermingsrente erMindreEnnEllerLik 0)\n                ) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadStandard, 1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du bør legge inn skjermingsrente.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKOGBRUK_DIFFERANSE_FRADRAG",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når sjablongberegnet fradrag i skogbruk i fordelt beregnet næringsinntekt er ulik summen av sjablongberegnet fradrag pr tømmerkonto\n        // kontrollen gir merknad i valideringstjenesten\n        val sumSjablongberegnetFradragISkogbruk = naeringsspesifikasjon\n            .forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n            .summer { inntektOgKostnad.sjablongberegnetFradragKnyttetTilBiomasseOgVedproduksjon.beloepSomTall }\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .utslagFor {\n                val næringstypeSkogbruk = hvorMinstEnForekomst { naeringstype erLik \"skogbruk\" }\n    \n                val differanseSjablongberegnetFradrag =\n                    sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall + sumSjablongberegnetFradragISkogbruk\n                // må bruke pluss i beregningen siden sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall angis med minus i fordeltBeregnetNaeringsinntekt\n    \n                hvis(næringstypeSkogbruk og (sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall erUlik (sumSjablongberegnetFradragISkogbruk * -1))) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Avviksbeloep settesTil differanseSjablongberegnetFradrag\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er differanse mellom sjablongberegnet fradrag i temaet \"Fordelt beregnet næringsinntekt\" og summen av sjablongberegnet fradrag beregnet i temaet \"Skog og tømmerkonto\".",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKOGBRUK_DIFFERANSE_JORDBRUK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n    \n        //kontrollen gir utslag når sjablongberegnet fradrag i skogbruk i fordelt beregnet næringsinntekt er ulik sjablongberegnet inntekt i jordbruk i fordelt beregnet næringsinntekt\n        //kontrollen gir merknad i valideringstjenesten\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val sjablongISkogbruk = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n                    .hvorMinstEnForekomst { ((naeringstype erLik \"skogbruk\") og (sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall er oppgitt)) }\n    \n                val sjablongIJordbruk = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n                    .hvorMinstEnForekomst { ((naeringstype erLik \"jordbrukGartneriPelsdyrnaeringMv\") og (sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall er oppgitt)) }\n    \n                val sumSjablongISkogOgJord = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n                    .summer { sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall }\n    \n                hvis(sjablongISkogbruk og sjablongIJordbruk og (sumSjablongISkogOgJord erUlik 0))\n    \n                {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Avviksbeloep settesTil sumSjablongISkogOgJord\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er differanse i overføring av sjablongberegnet inntekt fra biomasse- og vedproduksjon. Beløpet som er ført til fradrag i skogbruk må legges til i jordbruksinntekten.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKOGBRUK_SJABLONGFRADRAG_BIOMASSEOGVED",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når sjablongberegnet fradrag i skogbruk pr tømmerkonto er høyere enn 55 % av salgsinntekt/uttak ved og biomasse\n        // kontrollen gir merknad i valideringstjenesten\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n            .utslagFor {\n                val maxSjablongberegnetFradrag =\n                    inntektOgKostnad.salgsinntektOgUttakAvVedOgBiomasse.beloepSomTall * 55.prosent\n    \n                hvis(inntektOgKostnad.sjablongberegnetFradragKnyttetTilBiomasseOgVedproduksjon.beloepSomTall erStørreEnn maxSjablongberegnetFradrag) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Kontroller at fradraget er riktig. Fradraget kan maksimalt utgjøre 55 % av produksjonsinntekt fra salg av tømmer, massevirke, ved o.l. som benyttes til biobrensel (ved, flis, pellets o.l.).",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKOG_AKSJESELSKAP",
      "kontrollformel": "sakstype(Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig med virksomhetstype ulik enkeltpersonforetak rapporterer skogbruk\n        // kontrollen gir faktiskFeil i valideringstjenesten\n        val harVirksomhetstypeUlikEnkeltpersonforetak = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                virksomhetstype.finnesBlant(\"oevrigSelskap\", \"selskapMedDeltakerfastsetting\", \"bankOgFinansieringsforetak\",\n                                            \"livsforsikringsforetakOgPensjonskasse\", \"skadeforsikringsforetak\")\n            }\n    \n        val rapportererSkogbruk = naeringsspesifikasjon\n            .forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n            .hvorMinstEnForekomst { driftsresultatSomKanOverfoeresTilToemmerkonto.beloepSomTall er oppgitt }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                hvis(harVirksomhetstypeUlikEnkeltpersonforetak og rapportererSkogbruk) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det finnes opplysninger om skogbruk i næringsspesifikasjonen. Aksjeselskap skal ikke rapportere opplysninger om skogbruk i næringsspesifikasjonen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_SYKEPENGER_AVVIK_FISKERE",
      "kontrollformel": "sakstype(Personlig)\n    \t.kontekst(ValideringSkattepliktig){\n    // kontrollen gir utslag når beløpet fylt ut i feltet 'Sykepenger fisker' avviker fra innrapportert beløp. Gjelder både når beløpet er større eller mindre enn innrapportert beløp.\n    \n    skattemelding\n     \t.forForekomsterAv(sti(oppgavegiver, sykepengerOgAnnenInntektMvFraOppgavegiver))\n        .utslagFor{\n          val harSykepengerFisker = filtrer { behandlingsart erLik \"SYKEPENGER_FISKER\" }\n        \t\t.hvorMinstEnForekomst {grunnlag(beloepSomGruppe.beloepSomTall) er oppgitt}\n    \n       \tval fastsattSykepengerFisker = filtrer { behandlingsart erLik \"SYKEPENGER_FISKER\" }\n                .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n    \n        val grunnlagSykepengerFisker = filtrer { behandlingsart erLik \"SYKEPENGER_FISKER\" }\n                .summer { grunnlag(beloepSomGruppe.beloepSomTall) }\n    \n          hvis(harSykepengerFisker og ((fastsattSykepengerFisker - grunnlagSykepengerFisker) erUlik 0))\n          {\n            betjeningsstrategiSettesTil(\n              ikke,\n              merknadStandard,\n              Avviksbeloep settesTil (fastsattSykepengerFisker - grunnlagSykepengerFisker)\n            )\n          }\n        }     \n        }",
      "hjelpetekstSME": "Du har endret beløpet i feltet “Sykepenger for selvstendig næringsdrivende - fiske”. Beløpet er innrapportert av NAV og skal skattlegges i utbetalingsåret. Hvis du mener innrapportert beløp er feil, må du kontakte NAV.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SYKEPENGER_AVVIK_GLD",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n    \n        // kontrollen gir utslag når beløpet fylt ut på feltet 'Sykepenger for selvstendig næringsdrivende' avviker fra innrapportert beløp fra NAV. Gjelder både når beløpet er større eller mindre enn innrapportert beløp.\n    \n        skattemelding\n            .forForekomsterAv(sti(oppgavegiver, sykepengerOgAnnenInntektMvFraOppgavegiver))\n            .utslagFor {\n    \n                val harSykepengerNAV = filtrer { grunnlag(behandlingsart) erLik \"SYKEPENGER_NAER\" }\n                    .hvorMinstEnForekomst { grunnlag(beloepSomGruppe.beloepSomTall) er oppgitt }\n    \n                val fastsattSykepengerNAV = filtrer { fastsatt(behandlingsart) erLik \"SYKEPENGER_NAER\" }\n                    .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n    \n                val grunnlagSykepengerNAV = filtrer { grunnlag(behandlingsart) erLik \"SYKEPENGER_NAER\" }\n                    .summer { grunnlag(beloepSomGruppe.beloepSomTall) }\n    \n                val differanseSykepengerNAV = fastsattSykepengerNAV - grunnlagSykepengerNAV\n    \n                hvis(harSykepengerNAV og (differanseSykepengerNAV erUlik 0)) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        merknadStandard,\n                        1,\n                        Avviksbeloep settesTil differanseSykepengerNAV\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Du har endret beløpet i feltet \"Sykepenger for selvstendig næringsdrivende\". Beløpet er innrapportert av NAV og skal skattlegges i utbetalingsåret. Hvis du mener innrapportert beløp er feil, må du kontakte NAV.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_TAP_FORDRINGER_KONTRAKTER",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattyter i post 7830 eller 7860 har oppgitt mer enn 20 000 i kostander\n\t    // AB-test på skattytere som har tallet 0, 2, 4, 6, 8 i 7.siffer i partsnummeret\n        // kontrollen gir merknad i valideringstjenesten og SME\nval partsnr = skattepliktGjeldende\n\t.forForekomsterAv(skatteplikt)\n    .verdiFor {fastsattEllerGrunnlag(partsnummerSomTekst) }\n\n      naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n            .forForekomsterAv(kostnad)\n            .filtrer { fastsatt(type).finnesBlant(\"7830\", \"7860\") }\n            .utslagFor {\n                hvis((beloepSomGruppe.beloepSomTall erStørreEnn 20_000) og\n                     (partsnr.tegnFraIndeks(7).finnesBlant(\"0\",\"2\",\"4\",\"6\",\"8\"))) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadInformasjon, 1\n                    )\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "Alle vilkårene under må være oppfylt før et tap kan fradragsføres skattemessig i virksomheten.<br>Sjekk om du oppfyller vilkårene:<ul>\n<li>Du må drive virksomhet</li><li>Det må være tilstrekkelig tilknytning mellom fordringen og din virksomhet</li><li>Tapet må være endelig konstatert tapt</li></ul>",
      "BetjeningsstrategiSkattepliktig": "merknadInformasjon"
    },
    {
      "kontrollnavn": "N_TAP_FORDRINGER_KONTRAKTER_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattyter i post 7830 eller 7860 har oppgitt mer enn 20 000 i kostander\n\t    // AB-test på skattytere som har tallet 1, 3, 5, 7, 9 i 7.siffer i partsnummeret\n        // kontrollen gir merknad i valideringstjenesten og SME\nval partsnr = skattepliktGjeldende\n\t.forForekomsterAv(skatteplikt)\n    .verdiFor {fastsattEllerGrunnlag(partsnummerSomTekst) }\n\n      naeringsspesifikasjon\n            .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n            .forForekomsterAv(kostnad)\n            .filtrer { fastsatt(type).finnesBlant(\"7830\", \"7860\") }\n            .utslagFor {\n                hvis((beloepSomGruppe.beloepSomTall erStørreEnn 20_000) og\n                     (partsnr.tegnFraIndeks(7).finnesBlant(\"1\",\"3\",\"5\",\"7\",\"9\"))) {\n                    betjeningsstrategiSettesTil(\n                        ikke, merknadIngen, 1\n                    )\n                }\n            }\n    }\n\n\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_TOEMMERKONTO_MANGLER_DRIFTSKOSTNADER_RESULTATREGNSKAP",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n      \n        // kontrollen gir utslag når det er rapportert driftskostnader på skog- og tømmerkonto, men driftskostnadene er ikke rapportert i resultatregnskapet. \n        // kontrollen gir merknad i valideringstjenesten\n    \n        naeringsspesifikasjon\n                .utslagFor {\n                val sumInntektsfradragFraTømmerkonto = forForekomsterAv(sti(skogbruk,skogOgToemmerkonto))\n               .forForekomsterAv(sti(inntektOgKostnad,driftskostnader))\n                    .summer {beloepSomTall }\n    \n              val beløpOverførtTilTømmerkonto = forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n                    .forForekomsterAv(kostnad)\n                    .filtrer { type erLik \"7910\" }\n                    .summer { beloepSomGruppe.beloepSomTall }\n                        \n                    val sumDriftskostnaderIRegnskapet = forForekomsterAv(sti(resultatregnskap, driftskostnad, sumDriftskostnad))\n                    .summer {beloepSomTall }\n    \n                   hvis(sumInntektsfradragFraTømmerkonto erStørreEnn (sumDriftskostnaderIRegnskapet - beløpOverførtTilTømmerkonto)\n                          ) {\n                    betjeningsstrategiSettesTil(ikke, merknadStandard, 1,  )\n                }\n            }\n    }",
      "hjelpetekstSME": "Driftskostnadene ført opp under tema "skog og tømmerkonto" må også føres opp som kostnader i resultatregnskapet.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_TOEMMERKONTO_MANGLER_SALGSINNTEKTER_RESULTATREGNSKAP",
      "kontrollformel": "sakstype(Personlig)\n        .kontekst(ValideringSkattepliktig) {\n    \n    // Merknad til skattepliktige når salgsinntekter i skog og tømmer er høyere enn salgsinntekter i resultatregnskapet\n    // kontrollen medfører merknad i SME\n    \n     val harSalgsinntekUnderSkogbruk = naeringsspesifikasjon\n     \t.forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n        .summer{(fastsatt(inntektOgKostnad.salgsinntektOgUttakFraSkurtoemmerMassevirkeRotsalgMv.beloepSomTall)) +\n        \t\t(fastsatt(inntektOgKostnad.salgsinntektOgUttakAvVedOgBiomasse.beloepSomTall))  +\n        \t\t(fastsatt(inntektOgKostnad.andreDriftsinntekter.beloepSomTall))}\n       \n    val harIkkeSalgsinntekt = naeringsspesifikasjon\n       \t.forForekomsterAv(sti(resultatregnskap, driftsinntekt))\n        .harIngenForekomsterDer{salgsinntekt er oppgitt}\n   \nnaeringsspesifikasjon\n  \t.utslagFor {\n      \t  val harIkkeSalgsinntekt = forForekomsterAv(sti(resultatregnskap, driftsinntekt,salgsinntekt))\n              .harIngenForekomsterDer{inntekt er oppgitt}\n              \n          val harIkkeAnnenDriftsinnekt = forForekomsterAv(sti(resultatregnskap, driftsinntekt, annenDriftsinntekt))        \n\t\t\t .forForekomsterAv(inntekt)\n             .harIngenForekomsterDer {fastsatt(type) erLik \"3900\" }    \n             \n          val salgsinntekterIResultat = forForekomsterAv(sti(resultatregnskap, driftsinntekt, salgsinntekt))        \n\t\t\t .forForekomsterAv(inntekt)\n             .filtrer {fastsatt(type).finnesBlant(\"3000\",\"3100\",\"3200\") }\n             .summer {beloepSomGruppe.beloepSomTall }  \n             \n          val andreDriftsinntekterIResultat = forForekomsterAv(sti(resultatregnskap, driftsinntekt, annenDriftsinntekt))        \n\t\t\t .forForekomsterAv(inntekt)\n             .filtrer {fastsatt(type) erLik \"3900\" }\n             .summer {beloepSomGruppe.beloepSomTall }  \n             \n          val sumInntekterIResultat = salgsinntekterIResultat + andreDriftsinntekterIResultat\n      \n      \t  val avvikSkogbrukOgResultat = harSalgsinntekUnderSkogbruk - sumInntekterIResultat    \n    \n          \thvis(((harSalgsinntekUnderSkogbruk erStørreEnn 0) og (avvikSkogbrukOgResultat erStørreEnn 1000)) eller \n                 (harIkkeSalgsinntekt og harIkkeAnnenDriftsinnekt og (harSalgsinntekUnderSkogbruk erStørreEnn 0))\n          \t){\n            \tbetjeningsstrategiSettesTil(\n                 \tikke, merknadTips, Avviksbeloep settesTil avvikSkogbrukOgResultat,\n                  kortTypeReferanse settesLik \"salgsinntekt\"\n                        )\n                    }\n                }\n        }\n\n\n\n\n\n\n\n\n\n",
      "hjelpetekstSME": "Salgsinntektene ført opp under tema "Skog og tømmerkonto", må også føres opp som salgsinntekter i resultatregnskapet.",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_TRANSPORTMIDDEL_AKSJESELSKAP",
      "kontrollformel": "sakstype(Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig med virksomhetstype aksjeselskap rapporterer transportmiddel i næring\n        // kontrollen gir faktiskFeil i valideringstjenesten\n    \n        val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                virksomhetstype.finnesBlant(\"oevrigSelskap\", \"selskapMedDeltakerfastsetting\", \"bankOgFinansieringsforetak\",\n                                            \"liveforsikringsforetakOgPensjonskasse\", \"skadeforsikringsforetak\")\n            }\n    \n        naeringsspesifikasjon\n            .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, motorkjoeretoeyINaering))\n            .utslagFor {\n    \n                hvis(harVirksomhetstypeLikAksjeselskap og (kjennemerke er oppgitt)) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det finnes opplysninger i temaet transportmiddel i næring i næringsspesifikasjonen. Aksjeselskap skal ikke rapportere opplysninger i temaet transportmiddel i næring i næringsspesifikasjonen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_TRANSPORTMIDDEL_DRIFTSKOSTNADER",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag når summen av driftskostnader rapportert pr bil under transportmiddel i næring er større enn driftskostnader til bil ført i resultatregnskapet\n        // kontrollen gir merknad i valideringstjenesten\n    \n        naeringsspesifikasjon\n            .utslagFor {\n                val sumDriftskostnaderTransportmiddel =\n                    forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, motorkjoeretoeyINaering))\n                        .summer { driftskostnader.beloepSomTall }\n    \n                val sumDriftskostnaderBilIResultatregnskapet =\n                    forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n                        .forForekomsterAv(kostnad)\n                        .filtrer { type.finnesBlant(\"7000\", \"7020\", \"7040\") }\n                        .summer { beloepSomGruppe.beloepSomTall }\n    \n                hvis(sumDriftskostnaderTransportmiddel erStørreEnn sumDriftskostnaderBilIResultatregnskapet) {\n                    betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Summen av driftskostnadene per transportmiddel kan ikke være høyere enn summen av tilsvarende felter i resultatregnskapet (konto 7000, 7020 og/eller 7040). ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_TRANSPORTMIDDEL_LEASINGLEIE",
      "kontrollformel": "sakstype(Personlig)\n      .kontekst(ValideringSkattepliktig) {\n          // kontrollen gir utslag når summen av leasingleie rapportert pr bil under transportmiddel i næring er større enn leasingleie av bil i konto 6440 i resultatregnskapet\n          // kontrollen gir merknad i valideringstjenesten\n    \n          naeringsspesifikasjon\n              .utslagFor {\n                  val sumLeasingleie = naeringsspesifikasjon\n                      .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, motorkjoeretoeyINaering))\n                      .summer { leasingleie.beloepSomTall }\n    \n                  val harLeasingleie = naeringsspesifikasjon\n                      .forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n                      .forForekomsterAv(kostnad)\n                      .filtrer { type erLik \"6440\" }\n                      .summer { beloepSomGruppe.beloepSomTall }\n    \n                  hvis(sumLeasingleie erStørreEnn harLeasingleie) {\n                      betjeningsstrategiSettesTil(\n                          ikke,\n                          merknadStandard,\n                          1\n                      )\n                  }\n              }\n    }",
      "hjelpetekstSME": "Summen av leasingleien per transportmiddel kan ikke være høyere enn summen av tilsvarende felt i resultatregnskapet (konto 6440).",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_TØMMERKONTO_MANGLER_NÆRINGSINNTEKT_SKOG",
      "kontrollformel": "sakstype(Personlig)\n        .kontekst(ValideringSkattepliktig) {\n    \n    // Merknad til skattepliktige når har tømmerkonto men ikke næringstype skogbruk\n    // kontrollen medfører merknad i SME\n    \n    val harInntektFradragFraTømmerkonto = naeringsspesifikasjon\n     \t.forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n        .summer{(fastsatt(inntektFraToemmerkonto.beloepSomTall)) +\n        \t\t(fastsatt(inntektsfradragFraToemmerkonto.beloepSomTall))}\n    \n    val harIkkeInntektFradragPåTømmerkonto = naeringsspesifikasjon\n       \t.forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n        .summer{(fastsatt(driftsresultatSomKanOverfoeresTilToemmerkonto.beloepSomTall)) }\n    \n    naeringsspesifikasjon\n        .fokusområde(\"FokusFordeltBeregnetNaeringsinntekt\")\n        .utslagFor {\n          val harIkkeNæringstypeSkogbruk = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n          \t.harIngenForekomsterDer {(naeringstype erLik \"skogbruk\")}\n    \n          \thvis(((harInntektFradragFraTømmerkonto erUlik 0) eller (harIkkeInntektFradragPåTømmerkonto erUlik 0)) og harIkkeNæringstypeSkogbruk)\n          \t{\n            \tbetjeningsstrategiSettesTil(\n                 \tikke, merknadStandard\n                        )\n                    }\n                }\n        }",
      "hjelpetekstSME": "Du har oppgitt inntekt eller kostnad i kortet for skog- og tømmerkonto. Da må du også opprette et kort med næringstype \"skogbruk\". Du kan legge til flere næringstyper under valget \"Se hva du kan legge til\".",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_UFULLSTENDIG_STOETTE_ORDNING",
      "kontrollformel": "// Kontrollen gir utslag når selskap rapporterer ufullstendige opplysninger knyttet til skatte- og avgiftsordrninger. Alle opplysningene må fylles ut.\n    // KOntrollen gir merknad i valideringstjenesten.\n    sakstype(Upersonlig)\n        .kontekst(ValideringSkattepliktig) {\n    \n            val gyldigeStøtteordninger = skatteOgAvgiftsordningOmfattetAvOffentligStoette_2022\n                .forForekomsterAv { kode }\n                .verdierFor { tekniskNavn }\n    \n            val harStøtteordning = skattemeldingUpersonlig\n                .forForekomsterAv(\n                    sti(\n                        spesifikasjonAvForholdRelevanteForBeskatning,\n                        tilleggsinformasjonKnyttetTilMottakAvSkatteOgAvgiftsordningOmfattetAvOffentligStoette,\n                        skatteOgAvgiftsordningOmfattetAvOffentligStoette\n                    )\n                )\n                .hvorMinstEnForekomst {\n                    (fastsatt(skatteOgAvgiftsordning) er oppgitt) og\n                        (fastsatt(skatteOgAvgiftsordning).finnesBlant(gyldigeStøtteordninger))\n                }\n    \n            skattemeldingUpersonlig\n                .forForekomsterAv(\n                    sti(\n                        spesifikasjonAvForholdRelevanteForBeskatning,\n                        tilleggsinformasjonKnyttetTilMottakAvSkatteOgAvgiftsordningOmfattetAvOffentligStoette\n                    )\n                )\n                .utslagFor {\n                    hvis(\n                        harStøtteordning og (varIOekonomiskeVanskerVedSistAvlagtRegnskapsaar ikkeEr oppgitt) eller\n                            (erIKonsern ikkeEr oppgitt) eller\n                            (harUtestaaendeBetalingskravKnyttetTilUlovligUtdeltStatsstoette ikkeEr oppgitt) eller\n                            (erLitenEllerMellomstorBedrift ikkeEr oppgitt) eller\n                            (harMottattAnnenOffentligStoette ikkeEr oppgitt)\n                    ) {\n                        betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n                    }\n                }\n        }",
      "hjelpetekstSME": "Når selskapet mottar offentlig støtte i form av skatte- eller avgiftsfordeler må alle spørsmålene i temaet \"Tilleggsinformasjon knyttet til mottak av skatte og avgiftsordning omfattet av offentlig støtte\" besvares.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_UGYLDIGE_FELT_NAERINGBEREGNING",
      "kontrollformel": "sakstype(Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // kontrollen gir utslag dersom skattepliktig med virksomhetstype aksjeselskap rapporterer ett eller flere av følgende felter\n        // fordeltBeregnetNaeringsinntekt.sjablongberegnetInntektFraBiomasseVedproduksjon\n        // fordeltBeregnetNaeringsinntekt.fradragForRenterINaeringPaaSvalbard\n        // fordeltBeregnetNaeringsinntekt.fremfoertUnderskuddIEnkeltpersonforetakPaaSvalbardFraTidligereAar\n        // fordeltBeregnetNaeringsinntekt.korreksjonFraReindrift\n        // kontrollen gir faktiskFeil i valideringstjenesten\n    \n        val harVirksomhetstypeUlikEnkeltpersonforetak = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {\n                virksomhetstype.finnesBlant(\"oevrigSelskap\", \"selskapMedDeltakerfastsetting\", \"bankOgFinansieringsforetak\",\n                                            \"livsforsikringsforetakOgPensjonskasse\", \"skadeforsikringsforetak\")\n            }\n    \n        val rapportererUgylidigFelt = naeringsspesifikasjon\n            .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n            .hvorMinstEnForekomst {\n                (\n                    (sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall er oppgitt) eller\n                  \t(sjablongberegnetFradragFraBiomasseVedproduksjon.beloepSomTall er oppgitt) eller\n                        (fradragForRenterINaeringPaaSvalbard.beloepSomTall er oppgitt) eller\n                        (fremfoertUnderskuddIEnkeltpersonforetakPaaSvalbardFraTidligereAar.beloepSomTall er oppgitt) eller\n                        (korreksjonFraReindrift.beloepSomTall er oppgitt)\n                    )\n            }\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                hvis(harVirksomhetstypeUlikEnkeltpersonforetak og rapportererUgylidigFelt) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det finnes opplysninger i temaet fordelt beregnet næringsinntekt som ikke er gyldige for aksjeselskaper. Dette er enten opplysninger om sjablongberegnet inntekt fra biomasse eller vedproduksjon, korreksjon fra reindrift, fradrag for renter på Svalbard eller fremført underskudd i enkeltpersonforetak på Svalbard.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_BILTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeBiltyper = biltype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en biltype som ikke finnes i kodelisten 2022_biltype\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeBil = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, motorkjoeretoeyINaering))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(biltype) er oppgitt) og\n                            (fastsatt(biltype).finnesIkkeBlant(gyldigeBiltyper))\n                    }\n    \n                hvis(feilTypeBil) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n           }\n    }",
      "hjelpetekstSME": "Det er brukt en biltype som ikke er forenlig med kodelisten over biltyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_BRANSJETYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeBransjetyper = bransjetype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en bransjetype som ikke finnes i kodelisten for bransjetype\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeBil = forForekomsterAv(sti(andreForhold, loeyveForDrosjeOgGodstransport))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(bransje) er oppgitt) og\n                            (fastsatt(bransje).finnesIkkeBlant(gyldigeBransjetyper))\n                    }\n    \n                hvis(feilTypeBil) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en bransjetype som ikke er forenlig med kodelisten over bransjetyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_EGENKAPITALENDRINGSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeEgenkapitalendringstyper = egenkapitalendringstype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en egenkapitalendringstype som ikke finnes i kodelisten for egenkapitalendringstype\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeEgenkapitalendring = forForekomsterAv(egenkapitalavstemming)\n                    .forForekomsterAv(egenkapitalendring)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(egenkapitalendringstype) er oppgitt) og\n                            (fastsatt(egenkapitalendringstype).finnesIkkeBlant(gyldigeEgenkapitalendringstyper))\n                    }\n    \n                hvis(feilTypeEgenkapitalendring) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en egenkapitalendringstype som ikke er forenlig med kodelisten over egenkapitalendringstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FINANSIELT_DERIVAT",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigeFinansielleDerivattyper = finansieltDerivattype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en finansiell derivattype som ikke finnes i kodelisten for finansielle derivater\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeFinansieltDerivat = forForekomsterAv(gruppe(sti(balanseregnskap, annenSpesifikasjonAvBalanseregnskap, finansieltDerivatSomEiendel),\n                                                       sti(balanseregnskap, annenSpesifikasjonAvBalanseregnskap, finansieltDerivatSomGjeldEllerAvsetning)))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(finansieltDerivattype) er oppgitt) og\n                            (fastsatt(finansieltDerivattype).finnesIkkeBlant(gyldigeFinansielleDerivattyper))\n                    }\n    \n                hvis(feilTypeFinansieltDerivat) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en finansielle derivattype som ikke er forenlig med kodelisten over finansielle derivattyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FINANSPRODUKT",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigeFinansprodukttyper = finansprodukt_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en finansprodukttupe som ikke finnes i kodelisten\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilTypeFinansprodukt = forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, annetFinansprodukt))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(finansprodukttype) er oppgitt) og\n                            (fastsatt(finansprodukttype).finnesIkkeBlant(gyldigeFinansprodukttyper))\n                    }\n    \n                hvis(feilTypeFinansprodukt) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n           }\n    }",
      "hjelpetekstSME": "Det er brukt en finansprodukttype som ikke er forenlig med kodelisten over finansprodukter",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FINANSPRODUKT_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigFinansprodukt = finansprodukt_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattepliktig har oppgitt et finansprodukt som ikke finnes i kodelisten\n        skattemelding\n            .utslagFor {\n    \n                val feilFinansprodukt = forForekomsterAv(\n                   (annetFinansprodukt))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(finansprodukttype) er oppgitt) og\n                            (fastsatt(finansprodukttype).finnesIkkeBlant(gyldigFinansprodukt))\n                    }\n    \n                hvis(feilFinansprodukt) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "Det er brukt en finansprodukttype som ikke er forenlig med kodelisten over finansprodukter.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FINANSPRODUKT_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigFinansprodukt = finansprodukt_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattepliktig har oppgitt et finansprodukt som ikke finnes i kodelisten\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilFinansprodukt = forForekomsterAv(\n                    sti(spesifikasjonAvForholdRelevanteForBeskatning,annetFinansprodukt))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(finansprodukttype) er oppgitt) og\n                            (fastsatt(finansprodukttype).finnesIkkeBlant(gyldigFinansprodukt))\n                    }\n    \n                hvis(feilFinansprodukt) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en finansprodukttype som ikke er forenlig med kodelisten over finansprodukter.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FORMUESOBJEKT",
      "kontrollformel": "sakstype(Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigeformuesobjekttyper = formuesobjekttypeUpersonligSkattepliktig_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt et formuesobjekt som ikke finnes i kodelistene\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilFormuesobjekttype = forForekomsterAv(formuesobjekt)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(formuesobjekttype) er oppgitt) og\n                            (fastsatt(formuesobjekttype).finnesIkkeBlant(gyldigeformuesobjekttyper))\n                    }\n    \n                hvis(feilFormuesobjekttype) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en formuesobjekttype i næringsspesifikasjonen som ikke er forenlig med kodelisten \"formuesobjektVedRealisasjonEllerUtleieMellomSelskapOgNaerstaaendeMv\".",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FORMUESOBJEKTTYPE_NAERSTAAENDE",
      "kontrollformel": "sakstype(Upersonlig,SDF)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigeFormuesobjekttyper = formuesobjektVedRealisasjonEllerUtleieMellomSelskapOgNaerstaaendeMv_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en finansiell derivattype som ikke finnes i kodelisten for finansielle derivater\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeFormuesobjekt = forForekomsterAv(gruppe(sti(andreForhold,ytelseFraAksjonaerDeltakerEllerNaerstaaende, realisasjonOgUtleieAvFormuesobjektMv),\n                                                             sti(andreForhold, ytelseFraSelskapEllerSelskapetsDatterselskap, realisasjonOgUtleieAvFormuesobjektMv)))\n    \n                    .hvorMinstEnForekomst {\n                        (fastsatt(formuesobjektSomTekst) er oppgitt) og\n                            (fastsatt(formuesobjektSomTekst).finnesIkkeBlant(gyldigeFormuesobjekttyper))\n                    }\n    \n                hvis(feilTypeFormuesobjekt) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en formuesobjekttype ved realisasjon eller utleie mellom selskap og nærstående mv som ikke er forenlig med kodelisten over tilsvarende formuesobjekttyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FORSKJELLSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeMidlertidigForskjellstyper = midlertidigForskjellstype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        val gyldigePermanentForskjellstyper = permanentForskjellstype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en forskjellstype (midlertidig eller permanent) som ikke finnes i kodelistene for permanentForskjellstype eller midlertidigForskjellstype\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeMidlertidigForskjell = forForekomsterAv(midlertidigForskjell)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(midlertidigForskjellstype) er oppgitt) og\n                            (\n                                fastsatt(midlertidigForskjellstype).finnesIkkeBlant(\n                                    gyldigeMidlertidigForskjellstyper\n                                )\n                                )\n                    }\n    \n                val feilTypePermanentForskjell = forForekomsterAv(permanentForskjell)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(permanentForskjellstype) er oppgitt) og\n                            (fastsatt(permanentForskjellstype).finnesIkkeBlant(gyldigePermanentForskjellstyper))\n                    }\n    \n                hvis(feilTypeMidlertidigForskjell eller feilTypePermanentForskjell) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en forskjellstype som ikke er forenlig med kodelistene over midlertidige og permanente forskjellstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FOUPROSJEKTKATEGORI_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigProsjektkategori = fouprosjektkategori_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattepliktig har oppgitt en prosjektkategori som ikke finnes i kodelisten\n        skattemelding\n            .utslagFor {\n    \n                val feilProsjektkategori = forForekomsterAv(forskningOgUtviklingsprosjekt)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(prosjektkategori) er oppgitt) og\n                            (fastsatt(prosjektkategori).finnesIkkeBlant(gyldigProsjektkategori))\n                    }\n    \n                hvis(feilProsjektkategori) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }\n\n\n\n\n",
      "hjelpetekstSME": "Det er brukt en FoU-prosjektkategori som ikke er forenlig med kodelisten over FoU-prosjektkategorityper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FOUPROSJEKTKATEGORI_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigProsjektkategori = fouprosjektkategori_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattepliktig har oppgitt en prosjektkategori som ikke finnes i kodelisten\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilProsjektkategori = forForekomsterAv(forskningOgUtviklingsprosjekt)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(prosjektkategori) er oppgitt) og\n                            (fastsatt(prosjektkategori).finnesIkkeBlant(gyldigProsjektkategori))\n                    }\n    \n                hvis(feilProsjektkategori) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en FoU-prosjektkategori som ikke er forenlig med kodelisten over FoU-prosjektkategorityper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FOUPROSJEKTVEDTAKSSTAUTSTYPE_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigFoUprosjektvedtaksstatus = fouprosjektvedtakstatustype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en FoU-prosjektvedtaksstatus som ikke finnes i kodelisten for FoU-prosjektvedtaksstatustyper. \n        skattemelding\n            .utslagFor {\n    \n                val feilFoUprosjektvedtaksstatus = forForekomsterAv(forskningOgUtviklingsprosjekt)\n                      .hvorMinstEnForekomst {\n                        (fastsatt(prosjektstatus.status) er oppgitt) og\n                            (fastsatt(prosjektstatus.status).finnesBlant(gyldigFoUprosjektvedtaksstatus))\n                    }\n    \n                hvis(feilFoUprosjektvedtaksstatus) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }\n\n\n\n\n\n",
      "hjelpetekstSME": "Det er brukt en FoU-prosjektvedtaksstatus som ikke er forenlig med kodelisten over FoU-prosjektvedtaksstatustyper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FOUPROSJEKTVEDTAKSSTAUTSTYPE_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigFoUprosjektvedtaksstatus = fouprosjektvedtakstatustype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en FoU-prosjektvedtaksstatus som ikke finnes i kodelisten for FoU-prosjektvedtaksstatustyper. \n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilFoUprosjektvedtaksstatus = forForekomsterAv(forskningOgUtviklingsprosjekt)\n                      .hvorMinstEnForekomst {\n                        (fastsatt(prosjektstatus.status) er oppgitt) og\n                            (fastsatt(prosjektstatus.status).finnesIkkeBlant(gyldigFoUprosjektvedtaksstatus))\n                    }\n    \n                hvis(feilFoUprosjektvedtaksstatus) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en FoU-prosjektvedtaksstatus som ikke er forenlig med kodelisten over FoU-prosjektvedtaksstatustyper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FOUVIRKSOMHETSKATEGORI_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigFoUProsjektvirksomhetskategori = fouprosjektkategori_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattepliktig har oppgitt en FoU-prosjektvirksomhetskategori som ikke finnes i kodelisten for FoU-prosjektvirksomhetskategorityper\n        skattemelding\n            .utslagFor {\n    \n                val feilProsjektkategori = forForekomsterAv(forskningOgUtviklingsprosjekt)\n                      .hvorMinstEnForekomst {\n                        (fastsatt(prosjektkategori) er oppgitt) og\n                            (fastsatt(prosjektkategori).finnesIkkeBlant(gyldigFoUProsjektvirksomhetskategori))\n                    }\n    \n                hvis(feilProsjektkategori) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }\n\n\n\n\n\n",
      "hjelpetekstSME": "Det er brukt en FoU-prosjektvirksomhetskategori som ikke er forenlig med kodelisten over FoU-prosjektvirksomhetskategorityper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FOUVIRKSOMHETSKATEGORI_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigFoUProsjektvirksomhetskategori = fouprosjektkategori_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en FoU-prosjektvirksomhetskategori som ikke finnes i kodelisten for FoU-prosjektvirksomhetskategorityper\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilProsjektkategori = forForekomsterAv(forskningOgUtviklingsprosjekt)\n                      .hvorMinstEnForekomst {\n                        (fastsatt(prosjektkategori) er oppgitt) og\n                            (fastsatt(prosjektkategori).finnesIkkeBlant(gyldigFoUProsjektvirksomhetskategori))\n                    }\n    \n                hvis(feilProsjektkategori) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en FoU-prosjektvirksomhetskategori som ikke er forenlig med kodelisten over FoU-prosjektvirksomhetskategorityper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FOU_GRUNNLAGSDOKUMENTASJONSTYPE_ENK",
      "kontrollformel": "sakstype(Personlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigGrunnlagsdokumentasjonstype = grunnlagsdokumentasjonstypeForVurderingAvOekonomiskeVanskeligheterSkattefunn_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattepliktig har oppgitt en grunnlagsdokumentasjonstype som ikke finnes i kodelisten.  \n        skattemelding\n            .utslagFor {\n    \n                val feilGrunnlagsdokumentasjontype = forForekomsterAv(forskningOgUtviklingsprosjekt)\n                      .hvorMinstEnForekomst {\n                        (fastsatt(grunnlagsdokumentasjon) er oppgitt) og\n                            (fastsatt(grunnlagsdokumentasjon).finnesIkkeBlant(gyldigGrunnlagsdokumentasjonstype))\n                    }\n    \n                hvis(feilGrunnlagsdokumentasjontype) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }\n\n\n\n\n\n",
      "hjelpetekstSME": "Det er brukt en grunnlagsdokumentasjonstype for vurdering av økonomiske vanskeligheter som ikke er forenlig med kodelisten over grunnlagsdokumentasjonstyper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FOU_GRUNNLAGSDOKUMENTASJONSTYPE_UP",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigGrunnlagsdokumentasjonstype = grunnlagsdokumentasjonstypeForVurderingAvOekonomiskeVanskeligheterSkattefunn_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en grunnlagsdokumentasjonstype som ikke finnes i kodelisten.  \n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilGrunnlagsdokumentasjontype = forForekomsterAv(forskningOgUtviklingsprosjekt)\n                      .hvorMinstEnForekomst {\n                        (fastsatt(grunnlagsdokumentasjon) er oppgitt) og\n                            (fastsatt(grunnlagsdokumentasjon).finnesIkkeBlant(gyldigGrunnlagsdokumentasjonstype))\n                    }\n    \n                hvis(feilGrunnlagsdokumentasjontype) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en grunnlagsdokumentasjonstype for vurdering av økonomiske vanskeligheter som ikke er forenlig med kodelisten over grunnlagsdokumentasjonstyper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_INNTEKTSKOSTNADSTYPE_SKATTBETALTUTLANDET",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigInntektsEllerFormuestype = inntektsEllerFormuestypeVedSkattBetaltIUtlandet_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter oppgir en kostnadsfordelingsmetode som ikke finnes i kodelisten\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilInntektsEllerFormuestype = forForekomsterAv(gruppe(sti(fradragINorskInntektsskattForSkattBetaltTilFremmedStatKnyttetTilAnnenUtenlandsinntekt, inntektsskattBetaltIUtlandet),\n                                                                          sti(fradragINorskInntektsskattForSkattBetaltTilFremmedStatKnyttetTilInntektFraNOKUSSelskapEllerVirksomhetILavskatteland, inntektsskattBetaltIUtlandet)))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og\n                            (fastsatt(type).finnesIkkeBlant(gyldigInntektsEllerFormuestype))                    \n                    }\n    \n                hvis(feilInntektsEllerFormuestype) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n           }\n    }",
      "hjelpetekstSME": "Det er brukt en inntekts- eller formuestype ved skatt betalt i utlandet som ikke er forenlig med kodelisten over inntekts- og formuestyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KASSASYSTEM",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeKassasystemtyper = kassasystemtype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en kassasystemtype som ikke finnes i kodelisten 2022 for kassasystemtype\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeKassasystem = forForekomsterAv(sti(andreForhold, overnattingsOgServeringssted))\n                    .forForekomsterAv(kassasystem)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(kassasystemtype) er oppgitt) og\n                            (fastsatt(kassasystemtype).finnesIkkeBlant(gyldigeKassasystemtyper))\n                    }\n    \n                hvis(feilTypeKassasystem) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en kassasystemtype som ikke er forenlig med kodelisten over kassasystemtyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KONSERNTILKNYTNINGSTYPE",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigeKonserntilknytningstyper = konserntilknytningstype\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter oppgir en konserntilknytningstype som ikke finnes i kodelisten\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilKonserntilknytningstype = forForekomsterAv(gruppe(sti(inntektOgUnderskudd, avgittKonsernbidrag),\n                                                                          sti(inntektOgUnderskudd, mottattKonsernbidrag)))\n                    .hvorMinstEnForekomst {(\n                        (fastsatt(mottakersKonserntilknytningstype) er oppgitt) og\n                            (fastsatt(mottakersKonserntilknytningstype).finnesIkkeBlant(gyldigeKonserntilknytningstyper)) eller\n                    \t(fastsatt(avgiversKonserntilknytningstype) er oppgitt) og\n                            (fastsatt(avgiversKonserntilknytningstype).finnesIkkeBlant(gyldigeKonserntilknytningstyper)))\n                    }\n    \n                hvis(feilKonserntilknytningstype) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n           }\n    }",
      "hjelpetekstSME": "Det er brukt en konserntilknytningstype som ikke er forenlig med kodelisten over konserntilknytningstyper",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KONTO_BALANSEREGNSKAP",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigekontoerForAnleggsmidler = resultatregnskapOgBalanse_2022\n            .forForekomsterAv { underkodeliste }\n            .filtrer { fastsatt(tekniskNavn) erLik \"balanseverdiForAnleggsmiddel\" }\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        val gyldigekontoerForEgenkapital = resultatregnskapOgBalanse_2022\n            .forForekomsterAv { underkodeliste }\n            .filtrer { fastsatt(tekniskNavn) erLik \"egenkapital\" }\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        val gyldigekontoerForKortsiktigGjeld = resultatregnskapOgBalanse_2022\n            .forForekomsterAv { underkodeliste }\n            .filtrer { fastsatt(tekniskNavn) erLik \"kortsiktigGjeld\" }\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        val gyldigekontoerForLangsiktigGjeld = resultatregnskapOgBalanse_2022\n            .forForekomsterAv { underkodeliste }\n            .filtrer { fastsatt(tekniskNavn) erLik \"langsiktigGjeld\" }\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        val gyldigekontoerForOmloepsmiddel = resultatregnskapOgBalanse_2022\n            .forForekomsterAv { underkodeliste }\n            .filtrer { fastsatt(tekniskNavn) erLik \"balanseverdiForOmloepsmiddel\" }\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en konto som ikke finnes i kodelisten\n        // sjekker på alle typefelter under balanseregnskap\n        naeringsspesifikasjon\n            .utslagFor {\n                val feilTypeAnleggsmiddel =\n                    forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n                        .forForekomsterAv(balanseverdi)\n                        .hvorMinstEnForekomst {\n                            (fastsatt(type) er oppgitt) og (\n                                fastsatt(type).finnesIkkeBlant(\n                                    gyldigekontoerForAnleggsmidler\n                                )\n                                )\n                        }\n    \n                val feilTypeEgenkapital =\n                    forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, egenkapital))\n                        .forForekomsterAv(kapital)\n                        .hvorMinstEnForekomst {\n                            (fastsatt(type) er oppgitt) og (\n                                fastsatt(type).finnesIkkeBlant(\n                                    gyldigekontoerForEgenkapital\n                                )\n                                )\n                        }\n    \n                val feilTypeKortsiktigGjeld =\n                    forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, kortsiktigGjeld))\n                        .forForekomsterAv(gjeld)\n                        .hvorMinstEnForekomst {\n                            (fastsatt(type) er oppgitt) og (\n                                fastsatt(type).finnesIkkeBlant(\n                                    gyldigekontoerForKortsiktigGjeld\n                                )\n                                )\n                        }\n    \n                val feilTypeLangsiktigGjeld =\n                    forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, langsiktigGjeld))\n                        .forForekomsterAv(gjeld)\n                        .hvorMinstEnForekomst {\n                            (fastsatt(type) er oppgitt) og (\n                                fastsatt(type).finnesIkkeBlant(\n                                    gyldigekontoerForLangsiktigGjeld\n                                )\n                                )\n                        }\n    \n                val feilTypeOmloepsmiddel =\n                    forForekomsterAv(sti(balanseregnskap, omloepsmiddel, balanseverdiForOmloepsmiddel))\n                        .forForekomsterAv(balanseverdi)\n                        .hvorMinstEnForekomst {\n                            (fastsatt(type) er oppgitt) og (\n                                fastsatt(type).finnesIkkeBlant(\n                                    gyldigekontoerForOmloepsmiddel\n                                )\n                                )\n                        }\n    \n                hvis(\n                    feilTypeAnleggsmiddel eller feilTypeEgenkapital eller feilTypeKortsiktigGjeld eller\n                        feilTypeLangsiktigGjeld eller feilTypeOmloepsmiddel\n                ) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en balansekonto som ikke er forenlig med kontoene i kodelisten over balansekontoer.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KONTO_EGENKAPITALAVSTEMMING_PRINSIPPENDRING",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigekontoerForEgenkapitalavstemningPrinsippendring = resultatregnskapOgBalanse_2022\n            .forForekomsterAv { underkodeliste }\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en konto som ikke finnes i kodelisten kodelisten egenkapitalavstemming prinsippendring\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypePrinsippendring = forForekomsterAv(egenkapitalavstemming)\n                    .forForekomsterAv(prinsippendring)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(resultatOgBalanseregnskapstype) er oppgitt) og\n                            (\n                                fastsatt(resultatOgBalanseregnskapstype).finnesIkkeBlant(\n                                    gyldigekontoerForEgenkapitalavstemningPrinsippendring\n                                )\n                                )\n                    }\n    \n                hvis(feilTypePrinsippendring) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en resultatregnskaps-/eller balansekonto som ikke er forenlig med kontoene i kodelisten over resultatregnskaps- og balansekontoer. ",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KONTO_RESULTATREGNSKAP",
      "kontrollformel": "     sakstype(Personlig, Upersonlig)\n         .kontekst(ValideringSkattepliktig)\n         .hvis({ naeringsspesifikasjon.harInnhold }) {\n             val gyldigekontoerForAnnenDriftsinntekt = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"annenDriftsinntekt\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             val gyldigekontoerForSalgsinntekt = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"salgsinntekt\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             val gyldigekontoerForAnnenDriftskostnad = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"annenDriftskostnad\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             val gyldigekontoerForLoennskostnad = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"loennskostnad\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             val gyldigekontoerForVarekostnad = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"varekostnad\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             val gyldigekontoerForEkstraordinaerPost = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"ekstraordinaerPost\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             val gyldigekontoerForFinansinntekt = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"finansinntekt\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             val gyldigekontoerForFinanskostnad = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"finanskostnad\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             val gyldigekontoerForSkattekostnad = resultatregnskapOgBalanse_2022\n                 .forForekomsterAv { underkodeliste }\n                 .filtrer { tekniskNavn erLik \"skattekostnad\" }\n                 .forForekomsterAv { kode }\n                 .verdierFor { tekniskNavn }\n    \n             // Kontrollen gir utslag dersom skattyter har oppgitt en konto som ikke finnes i kodelisten\n             // sjekker på alle typefelter under resultatregnskap\n             naeringsspesifikasjon\n                 .utslagFor {\n                     val feilTypeDriftsinntekt =\n                         forForekomsterAv(sti(resultatregnskap, driftsinntekt, annenDriftsinntekt))\n                             .forForekomsterAv(inntekt)\n                             .hvorMinstEnForekomst {\n                                 (fastsatt(type) er oppgitt) og (\n                                     fastsatt(type).finnesIkkeBlant(\n                                         gyldigekontoerForAnnenDriftsinntekt\n                                     )\n                                     )\n                             }\n    \n                     val feilTypeSalgsinntekt = forForekomsterAv(sti(resultatregnskap, driftsinntekt, salgsinntekt))\n                         .forForekomsterAv(inntekt)\n                         .hvorMinstEnForekomst {\n                             (fastsatt(type) er oppgitt) og (\n                                 fastsatt(type).finnesIkkeBlant(\n                                     gyldigekontoerForSalgsinntekt\n                                 )\n                                 )\n                         }\n    \n                     val feilTypeAnnenDriftskostnad =\n                         forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnad))\n                             .forForekomsterAv(kostnad)\n                             .hvorMinstEnForekomst {\n                                 (fastsatt(type) er oppgitt) og (\n                                     fastsatt(type).finnesIkkeBlant(\n                                         gyldigekontoerForAnnenDriftskostnad\n                                     )\n                                     )\n                             }\n    \n                     val feilTypeLoennskostnad =\n                         forForekomsterAv(sti(resultatregnskap, driftskostnad, loennskostnad))\n                             .forForekomsterAv(kostnad)\n                             .hvorMinstEnForekomst {\n                                 (fastsatt(type) er oppgitt) og (\n                                     fastsatt(type).finnesIkkeBlant(\n                                         gyldigekontoerForLoennskostnad\n                                     )\n                                     )\n                             }\n    \n                     val feilTypeVarekostnad = forForekomsterAv(sti(resultatregnskap, driftskostnad, varekostnad))\n                         .forForekomsterAv(kostnad)\n                         .hvorMinstEnForekomst {\n                             (fastsatt(type) er oppgitt) og (\n                                 fastsatt(type).finnesIkkeBlant(\n                                     gyldigekontoerForVarekostnad\n                                 )\n                                 )\n                         }\n    \n                     val feilTypeFinansinntekt = forForekomsterAv(sti(resultatregnskap, finansinntekt))\n                         .forForekomsterAv(inntekt)\n                         .hvorMinstEnForekomst {\n                             (fastsatt(type) er oppgitt) og (\n                                 fastsatt(type).finnesIkkeBlant(\n                                     gyldigekontoerForFinansinntekt\n                                 )\n                                 )\n                         }\n    \n                     val feilTypeFinanskostnad = forForekomsterAv(sti(resultatregnskap, finanskostnad))\n                         .forForekomsterAv(kostnad)\n                         .hvorMinstEnForekomst {\n                             (fastsatt(type) er oppgitt) og (\n                                 fastsatt(type).finnesIkkeBlant(\n                                     gyldigekontoerForFinanskostnad\n                                 )\n                                 )\n                         }\n    \n                     val feilTypeSkattekostnad = forForekomsterAv(sti(resultatregnskap, skattekostnad))\n                         .forForekomsterAv(kostnad)\n                         .hvorMinstEnForekomst {\n                             (fastsatt(type) er oppgitt) og (\n                                 fastsatt(type).finnesIkkeBlant(\n                                     gyldigekontoerForSkattekostnad\n                                 )\n                                 )\n                         }\n    \n                     hvis(\n                         feilTypeDriftsinntekt eller feilTypeSalgsinntekt eller feilTypeAnnenDriftskostnad eller\n                            feilTypeLoennskostnad eller feilTypeVarekostnad eller feilTypeFinanskostnad eller \n                       \t\tfeilTypeSkattekostnad\n                     ) {\n                         betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                     }\n                 }\n         }\n",
      "hjelpetekstSME": "Det er brukt en resultatregnskapskonto som ikke er forenlig med kontoene i kodelisten over resultatregnskapskontoer.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KOSTNADSFORDELINGSMETODE",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigKostnadsfordelingsmetode = kostnadsfordelingsmetodeVedSkattBetaltIUtlandet_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter oppgir en kostnadsfordelingsmetode som ikke finnes i kodelisten\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilKostnadsfordelingsmetode = forForekomsterAv(gruppe(sti(fradragINorskInntektsskattForSkattBetaltTilFremmedStatKnyttetTilAnnenUtenlandsinntekt, fordelingAvKostnad),\n                                                                          sti(fradragINorskInntektsskattForSkattBetaltTilFremmedStatKnyttetTilInntektFraNOKUSSelskapEllerVirksomhetILavskatteland, fordelingAvKostnad)))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(kostnadsfordelingsmetode) er oppgitt) og\n                            (fastsatt(kostnadsfordelingsmetode).finnesIkkeBlant(gyldigKostnadsfordelingsmetode))                    \n                    }\n    \n                hvis(feilKostnadsfordelingsmetode) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n           }\n    }",
      "hjelpetekstSME": "Det er brukt en kostnadsfordelingsmetode  ved skatt betalt i utlandet som ikke er forenlig med kodelisten over kostnadsfordelingsmetoder",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_NÆRINGSEIENDOMSTYPE",
      "kontrollformel": "sakstype(Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        // Kontrollen gir utslag dersom skattyter oppgir en næringseiendomstype som ikke er gyldig\n        // Kontrollen medfører at innleveringen avvises\n        skattemeldingUpersonlig\n            .forForekomsterAv(formuesgrunnlagIkkeUtleidNaeringseiendomINorge)\n            .utslagFor {\n    \n                val harIkkeUtleidNæringseiendomINorge = hvorMinstEnForekomst {\n                    naeringseiendomstype.finnesIkkeBlant(\n                        \"industri\",\n                        \"verksted\",\n                        \"lager\",\n                        \"hotell\",\n                        \"butikkEllerKjoepesenter\",\n                        \"kontor\",\n                        \"tomtGrunnarealHovedfunksjon\",\n                        \"annet\"\n                    )\n                }\n    \n                hvis(harIkkeUtleidNæringseiendomINorge) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en næringseiendomstype som ikke er forenlig med kodelisten over næringseiendomstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_NÆRINGSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeNaeringstyper = naeringstype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en næringstype som ikke finnes i kodelisten for næringstype\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeNaering = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(naeringstype) er oppgitt) og\n                            (fastsatt(naeringstype).finnesIkkeBlant(gyldigeNaeringstyper))\n                    }\n    \n                hvis(feilTypeNaering) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en næringstype som ikke er forenlig med kodelisten over næringstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_PRISINGSMETODE",
      "kontrollformel": "sakstype(Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigPrisingsmetode = prisingsmetode_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattepliktig har oppgitt en prisingsmetode som ikke finnes i kodelisten prisingsmetode_2022\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilPrisingsmetode = forForekomsterAv(gruppe(sti(andreForhold,ytelseFraAksjonaerDeltakerEllerNaerstaaende),\n                                                                sti(andreForhold,ytelseFraSelskapEllerSelskapetsDatterselskap)))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(prisingsmetode) er oppgitt) og\n                            (fastsatt(prisingsmetode).finnesIkkeBlant(gyldigPrisingsmetode))\n                    }\n    \n                           hvis(feilPrisingsmetode) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n           }\n    }",
      "hjelpetekstSME": "Det er brukt en prisingsmetode som ikke er forenlig med kodelisten over prisingsmetoder",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_REGELTYPE_FOR_ÅRSREGNSKAP",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeRegeltyperForAarsregnskap = regeltypeForAarsregnskap_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en regeltype for årsregnskap som ikke finnes i kodelisten for regeltype for Årsregnskap\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeRegelForAarsregnskap = forForekomsterAv(virksomhet)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(regeltypeForAarsregnskap) er oppgitt) og\n                            (fastsatt(regeltypeForAarsregnskap).finnesIkkeBlant(gyldigeRegeltyperForAarsregnskap))\n                    }\n    \n                hvis(feilTypeRegelForAarsregnskap) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en regeltype for årsregnskap som ikke er forenlig med kodelisten over regeltyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_REGNSKAPSPLIKTTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeRegnskapspliktstyper = regnskapsplikttype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // kontrollen gir utslag dersom skattyter har oppgitt en regnskapspliktstype som ikke finnes i kodelisten for regnskapspliktstype\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeRegnskapsplikt = forForekomsterAv(virksomhet)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(regnskapspliktstype) er oppgitt) og\n                            (fastsatt(regnskapspliktstype).finnesIkkeBlant(gyldigeRegnskapspliktstyper))\n                    }\n    \n                hvis(feilTypeRegnskapsplikt) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en regnskapspliktstype som ikke er forenlig med kodelisten over regnskapspliktstyper .",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_SALDOGRUPPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeSaldogrupper = saldogruppe_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en saldogruppe som ikke finnes i kodelisten for saldogruppe\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilSaldogruppe =\n                    forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n                        .hvorMinstEnForekomst {\n                            (fastsatt(saldogruppe) er oppgitt) og\n                                (fastsatt(saldogruppe).finnesIkkeBlant(gyldigeSaldogrupper))\n                        }\n    \n                hvis(feilSaldogruppe) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en saldogruppe som ikke er forenlig med kodelisten over saldogrupper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_SKATTE_OG_AVGIFTSORDNING",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n        val gyldigeSkatteOgAvgiftsordninger = skatteOgAvgiftsordningOmfattetAvOffentligStoette_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en skatte- og avgiftsordning som ikke finnes i kodelistene\n        skattemeldingUpersonlig\n            .utslagFor {\n    \n                val feilSkatteOgAvgiftsordning = forForekomsterAv(\n                    sti(\n                        spesifikasjonAvForholdRelevanteForBeskatning,\n                        tilleggsinformasjonKnyttetTilMottakAvSkatteOgAvgiftsordningOmfattetAvOffentligStoette\n                    )\n                )\n                    .forForekomsterAv(skatteOgAvgiftsordningOmfattetAvOffentligStoette)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(skatteOgAvgiftsordning) er oppgitt) og\n                            (fastsatt(skatteOgAvgiftsordning).finnesIkkeBlant(gyldigeSkatteOgAvgiftsordninger))\n                    }\n    \n                hvis(feilSkatteOgAvgiftsordning) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en skatt- og avgiftsordning som ikke er forenlig med kodelisten \"skatteOgAvgiftsordningOmfattetAvOffentligStoette\".",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_SKJERMINGSGRUNNLAGSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeSkjermingsgrunnlagstyper = skjermingsgrunnlagstype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en skjermingsgrunnlagstype som ikke finnes i kodelisten\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilSkjermingsgrunnlagstype =\n                    forForekomsterAv(sti(fordeltBeregnetPersoninntekt, spesifikasjonAvSkjermingsgrunnlag))\n                        .hvorMinstEnForekomst {\n                            (fastsatt(skjermingsgrunnlagstype) er oppgitt) og\n                                (\n                                    fastsatt(skjermingsgrunnlagstype).finnesIkkeBlant(\n                                        gyldigeSkjermingsgrunnlagstyper\n                                    )\n                                    )\n                        }\n    \n                hvis(feilSkjermingsgrunnlagstype) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en skjermingsgrunnlagstype som ikke er forenlig med kodelisten over skjermingsgrunnlagstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_TAKSAMETERTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeTaksametertyper = taksametertype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en taksametertype som ikke finnes i kodelisten for taksametertype\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTaksametertype = forForekomsterAv(sti(andreForhold, loeyveForDrosjeOgGodstransport))\n                    .forForekomsterAv(kjoeretoey)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(taksametertype) er oppgitt) og\n                            (fastsatt(taksametertype).finnesIkkeBlant(gyldigeTaksametertyper))\n                    }\n    \n                hvis(feilTaksametertype) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en taksametertype som ikke er forenlig med kodelisten over taksametertyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_VAREART",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeVarearter = vareart_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // Kontrollen gir utslag dersom skattyter har oppgitt en vareart som ikke finnes i kodelisten for vareart\n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilVareart = forForekomsterAv(sti(andreForhold, overnattingsOgServeringssted))\n                    .forForekomsterAv(varelagerPerVareart)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(vareart) er oppgitt) og\n                            (fastsatt(vareart).finnesIkkeBlant(gyldigeVarearter))\n                    }\n    \n                hvis(feilVareart) {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en vareart som ikke er forenlig med kodelisten over varearter.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_VIRKSOMHETSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig, SDF)\n    .kontekst(ValideringSkattepliktig)\n    .hvis({ naeringsspesifikasjon.harInnhold }) {\n        val gyldigeVirksomhetstyper = virksomhetstype_2022\n            .forForekomsterAv { kode }\n            .verdierFor { tekniskNavn }\n    \n        // kontrollen gir utslag dersom skattyter har oppgitt en virksomhetstype som ikke finnes i kodelisten for virksomhetstype\n    \n        naeringsspesifikasjon\n            .utslagFor {\n    \n                val feilTypeVirksomhet = forForekomsterAv(virksomhet)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(virksomhetstype) er oppgitt) og\n                            (fastsatt(virksomhetstype).finnesIkkeBlant(gyldigeVirksomhetstyper))\n                    }\n    \n                hvis(feilTypeVirksomhet) {\n                    betjeningsstrategiSettesTil(\n                        ikke,\n                        faktiskFeil,\n                        1,\n                        Gruppering settesTil Næring\n                    )\n                }\n            }\n    }",
      "hjelpetekstSME": "Det er brukt en virksomhetstype som ikke er forenlig med kodelisten over virksomhetstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "UP_HAR_NÆRINGSSPESIFIKASJON_MANGLER_SELSKAPSMELDING_SDF",
      "kontrollformel": "sakstype(SDF)\n    .kontekst(ValideringSkattepliktig) {\n    \n        val harSelskapsmelding = selskapsmeldingSdf\n              .hvorMinstEnForekomst { skatteplikt.partsnummer er oppgitt }\n    \n        // kontrollen gir utslag dersom upersonlig skattyter forsøker å levere med næringsspesifikasjon uten selskapsmelding      \n        naeringsspesifikasjon\n            .utslagFor {\n                 val harNæringsspesifikasjon = forForekomsterAv(virksomhet)\n                    .hvorMinstEnForekomst { virksomhetstype er oppgitt }\n    \n                hvis(harNæringsspesifikasjon og ikke(harSelskapsmelding)) \n              {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil)\n                }\n            }\n    }",
      "hjelpetekstSME": "Selskapet mangler selskapsmelding.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "UP_HAR_NÆRINGSSPESIFIKASJON_MANGLER_SKATTEMELDING",
      "kontrollformel": "sakstype(Upersonlig)\n    .kontekst(ValideringSkattepliktig) {\n    \n        val harSkattemelding = skattemeldingUpersonlig\n           .hvorMinstEnForekomst { skattepliktSomGruppe.partsnummerSomTekst er oppgitt }\n    \n        // kontrollen gir utslag dersom upersonlig skattyter forsøker å levere med næringsspesifikasjon uten skattemelding      \n        naeringsspesifikasjon\n            .utslagFor {\n                val harNæringsspesifikasjon = forForekomsterAv(virksomhet)\n                    .hvorMinstEnForekomst { virksomhetstype er oppgitt }\n    \n                hvis(harNæringsspesifikasjon og ikke(harSkattemelding)) \n              {\n                    betjeningsstrategiSettesTil(ikke, faktiskFeil)\n                }\n            }\n    }",
      "hjelpetekstSME": "Selskapet mangler skattemelding.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    }
  ]
}
	