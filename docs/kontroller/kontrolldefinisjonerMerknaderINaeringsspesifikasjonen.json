{
  "kontrolldefinisjoner": [
    {
      "kontrollnavn": "N_ANTALL_MÅNEDER_FEIL",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når antall måneder drevet i år er lavere enn 0 eller høyere enn 12\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetPersoninntekt)\n        .utslagFor {\n            hvis((antallMaanederDrevetIAar erStørreEnn 12) eller (antallMaanederDrevetIAar erMindreEnn 0)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du må legge inn et tall mellom 1 og 12.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_GEVINST_OBLIGASJONER",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når selskapet har opplysninger om gevinst av obligasjon/sertifikat og summen av disse er høyere\n    //enn beløp ført i post 8079 i resultatregnskapet\n    //kontrollen gir merknad i valideringstjenesten\n\n    val gevinstObligasjonManglerIResultat = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n        .forForekomsterAv(inntekt)\n        .filtrer { type.finnesBlant(\"8079\") }\n        .summer { beloepSomGruppe.beloepSomTall }\n\n    skattemeldingUpersonlig\n        .forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat))\n\n        .utslagFor {\n            val sumGevinstObligasjon = summer { gevinstVedRealisasjonAvObligasjonOgSertifikat }\n\n            val avvikGevinst = sumGevinstObligasjon - gevinstObligasjonManglerIResultat\n\n            hvis(gevinstObligasjonManglerIResultat erMindreEnn sumGevinstObligasjon) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Avviksbeloep settesTil avvikGevinst)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er avvik mellom gevinst ved realisasojn av obligasjon og sertifikat rapportert i konto 8079 i resultatregnskapet og summen av gevinster ved realisasjon som er spesifisert pr obligasjon eller sertifikat i skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_RENTER_OBLIGASJONER",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når selskapet har opplysninger om renteinntekt av obligasjon/sertifikat og summen av disse er høyere\n    //enn beløp ført i post 8090 i resultatregnskapet\n    //kontrollen gir merknad i valideringstjenesten\n\n    val renterObligasjonManglerIResultat = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n        .forForekomsterAv(inntekt)\n        .filtrer { type.finnesBlant(\"8090\") }\n        .summer { beloepSomGruppe.beloepSomTall }\n\n    skattemeldingUpersonlig\n        .utslagFor {\n            val sumRenteinntektObligasjon =\n                forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat))\n                    .summer { renteinntektAvObligasjonOgSertifikatSomTall }\n\n            val avvikRenter = sumRenteinntektObligasjon - renterObligasjonManglerIResultat\n\n            hvis(renterObligasjonManglerIResultat erMindreEnn sumRenteinntektObligasjon) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Avviksbeloep settesTil avvikRenter\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er avvik mellom renteinntekt av obligasjon og sertifikat rapportert i konto 8090 i resultatregnskapet og summen av renteinntektene som er spesifisert pr obligasjon eller sertifikat i skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_TAP_OBLIGASJONER",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når selskapet har opplysninger om tap av obligasjon/sertifikat og summen av disse er høyere\n    //enn beløp ført i post 8179 i resultatregnskapet\n    //kontrollen gir merknad i valideringstjenesten\n\n    val tapObligasjonManglerIResultat = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, finanskostnad))\n        .forForekomsterAv(kostnad)\n        .filtrer { type.finnesBlant(\"8179\") }\n        .summer { beloepSomGruppe.beloepSomTall }\n\n    skattemeldingUpersonlig\n        .forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat))\n\n        .utslagFor {\n            val sumTapObligasjon = summer { tapVedRealisasjonAvObligasjonOgSertifikat }\n\n            val avvikTap = sumTapObligasjon - tapObligasjonManglerIResultat\n\n            hvis(tapObligasjonManglerIResultat erMindreEnn sumTapObligasjon)\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Avviksbeloep settesTil avvikTap\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er avvik mellom tap ved realisasjon av obligasjon og sertifikat rapportert i konto 8179 i resultatregnskapet og summen av tap ved realisasjon som er spesifisert pr obligasjon eller sertifikat i skattemeldingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_TILBAKEFØRT_SKATTEKOSTNAD",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når det er avvik mellom sum skattekostnad i resultatregnskapet og tilbakeført skattekostnad i permanente forskjeller\n    //kontrollen medfører merknad i valideringstjenesten\n\n    val positivSkattekostnadPermanentForskjell = naeringsspesifikasjon\n        .forForekomsterAv(permanentForskjell)\n        .filtrer { fastsatt(permanentForskjellstype) erLik \"positivSkattekostnad\" }\n        .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n\n    val negativSkattekostnadPermanentForskjell = naeringsspesifikasjon\n        .forForekomsterAv(permanentForskjell)\n        .filtrer { fastsatt(permanentForskjellstype) erLik \"negativSkattekostnad\" }\n        .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, sumSkattekostnad))\n\n        .utslagFor {\n            hvis(beloepSomTall erUlik (positivSkattekostnadPermanentForskjell - negativSkattekostnadPermanentForskjell)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er avvik mellom sum skattekostnad i resultatregnskapet og tilbakeført skattekostnad i permanente forskjeller.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_AVVIK_ÅRSRESULTAT_EGENKAPITALAVSTEMMING",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når\n    //kontrollen medfører merknad i valideringstjenesten\n    val aarsresultatIVirksomheten = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, aarsresultat))\n        .summer { beloepSomTall }\n\n    val harRegnskapsplikttype2Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"2\", \"5\") }\n\n    naeringsspesifikasjon\n        .forForekomsterAv(egenkapitalavstemming)\n        .utslagFor {\n            val oppgittOverskudd = forForekomsterAv(egenkapitalendring)\n                .filtrer { fastsatt(egenkapitalendringstype) erLik \"aaretsOverskudd\" }\n                .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n\n            val oppgittUnderskudd = forForekomsterAv(egenkapitalendring)\n                .filtrer { fastsatt(egenkapitalendringstype) erLik \"aaretsUnderskudd\" }\n                .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n\n            val oppgittOverskuddEllerUnderskudd = oppgittOverskudd - oppgittUnderskudd\n            val avvikIVisning = aarsresultatIVirksomheten - oppgittOverskuddEllerUnderskudd\n\n            hvis(harRegnskapsplikttype2Eller5 og (aarsresultatIVirksomheten erUlik oppgittOverskuddEllerUnderskudd)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1,\n                    Avviksbeloep settesTil avvikIVisning\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er avvik mellom årsresultat og årets overskudd eller årets underskudd i egenkapitalavstemmingen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_BARE_PERSONINNTEKT",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når personinntekt er beregnet uten at det er oppgitt beløp i feltet for skattemessig resultat tilordnet innehaver\n    //kontrollen avviser innleveringen\n    val harPersoninntekt = naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetPersoninntekt)\n        .hvorMinstEnForekomst { aaretsBeregnedePersoninntektFoerFordelingOgSamordning.beloepSomTall erStørreEnn 0 }\n\n    naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n        .utslagFor {\n            hvis((harPersoninntekt) og (fordeltSkattemessigResultatEtterKorreksjon.beloepSomTall ikkeEr oppgitt)) {\n                betjeningsstrategiSettesTil(\n                    ikke, faktiskFeil, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har lagt inn personinntekt. Da må du også legge inn næringsinntekt.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_BEREGNET_PERSONINNTEKT_MANGLER",
      "kontrollformel": "sakstype(Personlig)\n            .kontekst(ValideringSkattepliktig)\n            {\n//kontrollen gir utslag når det er rapportert \"skattemessig resultat for næring etter korreksjon\" uten at det også er rapportert \"årets beregnede personinntekt\"\n//kontrollen gir merknad i valideringstjenesten\n                val harPersoninntekt = naeringsspesifikasjon\n                    .forForekomsterAv(fordeltBeregnetPersoninntekt)\n                    .filtrer { (aaretsBeregnedePersoninntektFoerFordelingOgSamordning.beloepSomTall er oppgitt) }\n                    .verdierFor { identifikatorForFordeltBeregnetPersoninntekt }\n\n                val harNæringsinntekt = naeringsspesifikasjon\n                    .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n                    .hvorMinstEnForekomst {\n                        (identifikatorForFordeltBeregnetPersoninntekt finnesIkkeBlant (harPersoninntekt)) og\n                            (fordeltSkattemessigResultatEtterKorreksjon.beloepSomTall er oppgitt)\n                    }\n\n                naeringsspesifikasjon\n\n                    .utslagFor {\n                        hvis(harNæringsinntekt)\n                        {\n                            betjeningsstrategiSettesTil(\n                                ikke, merknadStandard, 1)\n                        }\n                    }\n            }",
      "hjelpetekstSME": "Legg inn personinntekt, også dersom den er 0.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_BRUK_AV_PRIVATBIL",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom skattepliktig krever fradrag for kostnader ved bruk av privatbil i næring i post 7080, utover det maksimale fradragsbeløpet\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .forForekomsterAv(kostnad)\n        .utslagFor {\n            hvis((type erLik \"7080\") og (beloepSomGruppe.beloepSomTall erStørreEnn 21000)) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "\"Du har krevd fradrag for kostnader ved bruk av privatbil i næring som overstiger maksbeløpet. Bruker du privatbil mer enn 6 000 kilometer i året, skal bilen som hovedregel regnskapsbehandles.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_DOBBELTFØRING_KOMPENSASJONSORDNINGEN",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når beløp i felt \"3410 Tilskudd kompensasjonsordningen\" i NSP er større enn eller lik felt \"Kompensasjon for tapt inntekt utbetalt fra NAV\" (preutfylt) i SME\n    //kontrollen gir merknad i valideringstjenesten\n    val kompensasjonINæringsspesifikasjon = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, driftsinntekt, annenDriftsinntekt))\n        .forForekomsterAv(inntekt)\n        .filtrer { type erLik \"3410\" }\n        .summer { beloepSomGruppe.beloepSomTall }\n\n    skattemelding\n        .forForekomsterAv(sti(oppgavegiver, sykepengerOgAnnenInntektMvFraOppgavegiver))\n\n        .utslagFor {\n            val kompensasjonISkattemeldingen = filtrer { behandlingsart erLik \"KOMP_PERS_INNT\" }\n                .summer { beloepSomGruppe.beloepSomTall }\n\n            val avviksbeloepKompensasjon = kompensasjonINæringsspesifikasjon - kompensasjonISkattemeldingen\n\n            hvis(kompensasjonINæringsspesifikasjon erStørreEnnEllerLik kompensasjonISkattemeldingen) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Avviksbeloep settesTil avviksbeloepKompensasjon\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Kontroller at kompensasjon for tapt inntekt fra NAV ikke er ført i post 3410 i næringsspesifikasjonen. Beløpet er forhåndsutfylt i skattemeldingen din.  ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_DRIFTSTID_FISKE",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom skattepliktig ikke har oppgitt antall dager ombord fiskebåt\n    //kontrollen gir merknad i SME\n    val antallDagerOmbordFinnesIkke = skattemelding\n        .forForekomsterAv(saerskiltFradragForFiskereOgFangstfolk)\n        .hvorMinstEnForekomst { driftstidIFiskeOgFangst ikkeEr oppgitt }\n\n    skattemelding\n        .forForekomsterAv(saerskiltFradragForFiskereOgFangstfolk)\n        .utslagFor {\n            hvis((grunnlagForBeregningAvSaerskiltFradragForFiskereOgFangstfolk.beloepSomTall erStørreEnn 0) og antallDagerOmbordFinnesIkke) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har lagt inn inntekter fra fiske og fangst. For å få fradrag må du også legge inn driftstid i fiske og fangst. Dette gjør du ved å velge \"Åpne og endre\" og \"Legg til oppdragsgiver og dager om bord\".",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_EKTEFELLE_MANGLER_NÆRINGSINNTEKT",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom skattyter rapporterer personinntekt fra ektefelle, men ikke også næringsinntekt\n    //kontrollen gir merknad i SME\n\n    skattemelding\n        .forForekomsterAv(naeringsinntektMvFordeltFraEktefelle)\n        .utslagFor {\n            hvis((personinntekt.beloepSomTall er oppgitt) og (naeringsinntektSomGruppe.beloepSomTall ikkeEr oppgitt)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har lagt inn din andel av personinntekten. Da må du også legge inn din andel av næringsinntekten.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_FEIL_ANLEGGSMIDDELTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n    .kontekst(ValideringSkattepliktig) \n{\nval harRegnskapspliktstypeLik1 = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype erLik \"1\" }\n\nval harFeilAnleggsmiddelTypeFor1 = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant( \"1350\", \"1360\",)\n            }\nval harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant (\"1\",\"5\") }\n\nval harFeilAnleggsmiddelTypeFor1Og5 = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant(\"1070\", \"1180\", \"1312\", \"1313\", \"1320\", \"1331\", \"1332\", \"1340\", \"1395\")\n            }\nval harRegnskapspliktstypeLik2 = naeringsspesifikasjon\n            .forForekomsterAv(virksomhet)\n            .hvorMinstEnForekomst {regnskapspliktstype erLik \"2\"}\n            \nval harFeilAnleggsmiddelTypeFor2 = naeringsspesifikasjon\n            .forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n            .forForekomsterAv(balanseverdi)\n            .hvorMinstEnForekomst {\n                type\n                    .finnesBlant(\"1295\", \"1296\", \"1298\")\n            }\n// Kontrollen gir utslag dersom skattyter har regnskapsplikttype 1, 2 eller 5\n// Sammen med minst en av de nevnte typene anleggsmiddel\n naeringsspesifikasjon utslagFor hvis(\n            (harRegnskapspliktstypeLik1 og harFeilAnleggsmiddelTypeFor1) eller\n            (harRegnskapspliktstypeLik1Eller5 og harFeilAnleggsmiddelTypeFor1Og5) eller\n            (harRegnskapspliktstypeLik2 og harFeilAnleggsmiddelTypeFor2)\n            \n        ) {\n            betjeningsstrategiSettesTil(\n                ikke,\n                faktiskFeil,\n                1,\n                Gruppering settesLik Næring\n            )\n        }\n}",
      "hjelpetekstSME": "Det er brukt en anleggsmiddeltype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_ANNENDRIFTSINNTEKTSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype.finnesBlant(\"1\", \"5\")\n        }\n\n    val harFeilAnnenDriftsinntektTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftsinntekt.annenDriftsinntektSomGruppe)\n        .forForekomsterAv(inntekt)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"3500\", \"3850\", \"3870\", \"3880\", \"3885\")\n        }\n\n    val harRegnskapspliktstypeLik2Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype.finnesBlant(\"2\", \"5\")\n        }\n\n    val harFeilAnnenDriftsinntektTypeFor2Og5 = naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftsinntekt.annenDriftsinntektSomGruppe)\n        .forForekomsterAv(inntekt)\n        .hvorMinstEnForekomst {\n            type erLik \"3650\"\n        }\n\n    val harRegnskapspliktstypeLik2 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype erLik \"2\"\n        }\n\n    val harFeilAnnenDriftsinntektTypeFor2 = naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftsinntekt.annenDriftsinntektSomGruppe)\n        .forForekomsterAv(inntekt)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"3890\", \"3895\", \"3910\")\n        }\n\n    // kontrollen kan gi utslag dersom skattyter har regnskapsplikttype 1, 2 eller 5\n    // sammen med minst en av de nevnte typene av annen driftsinntekt\n    naeringsspesifikasjon utslagFor hvis(\n        (harRegnskapspliktstypeLik1Eller5 og harFeilAnnenDriftsinntektTypeFor1Og5) eller\n            (harRegnskapspliktstypeLik2Eller5 og harFeilAnnenDriftsinntektTypeFor2Og5) eller\n            (harRegnskapspliktstypeLik2 og harFeilAnnenDriftsinntektTypeFor2)\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en driftsinntektstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_ANNENDRIFTSKOSTNADSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktsTypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"5\") }\n\n    val harFeilAnnenDriftskostnadTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .forForekomsterAv(kostnad)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"6050\", \"7370\", \"7440\", \"7490\", \"7880\", \"7885\")\n        }\n\n    val harRegnskapspliktsTypeLik2Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"2\", \"5\") }\n\n    val harFeilAnnenDriftskostnadTypeFor2Og5 = naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .forForekomsterAv(kostnad)\n        .hvorMinstEnForekomst {\n            type erLik \"6440\"\n        }\n\n    val harRegnskapspliktsTypeLik2 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype erLik \"2\" }\n\n    val harFeilAnnenDriftskostnadTypeFor2 = naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .forForekomsterAv(kostnad)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"6998\", \"7350\", \"7400\", \"7420\", \"7890\", \"7897\", \"7910\", \"7911\")\n        }\n\n    // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1, 2 eller 5\n    // sammen med minst en av de nevnte typene av annen driftskostnad\n    naeringsspesifikasjon utslagFor hvis(\n        (harRegnskapspliktsTypeLik1Eller5 og harFeilAnnenDriftskostnadTypeFor1Og5) eller\n            (harRegnskapspliktsTypeLik2Eller5 og harFeilAnnenDriftskostnadTypeFor2Og5) eller\n            (harRegnskapspliktsTypeLik2 og harFeilAnnenDriftskostnadTypeFor2)\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en driftskostnadstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_EGENKAPITALTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype erLik \"5\"\n        }\n\n    val harFeilEgenkapitalTypeFor5 = naeringsspesifikasjon\n        .forForekomsterAv(balanseregnskap.gjeldOgEgenkapital.egenkapitalSomGruppe)\n        .forForekomsterAv(kapital)\n        .hvorMinstEnForekomst {\n            type.erLik(\"2080\")\n        }\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype.finnesBlant(\"1\", \"5\")\n        }\n\n    val harFeilEgenkapitalTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(balanseregnskap.gjeldOgEgenkapital.egenkapitalSomGruppe)\n        .forForekomsterAv(kapital)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"2010\", \"2020\", \"2030\", \"2043\", \"2045\", \"2055\")\n        }\n    val harRegnskapspliktstypeLik2 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype erLik \"2\"\n        }\n\n    val harFeilEgenkapitalTypeFor2 = naeringsspesifikasjon\n        .forForekomsterAv(balanseregnskap.gjeldOgEgenkapital.egenkapitalSomGruppe)\n        .forForekomsterAv(kapital)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"2095\", \"2096\", \"2097\", \"2098\")\n        }\n\n    // Kontrollen kan gi utslag dersom skattyter har regnskapsplikttype 1, 2 eller 5\n    // Sammen med minst en av de nevnte typene av egenkapital\n    naeringsspesifikasjon utslagFor hvis(\n        (harRegnskapspliktstypeLik5 og harFeilEgenkapitalTypeFor5) eller\n            (harRegnskapspliktstypeLik1Eller5 og harFeilEgenkapitalTypeFor1Og5) eller\n            (harRegnskapspliktstypeLik2 og harFeilEgenkapitalTypeFor2)\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Du har brukt en egenkapitalstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_EKSTRAORDINAERTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"5\") }\n\n    val harFeilEkstraordinaerTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, ekstraordinaerPost))\n        .forForekomsterAv(post)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"8400\", \"8500\")\n        }\n\n    // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n    // sammen med minst en av de nevnte typene av ekstraordinær inntekt eller ekstraordinær kostnad\n    naeringsspesifikasjon utslagFor hvis(\n        harRegnskapspliktstypeLik1Eller5 og\n            harFeilEkstraordinaerTypeFor1Og5\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en ekstraordinær post type som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_FINANSINNTEKTSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype erLik \"1\" }\n\n    val harFeilFinansinntektTypeFor1 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n        .forForekomsterAv(inntekt)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"8005\", \"8050\", \"8074\", \"8090\")\n        }\n\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"5\") }\n\n    val harFeilFinansinntektTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n        .forForekomsterAv(inntekt)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"8030\", \"8080\")\n        }\n\n    val harRegnskapspliktstypeLik1Eller2 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"2\") }\n\n    val harFeilFinansinntektTypeFor1Og2 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, finansinntekt))\n        .forForekomsterAv(inntekt)\n        .hvorMinstEnForekomst {\n            type erLik \"8091\"\n        }\n\n    // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1, 2 eller 5\n    // sammen med minst en av de nevnte typene av finansinntekt\n    naeringsspesifikasjon utslagFor hvis(\n        (harRegnskapspliktstypeLik1 og harFeilFinansinntektTypeFor1) eller\n            (harRegnskapspliktstypeLik1Eller5 og harFeilFinansinntektTypeFor1Og5) eller\n            (harRegnskapspliktstypeLik1Eller2 og harFeilFinansinntektTypeFor1Og2)\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en finansinntektstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_FINANSKOSTNADSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype erLik \"1\" }\n\n    val harFeilFinanskostnadTypeFor1 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, finanskostnad))\n        .forForekomsterAv(kostnad)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"8006\", \"8150\", \"8174\")\n        }\n\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"5\") }\n\n    val harFeilFinanskostnadTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, finanskostnad))\n        .forForekomsterAv(kostnad)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"8100\", \"8115\", \"8130\")\n        }\n\n    // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n    // sammen med minst en av de nevnte typene av finanskostnad\n    naeringsspesifikasjon utslagFor hvis(\n        (harRegnskapspliktstypeLik1 og harFeilFinanskostnadTypeFor1) eller\n            (harRegnskapspliktstypeLik1Eller5 og harFeilFinanskostnadTypeFor1Og5)\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en finanskostnadstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_FLERE_NÆRINGSINNTEKTER",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen slår ut når aksjeselskap fordeler beregnet næringsinntekt på flere næringer.\n    //aksjeselskap skal bare ha en næring\n    //kontrollen medfører at innleveringen avvises\n\n    val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            virksomhetstype erLik \"aksjeselskap\"\n        }\n\n    val harFlereForekomsterAvNaeringsinntekt = naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n        .antall\n\n    naeringsspesifikasjon\n        .utslagFor {\n            hvis(harVirksomhetstypeLikAksjeselskap og (harFlereForekomsterAvNaeringsinntekt erStørreEnn 1)) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det skal ikke rapporteres flere forekomster av fordelt beregnet næringsinntekt for aksjeselskap.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_KORTSIKTIGGJELDTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype.finnesBlant(\"1\", \"5\")\n        }\n\n    val harFeilKorsiktigGjeldTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, kortsiktigGjeld))\n        .forForekomsterAv(gjeld)\n        .hvorMinstEnForekomst {\n            type\n                .finnesBlant(\"2310\", \"2320\", \"2330\", \"2460\", \"2500\", \"2510\", \"2920\", \"2970\", \"2980\")\n        }\n\n    // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n    // sammen med minst en av de nevnte typene av kortsiktig gjeld\n    naeringsspesifikasjon utslagFor hvis(\n        harRegnskapspliktstypeLik1eller5 og harFeilKorsiktigGjeldTypeFor1Og5\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en kortsiktige gjeldstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_LANGSIKTIGGJELDTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype erLik \"1\" }\n\n    val harFeilLangsiktigGjeldType = naeringsspesifikasjon\n        .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, langsiktigGjeld))\n        .forForekomsterAv(gjeld)\n        .hvorMinstEnForekomst {\n            type\n                .erLik(\"2250\")\n        }\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"5\") }\n\n    val harFeilAnleggsmiddelTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, langsiktigGjeld))\n        .forForekomsterAv(gjeld)\n        .hvorMinstEnForekomst {\n            type\n                .finnesBlant(\"2100\", \"2120\", \"2130\", \"2160\", \"2180\", \"2200\", \"2210\", \"2260\")\n        }\n\n    // Kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n    // Sammen med minst en av de nevnte typene av langsiktig gjeld\n    naeringsspesifikasjon utslagFor hvis(\n        (harRegnskapspliktstypeLik1 og harFeilLangsiktigGjeldType) eller\n            (harRegnskapspliktstypeLik1Eller5 og harFeilAnleggsmiddelTypeFor1Og5)\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en langsiktig gjeldstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_LØNNSKOSTNADSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype erLik \"1\" }\n\n    val harFeilLoennskostnadTypeFor1 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, driftskostnad, loennskostnad))\n        .forForekomsterAv(kostnad)\n        .hvorMinstEnForekomst {\n            type erLik \"5600\"\n        }\n\n    val harRegnskapspliktstypeLik2 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype erLik \"2\" }\n\n    val harFeilLoennskostnadTypeFor2 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, driftskostnad, loennskostnad))\n        .forForekomsterAv(kostnad)\n        .hvorMinstEnForekomst {\n            type erLik \"5950\"\n        }\n\n    // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 2\n    // sammen med minst en av de nevnte typene av lønnskostnad\n    naeringsspesifikasjon utslagFor hvis(\n        (harRegnskapspliktstypeLik1 og harFeilLoennskostnadTypeFor1) eller\n            (harRegnskapspliktstypeLik2 og harFeilLoennskostnadTypeFor2)\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en lønnskostnadstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_NEGATIV_FORETAKSGJELD",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når gjennomsnittsverdi av inngående og utgående verdi for foretaksgjeld under spesifikasjonAvSkjermingsgrunnlag er negativ\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(fordeltBeregnetPersoninntekt, spesifikasjonAvSkjermingsgrunnlag))\n\n        .utslagFor {\n            val inngåendeVerdiForetaksgjeld = filtrer { skjermingsgrunnlagstype erLik \"foretaksgjeld\" }\n                .summer { inngaaendeVerdi.beloepSomTall }\n\n            val utgåendeVerdiForetaksgjeld = filtrer { skjermingsgrunnlagstype erLik \"foretaksgjeld\" }\n                .summer { utgaaendeVerdi.beloepSomTall }\n\n            val gjennomsnittsverdiForetaksgjeld =\n                (inngåendeVerdiForetaksgjeld + utgåendeVerdiForetaksgjeld) / 2\n\n            hvis(gjennomsnittsverdiForetaksgjeld erMindreEnn 0) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Avviksbeloep settesTil gjennomsnittsverdiForetaksgjeld\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har lagt inn et negativt beløp i feltet for foretaksgjeld til finansinstitusjoner og foretaksgjeld knyttet til mengdegjeldsbrev. Du må endre til null eller et positivt beløp.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_OMLØPSMIDDELTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"5\") }\n\n    val harFeilOmloepsmiddelTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(sti(balanseregnskap, omloepsmiddel, balanseverdiForOmloepsmiddel))\n        .forForekomsterAv(balanseverdi)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"1490\", \"1501\", \"1560\", \"1840\")\n        }\n\n    // Kntrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n    // Sammen med minst en av de nevnte typene omløpsmiddel\n    naeringsspesifikasjon utslagFor hvis(\n        harRegnskapspliktstypeLik1Eller5 og harFeilOmloepsmiddelTypeFor1Og5\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en omløpsmiddeltype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_REGNSKAPSPLIKTTYPE_AKSJESELSKAP",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom aksjeselskap rapporterer med regnskapspliktstype 1 eller 5\n    //feilen gir faktiskFeil i valideringstjenesten\n\n    val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            virksomhetstype erLik \"aksjeselskap\"\n        }\n\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype.finnesBlant(\"1\", \"5\")\n        }\n\n    naeringsspesifikasjon\n        .utslagFor {\n\n            hvis(harVirksomhetstypeLikAksjeselskap og harRegnskapspliktstypeLik1Eller5)\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en regnskapsplikttype som er ugyldig for aksjeselskap. ",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_RESULTATKOMPONENTTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"5\") }\n\n    val harResultatForIFRSForetak = naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap)\n        .hvorMinstEnForekomst { sumResultatkomponentForIFRSForetak.beloepSomTall erStørreEnn 0 }\n\n    // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n    // sammen med minst en av de nevnte typene av skattekostnad\n    naeringsspesifikasjon utslagFor hvis(\n        harRegnskapspliktstypeLik1Eller5 og harResultatForIFRSForetak\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en resultatkomponentstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FEIL_SKATTEKOSTNADSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harRegnskapspliktstypeLik1Eller5 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { regnskapspliktstype.finnesBlant(\"1\", \"5\") }\n\n    val harFeilSkattekostnadTypeFor1Og5 = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, skattekostnad))\n        .forForekomsterAv(kostnad)\n        .hvorMinstEnForekomst {\n            type.finnesBlant(\"8300\", \"8321\", \"8322\", \"8323\", \"8324\", \"8600\", \"8621\", \"8622\")\n        }\n\n    // kontrollen gir utslag dersom skattyter har regnskapsplikttype 1 eller 5\n    // sammen med minst en av de nevnte typene av skattekostnad\n    naeringsspesifikasjon utslagFor hvis(\n        harRegnskapspliktstypeLik1Eller5 og\n            harFeilSkattekostnadTypeFor1Og5\n    ) {\n        betjeningsstrategiSettesTil(\n            ikke,\n            faktiskFeil,\n            1,\n            Gruppering settesLik Næring\n        )\n    }\n}",
      "hjelpetekstSME": "Det er brukt en skattekostnadstype som ikke er forenlig med regnskapspliktstypen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_FRADRAG_ELEKTR_KOMMUNIKASJON",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    val partsnr = skattepliktGjeldende\n        .forForekomsterAv(skatteplikt)\n        .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n\n    // Kontrollen gir utslag dersom skattyter har oppgitt kostnader til elektroniske kommunikasjonstjenester på konto 6995, men som ikke har tilbakeført for privat bruk på konto 6998\n    // AB-test på skattytere som har tallet 2, 3, 4, 5, 6, 7, 8, 9 i 7.siffer i partsnummeret\n    // Gir merknad\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n        .utslagFor {\n\n            val harElektroniskKommunkasjon = forForekomsterAv(kostnad)\n                .filtrer { type erLik \"6995\" }\n                .summer { beloepSomGruppe.beloepSomTall }\n\n            val harTilbakeførtElKomm = forForekomsterAv(kostnad)\n                .filtrer { type erLik \"6998\" }\n                .summer { beloepSomGruppe.beloepSomTall }\n\n            hvis((harElektroniskKommunkasjon erStørreEnnEllerLik 5000) og (ikke(harTilbakeførtElKomm erStørreEnn 0) og\n                (partsnr.tegnFraIndeks(7).finnesBlant(\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\")))\n            ) {\n                betjeningsstrategiSettesTil(ikke,\n                    merknadStandard,\n                    1,\n                    kortTypeReferanse settesLik \"kontorlokaler\")\n            }\n        }\n}",
      "hjelpetekstSME": "Har du brukt mobiltelefon, bredbånd, telefon, e.l. privat? Da skal deler av kostnadene tilbakeføres på konto 6998. <a href="
      https: //www.skatteetaten.no/bedrift-og-organisasjon/skatt/skattemelding-naringsdrivende/fradrag/fradragsveiviser-for-enk/kostnader-til-mobiltelefon-bredband-telefon-mm/" target="_blank">Les mer om hvordan du beregner den private fordelen her. </a>",
      "BetjeningsstrategiSkattepliktig"
      :
      "merknadStandard"
    },
    {
      "kontrollnavn": "N_FRADRAG_ELEKTR_KOMMUNIKASJON_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    val partsnr = skattepliktGjeldende\n        .forForekomsterAv(skatteplikt)\n        .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n\n    // Kontrollen gir IKKE utslag dersom skattyter har oppgitt kostnader til elektroniske kommunikasjonstjenester på konto 6995, men som ikke har tilbakeført for privat bruk på konto 6998\n    // AB-test på skattytere som har tallet 0 eller 1 i 7.siffer i partsnummeret\n    // Gir ingen merknad\n\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n        .utslagFor {\n\n            val harElektroniskKommunkasjon = forForekomsterAv(kostnad)\n                .filtrer { type erLik \"6995\" }\n                .summer { beloepSomGruppe.beloepSomTall }\n\n            val harTilbakeførtElKomm = forForekomsterAv(kostnad)\n                .filtrer { type erLik \"6998\" }\n                .summer { beloepSomGruppe.beloepSomTall }\n\n            hvis((harElektroniskKommunkasjon erStørreEnnEllerLik 5000) og (ikke(harTilbakeførtElKomm erStørreEnn 0) og\n                (partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"1\"))))\n            {\n                betjeningsstrategiSettesTil(ikke, merknadIngen, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_FRADRAG_HJEMMEKONTOR",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom skattytere hvor forretningsadresse er lik bostedsadresse i folkeregisteret og beløp i feltet 'Leie lokale' er mellom kr 1800 - 150 000.\n    //AB-test på skattytere som har tallet 2, 3, 4, 5, 6, 7, 8, 9 i 7.siffer i partsnummeret\n    //kontrollen gir merknad\n\n    val partsnr = skattepliktGjeldende\n        .forForekomsterAv(skatteplikt)\n        .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n\n    naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .utslagFor {\n\n            val harLeiekostnad = forForekomsterAv(kostnad)\n                .filtrer { type erLik \"6300\" }\n                .summer { beloepSomGruppe.beloepSomTall }\n\n            val finnesIKontrollisteHjemmekontor = finnesIKontrolliste(\n                skattemelding.kontrollKontekst.inntektsaar,\n                \"kontrolliste - fradrag hjemmekontor\",\n                listeAv(partsnr)\n            )\n\n            hvis(finnesIKontrollisteHjemmekontor og ((harLeiekostnad erStørreEnnEllerLik 18000) og (harLeiekostnad erMindreEnnEllerLik 150000))\n                og (partsnr.tegnFraIndeks(7).finnesBlant(\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"))\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1, kortTypeReferanse settesLik \"kontorlokaler\"\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Har du beregnet fradrag for hjemmekontor? Det er kun hvis du har et eget/egne rom i hjemmet som utelukkende benyttes i inntektserverv at du kan fradragsføre kostnader til hjemmekontor. Gå til <a href="
      https: //www.skatteetaten.no/bedrift-og-organisasjon/skatt/skattemelding-naringsdrivende/fradrag/fradragsveiviser-for-enk/fradrag-for-kontor/hjemmekontor/" target="_blank">Hjemmekontor</a> for å lese mer om regelverket og hvordan du beregner fradraget. Merk at du ikke kan få fradrag for beregnet husleie i egen bolig.",
      "BetjeningsstrategiSkattepliktig"
      :
      "merknadStandard"
    },
    {
      "kontrollnavn": "N_FRADRAG_HJEMMEKONTOR_IKKE_MERKNAD",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom skattytere hvor forretningsadresse er lik bostedsadresse i folkeregisteret og beløp i feltet 'Leie lokale' er mellom kr 1800 - 150 000.\n    //AB-test på skattytere som har tallet 0 eller 1 i 7.siffer i partsnummeret\n    //kontrollen gir ingen merknad\n    val partsnr = skattepliktGjeldende\n        .forForekomsterAv(skatteplikt)\n        .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n\n    naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .utslagFor {\n            val harLeiekostnad = forForekomsterAv(kostnad)\n                .filtrer { type erLik \"6300\" }\n                .summer { beloepSomGruppe.beloepSomTall }\n\n            val finnesIKontrollisteHjemmekontor = finnesIKontrolliste(\n                skattemelding.kontrollKontekst.inntektsaar,\n                \"kontrolliste - fradrag hjemmekontor\",\n                listeAv(partsnr)\n            )\n\n            hvis(finnesIKontrollisteHjemmekontor og ((harLeiekostnad erStørreEnnEllerLik 18000) og (harLeiekostnad erMindreEnnEllerLik 150000))\n                og (partsnr.tegnFraIndeks(7).finnesBlant(\"0\", \"1\"))\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadIngen,\n                    1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "merknadIngen"
    },
    {
      "kontrollnavn": "N_GJELD_FORMUESOBJEKTER_AKSJESELSKAP",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom skattepliktig med virksomhetstype aksjeselskap rapporterer samletGjeldOgFormuesobjekt\n    //kontrollen gir faktiskFeil i valideringstjenesten\n\n    val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            virksomhetstype erLik \"aksjeselskap\"\n        }\n\n    val rapportererSkogbruk = naeringsspesifikasjon\n        .forForekomsterAv(samletGjeldOgFormuesobjekter)\n        .hvorMinstEnForekomst {\n            (\n                (formuesverdiForFormuesobjekterIkkeOmfattetAvVerdsettingsrabatt.beloepSomTall er oppgitt) eller\n                    (verdiFoerVerdsettingsrabattForFormuesobjekterOmfattetAvVerdsettingsrabatt.beloepSomTall er oppgitt) eller\n                    (samletGjeldSomGruppe.beloepSomTall er oppgitt) eller\n                    (formuesverdiForFormuesobjekterIkkeOmfattetAvVerdsettingsrabattTilordnetInnehaver.beloepSomTall er oppgitt) eller\n                    (verdiFoerVerdsettingsrabattForFormuesobjekterOmfattetAvVerdsettingsrabattTilordnetInnehaver.beloepSomTall er oppgitt) eller\n                    (samletGjeldTilordnetInnehaver.beloepSomTall er oppgitt)\n                )\n        }\n\n    naeringsspesifikasjon\n        .utslagFor {\n\n            hvis(harVirksomhetstypeLikAksjeselskap og rapportererSkogbruk)\n\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det finnes opplysninger i temaet samlet gjeld og formuesobjekter i næringsspesifikasjonen. Aksjeselskap skal ikke rapportere opplysninger i temaet samlet gjeld og formuesobjekter i næringsspesifikasjonen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_GTK_INNTEKTSFRADRAG_MANGLER",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    val partsnr = skattepliktGjeldende\n        .forForekomsterAv(skatteplikt)\n        .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n\n    val harIkkeOppgittGevinstOgTapskonto = naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n        .harIngenForekomsterDer { fastsatt(satsForInntektsfoeringOgInntektsfradrag) er oppgitt }\n\n    //kontrollen gir utslag dersom skattyter ligger i kontrolliste og IKKE har oppgitt GevinstOgTapskonto\n    //kontrollen gir merknad i valideringstjenesten og SME\n    naeringsspesifikasjon\n        .fokusområde(\"Fokusområde\")\n        .utslagFor {\n            val utgaaendeVerdiFraKontrollisteGevinstOgTap = finnesIKontrolliste(\n                skattemelding.kontrollKontekst.inntektsaar,\n                \"kontrolliste - negativ gevinst- og tapskonto\",\n                listeAv(partsnr)\n            )\n            hvis(utgaaendeVerdiFraKontrollisteGevinstOgTap og harIkkeOppgittGevinstOgTapskonto) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadTips, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du hadde negativt nettobeløp på gevinst- og tapskonto per 31. desember 2020. Du kan fradragsføre maksimalt 20 % av beløpet i inntektsåret.",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_GTK_INNTEKT_MANGLER",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    val partsnr = skattepliktGjeldende\n        .forForekomsterAv(skatteplikt)\n        .verdiFor { fastsattEllerGrunnlag(partsnummerSomTekst) }\n\n    val harIkkeOppgittGevinstOgTapskonto = naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n        .harIngenForekomsterDer { fastsatt(satsForInntektsfoeringOgInntektsfradrag) er oppgitt }\n\n    //kontrollen gir utslag dersom skattyter ligger i kontrolliste og IKKE har oppgitt GevinstOgTapskonto\n    //kontrollen gir merknad i valideringstjenesten og SME\n    naeringsspesifikasjon\n        .utslagFor {\n            val utgaaendeVerdiFraKontrollisteGevinstOgTap = finnesIKontrolliste(\n                skattemelding.kontrollKontekst.inntektsaar,\n                \"kontrolliste - positiv gevinst- og tapskonto\",\n                listeAv(partsnr)\n            )\n\n            hvis(utgaaendeVerdiFraKontrollisteGevinstOgTap og harIkkeOppgittGevinstOgTapskonto) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadTips, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Du hadde positivt nettobeløp på gevinst- og tapskonto per 31.12.2020. Du må inntektsføre minst 20 % av beløpet i inntektsåret.",
      "BetjeningsstrategiSkattepliktig": "merknadTips"
    },
    {
      "kontrollnavn": "N_HØY_AVSKRIVINGSSATS",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom det er benyttet for høy avskrivingssats for saldoavskrivninger når grunnlaget for avskriving er høyere enn 15000\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis(\n                ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"a\") og (avskrivningssats erStørreEnn 30)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"b\") og (avskrivningssats erStørreEnn 20)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"c\") og (avskrivningssats erStørreEnn 24)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"c2\") og (avskrivningssats erStørreEnn 30)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"d\") og (avskrivningssats erStørreEnn 20)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"e\") og (avskrivningssats erStørreEnn 14)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"f\") og (avskrivningssats erStørreEnn 12)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"g\") og (avskrivningssats erStørreEnn 5)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"h\") og (avskrivningssats erStørreEnn 20)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"i\") og (avskrivningssats erStørreEnn 2)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnn 15000) og (saldogruppe erLik \"j\") og (avskrivningssats erStørreEnn 10))\n            )\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har brukt for høy avskrivingssats for et driftsmiddel. Du må endre satsen.<a href=\"https://www.skatteetaten.no/satser/avskrivningssatser/\"target=\"_blank\"> På nettsiden til Skatteetaten finner du riktige satser per inntektsår (ny fane).</a>",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_HØY_INNTEKT_FELLESFISKE",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom korrigert andel av inntekt som gjelder fellesfiske er høyere enn sum driftsinntekter.\n    //kontrollen medfører merknad i skattemeldingen\n    val sumDriftsinntektEnefisker = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, driftsinntekt, sumDriftsinntekt))\n        .summer { beloepSomTall }\n\n    skattemelding\n        .forForekomsterAv(saerskiltFradragForFiskereOgFangstfolk)\n        .utslagFor {\n            hvis(\n                (korrigeringerIGrunnlagForSaerskiltFradragForFiskereOgFangstfolkKnyttetTilEnefisker\n                    .andelAvInntektINaeringsinntektForFiskeSomGjelderFellesfiske) erStørreEnn (sumDriftsinntektEnefisker)\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Inntekter som gjelder fellesfiske kan ikke være høyere enn de totale driftsinntektene. Du må korrigere beløpene.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_HØY_KOSTNAD_FELLESFISKE",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom korrigert andel av kostnad som gjelder fellesfiske er høyere enn sum driftskostnader.\n    //kontrollen medfører merknad i skattemeldingen\n    val sumDriftskostnadEnefisker = naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, driftskostnad, sumDriftskostnad))\n        .summer { beloepSomTall }\n\n    skattemelding\n        .forForekomsterAv(saerskiltFradragForFiskereOgFangstfolk)\n        .utslagFor {\n            hvis(\n                (korrigeringerIGrunnlagForSaerskiltFradragForFiskereOgFangstfolkKnyttetTilEnefisker\n                    .andelAvKostnadINaeringsinntektForFiskeSomGjelderFellesfiske) erStørreEnn (sumDriftskostnadEnefisker)\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Kostnader som gjelder fellesfiske kan ikke være høyere enn de totale driftskostnadene. Du må korrigere beløpene.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_HØY_SKJERMINGSRENTE",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom skjermingsrenten er høyere enn renten som er fastsatt av Skattedirektoratet\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetPersoninntekt)\n        .utslagFor {\n            hvis((skjermingsrente) erStørreEnn 0.6) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Skjermingsrenten kan maksimalt være 0,8 prosent. Dette er fastsatt av Skattedirektoratet.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_INNEHAVERSANDEL_OVER_100",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom innehavers andel er satt til over 100 %\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n        .utslagFor {\n            hvis((andelAvSkattemessigResultatTilordnetInnehaver) erStørreEnn 100) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Innehaverens andel kan ikke være høyere enn 100 prosent.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_INNTEKTSFRADRAG_GTK_HØY",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom sats for inntektsfradrag i gevinst- og tapskonto er høyere enn 20 % og grunnlaget er mindre enn kr - 15 000\n    //kontrollen avviser innsending\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n        .utslagFor {\n            hvis(\n                (grunnlagForAaretsInntektsOgFradragsfoering.beloepSomTall erMindreEnn -15000)\n                    og (satsForInntektsfoeringOgInntektsfradrag erStørreEnn 20)\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke, faktiskFeil, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt for høy sats. Satsen kan settes til maksimalt 20 prosent.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_INNTEKTSFØRING_GTK_LAV",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom sats for inntektsføring av gevinst- og tapskonto er lavere enn 100 % når grunnlaget er positivt og under kr 15 000\n    //kontrollen avviser innsending\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, gevinstOgTapskonto))\n        .utslagFor {\n            hvis(((grunnlagForAaretsInntektsOgFradragsfoering.beloepSomTall erStørreEnn 15000) og (satsForInntektsfoeringOgInntektsfradrag erMindreEnn 20)) eller\n                ((grunnlagForAaretsInntektsOgFradragsfoering.beloepSomTall erMindreEnnEllerLik 15000) og (grunnlagForAaretsInntektsOgFradragsfoering.beloepSomTall erStørreEnn 0) og\n                    (satsForInntektsfoeringOgInntektsfradrag erMindreEnn 100))) {\n                betjeningsstrategiSettesTil(\n                    ikke, faktiskFeil, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt for lav sats. Satsen skal settes til mimium 20 prosent.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_KOMPENSASJONSYTELSE_NAV_AVVIK_GLD",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når beløpet fylt ut på feltet 'Kompensasjon for tapt inntekt' avviker fra innrapportert beløp fra NAV. Gjelder både når beløpet er større eller mindre enn innrapportert beløp.\n    //kontrollen gir merknad i valideringstjenesten\n\n    skattemelding\n        .forForekomsterAv(sti(oppgavegiver, sykepengerOgAnnenInntektMvFraOppgavegiver))\n\n        .utslagFor {\n\n            val harKompensasjonNAV = filtrer { behandlingsart erLik \"KOMP_PERS_INNT\" }\n                .hvorMinstEnForekomst { grunnlag(beloepSomGruppe.beloepSomTall) er oppgitt }\n\n            val fastsattKompensasjonNAV = filtrer { behandlingsart erLik \"KOMP_PERS_INNT\" }\n                .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n\n            val grunnlagKompensasjonNAV = filtrer { behandlingsart erLik \"KOMP_PERS_INNT\" }\n                .summer { grunnlag(beloepSomGruppe.beloepSomTall) }\n\n            val differanseKompensasjonNAV = fastsattKompensasjonNAV - grunnlagKompensasjonNAV\n\n            hvis(harKompensasjonNAV og (differanseKompensasjonNAV erUlik 0))\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Avviksbeloep settesTil differanseKompensasjonNAV\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har endret beløpet i feltet "
      kompensasjon
      for
      tapt
      inntekt
      ". Beløpet er innrapportert av NAV og skal skattlegges i utbetalingsåret. Hvis du mener innrapportert beløp er feil, må du kontakte NAV.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_LINEÆRAVSKRIVNING_MANGLER_ANSKAFFELSESKOST",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når anskaffelseskost ikke er oppgitt for lineært avskrevet driftsmiddel\n    //kontrollen medfører merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis((anskaffelseskost.beloepSomTall ikkeEr oppgitt) og (paakostning.beloepSomTall ikkeEr oppgitt)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det må legges inn anskaffelseskost for driftsmidler som avskrives lineært.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_LINEÆRAVSKRIVNING_MANGLER_LEVETID",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når levetid ikke er oppgitt for lineært avskrevet driftsmiddel\n    //kontrollen medfører merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis(levetid ikkeEr oppgitt) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det må legges inn levetid for driftsmidler som avskrives lineært.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_LINEÆRAVSKRIVNING_MANGLER_REALISASJONSDATO",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når driftsmiddelet er realisert og realisasjonsdato mangler\n    //kontrollen medfører merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis((vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det må legges inn realisasjonsdato for driftsmidler som er solgt eller realisert på annen måte.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_LINEÆRAVSKRIVNING_PÅKOSTNING",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n            .kontekst(ValideringSkattepliktig) {\n//Kontrollen slår ut når det rapporteres påkostning på et driftsmiddel som avskrives lineært og ervervsdatoen er tidligere enn i inntektsåret\n//Kontrollen medfører avvisning i valideringstjenesten\n                val datoIInntektsaaret = naeringsspesifikasjon\n                    .forForekomsterAv(virksomhet)\n                    .verdiFor { regnskapsperiode.start }.dato\n\n\n                naeringsspesifikasjon\n                    .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, lineaertavskrevetAnleggsmiddel))\n                    .utslagFor {\n                        hvis((paakostning.beloepSomTall er oppgitt) og (verdiFor { ervervsdato }.dato erMindreEnn datoIInntektsaaret))\n\n                        {\n                            betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n                        }\n                    }\n            }",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_MANGLER_EROMFATTETAVFRITAKSMETODEN",
      "kontrollformel": "sakstype(Upersonlig)\n            .kontekst(ValideringSkattepliktig) {\n\n//kontrollen gir utslag dersom det er rapportert verdipapir uten at feltet erOmtattetAvFritaksmetoden er oppgitt\n//kontrollen gir merknad i valideringstjenesten\n\n                skattemeldingUpersonlig\n                    .forForekomsterAv(gruppe(sti(spesifikasjonAvForholdRelevanteForBeskatning,\n                        aksjeIAksjonaerregisteret),\n                        sti(spesifikasjonAvForholdRelevanteForBeskatning, aksjeIkkeIAksjonaerregisteret),\n                        sti(spesifikasjonAvForholdRelevanteForBeskatning, annetFinansprodukt),\n                        sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat),\n                        sti(spesifikasjonAvForholdRelevanteForBeskatning, verdipapirfond),\n                        sti(spesifikasjonAvForholdRelevanteForBeskatning, virtuellValuta)))\n                    .utslagFor {\n                        hvis(erOmfattetAvFritaksmetoden ikkeEr oppgitt)\n                        {\n                            betjeningsstrategiSettesTil(\n                                ikke,\n                                merknadStandard,\n                                1)\n                        }\n                    }\n            }",
      "hjelpetekstSME": "Det mangler opplysninger om ett eller flere verdipapirer er omfattet av fritaksmetoden eller ikke.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_MANGLER_NÆRINGSSPESIFIKASJON_OG_DELTAKER_SDF_INFO",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom skattyters partsnr finnes i kontrollisten (er næringsdrivende) og\n    //ikke har oppgitt næringsspesifikasjon eller opplysninger om deltakers andel i SDF\n    //kontrollen gir merknadMangel i SME\n    val partsnr = skattepliktGjeldende\n        .forForekomsterAv(skatteplikt)\n        .verdiFor { partsnummerSomTekst }\n\n    val finnesIKontrollisteErNaeringsdrivende = finnesIKontrolliste(\n        \"kontrolliste - naeringsdrivende\",\n        listeAv(partsnr)\n    )\n\n    val harOppgittNaeringsspesifikasjon = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst { virksomhetstype er oppgitt }\n\n    val harIkkeOppgittDeltakerinformasjonSDF = skattemelding\n        .harIngenForekomsterDer { fastsatt(deltakersAndelAvFormueOgInntekt) er oppgitt }\n\n    skattemelding\n        .utslagFor {\n            hvis(finnesIKontrollisteErNaeringsdrivende og\n                ikke(harOppgittNaeringsspesifikasjon) og\n                harIkkeOppgittDeltakerinformasjonSDF\n            ) {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "<p>Fordi du er oppført hos oss som personlig næringsdrivende, må du sende inn en næringsspesifikasjon som en del av skattemeldingen din.</p><p><strong>Du finner næringsspesifikasjonen under temaet Næring (skroll nedover).</strong></p> ",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_MANGLER_OPPLYSNINGER_OM_SELSKAPET",
      "kontrollformel": "//Kontrollen gir utslag dersom selskapet ikke svarer på spørsmålene om det er børsnotert eller om det har ytelser\n//mellom aksjonær og selskapet eller temaet Opplysninger om selskapet mangler\n//Kontrollen gir merknad i valideringstjenesten\n        sakstype(Upersonlig)\n            .kontekst(ValideringSkattepliktig) {\n\n                val manglerOpplysninger = skattemeldingUpersonlig\n                    .forForekomsterAv(opplysningerOmSkattesubjekt)\n                    .harIngenForekomsterDer {\n                        (fastsatt(erBoersnotert) er oppgitt) eller\n                            (fastsatt(harYtelseMellomAksjonaerEllerNaerstaaendeOgSelskapEllerSelskapetsDatterselskap) er oppgitt)\n                    }\n\n                skattemeldingUpersonlig\n                    .utslagFor {\n                        hvis(manglerOpplysninger eller (fastsatt(opplysningerOmSkattesubjekt) ikkeEr oppgitt))\n                        {\n                            betjeningsstrategiSettesTil(\n                                ikke, merknadStandard, 1\n                            )\n                        }\n                    }\n            }",
      "hjelpetekstSME": "Det må svares på om selskapet er børsnotert og om det er ytelser mellom aksjonær og selskapet.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_MANGLER_VERDI_BAK_AKSJENE",
      "kontrollformel": "sakstype(Upersonlig)\n            .kontekst(ValideringSkattepliktig)\n            {\n//kontrollen gir utslag dersom ikke-børsnoterte aksjeselskap ikke rapporterer feltet samletVerdiBakAksjeneISelskapet\n//kontrollen gir faktiskFeil i valideringstjenesten\n\n                val selskapetErBoersnotert = skattemeldingUpersonlig\n                    .forForekomsterAv(opplysningerOmSkattesubjekt)\n                    .hvorMinstEnForekomst { erBoersnotert erLik true }\n\n                val harFormueOgGjeldMenIkkeVerdiBakAksjene = skattemeldingUpersonlig\n                    .forForekomsterAv(formueOgGjeld)\n                    .harIngenForekomsterDer { fastsatt(samletVerdiBakAksjeneISelskapet) er oppgitt }\n\n                skattemeldingUpersonlig\n                    .utslagFor {\n\n                        hvis((harFormueOgGjeldMenIkkeVerdiBakAksjene eller (fastsatt(formueOgGjeld) ikkeEr oppgitt)) og ikke(\n                            selskapetErBoersnotert))\n                        {\n                            betjeningsstrategiSettesTil(\n                                ikke,\n                                faktiskFeil,\n                                1,\n                                Gruppering settesLik Næring\n                            )\n                        }\n                    }\n            }",
      "hjelpetekstSME": "Det finnes ikke opplysninger i feltet \"samletVerdiBakAksjeneISelskapet\" i skattemeldingen. Aksjeselskap skal alltid beregne denne verdien.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_MANGLER_YTELSE",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val harYtelseFraAksjonaerEllerNaerstaaendeINS = naeringsspesifikasjon\n        .forForekomsterAv(sti(andreForhold, ytelseFraAksjonaerEllerNaerstaaende))\n        .hvorMinstEnForekomst {\n            (laan.kostnadsfoerteRenter erStørreEnn 0) eller\n                (laan.laanesaldoVedUtgangAvInntektsaar erStørreEnn 0) eller\n                (laan.laanesaldoPer061015 erStørreEnn 0) eller\n                (sikkerhetsstillelse.beloepPer061015 erStørreEnn 0) eller\n                (sikkerhetsstillelse.beloepVedUtgangAvInntektsaar erStørreEnn 0) eller\n                (realisasjonOgUtleieAvFormuesobjektMv er oppgitt)\n        }\n\n    val harYtelseFraSelskapINS = naeringsspesifikasjon\n        .forForekomsterAv(sti(andreForhold, ytelseFraSelskapEllerSelskapetsDatterselskap))\n        .hvorMinstEnForekomst {\n            (totaltUtdeltUtbytteVedUtgangAvInntektsaar erStørreEnn 0) eller\n                (totaltUtdeltUtbytteVedUtgangAvInntektsaar erStørreEnn 0) eller\n                (laan.kostnadsfoerteRenter erStørreEnn 0) eller\n                (laan.laanesaldoVedUtgangAvInntektsaar erStørreEnn 0) eller\n                (laan.laanesaldoPer061015 erStørreEnn 0) eller\n                (sikkerhetsstillelse.beloepPer061015 erStørreEnn 0) eller\n                (sikkerhetsstillelse.beloepVedUtgangAvInntektsaar erStørreEnn 0) eller\n                (realisasjonOgUtleieAvFormuesobjektMv er oppgitt)\n        }\n\n    skattemeldingUpersonlig\n        .utslagFor {\n            val harYtelserMellomAksjonaerOgSelskapISMU = forForekomsterAv(opplysningerOmSkattesubjekt)\n                .hvorMinstEnForekomst { harYtelseMellomAksjonaerEllerNaerstaaendeOgSelskapEllerSelskapetsDatterselskap erLik true }\n\n            hvis(harYtelserMellomAksjonaerOgSelskapISMU og (ikke(harYtelseFraAksjonaerEllerNaerstaaendeINS eller harYtelseFraSelskapINS)))\n            {\n                betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det mangler spesifikasjon av ytelse mellom selskap og aksjonær/deltaker.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_MIDLERTIDIG_FORSKJELL_BESKRIVELSE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //Dersom midlertidigForskjell.midlertidigForskjellstype = annenPositivMidlertidigForskjell eller annenNegativMidlertidigForskjell og midlertidigForskjell.beskrivelse mangler\n    naeringsspesifikasjon\n        .forForekomsterAv(midlertidigForskjell)\n        .filtrer {\n            midlertidigForskjellstype\n                .finnesBlant(\"annenPositivMidlertidigForskjell\", \"annenNegativMidlertidigForskjell\")\n\n        }\n        .utslagFor {\n            hvis(beskrivelse ikkeEr oppgitt)\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Når type midlertidig forskjell er annen negativ eller annen positiv, så må det legges inn en beskrivelse av forskjellen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_MVA_FJERNLEVERBARE_TJENESTER",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når skattyter ikke har inntekter i post 3000 og 3100, og har kostnader i post 6700 fremmed tjeneste og/eller 7330 salgs-og reklamekostnader\n    //Kan ha verdier i øvrige inntekts- og kostnadsposter\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .utslagFor {\n            val harIkkeSalgsinntekt3000Og3100 =\n                forForekomsterAv(sti(resultatregnskap, driftsinntekt, salgsinntektSomGruppe))\n                    .forForekomsterAv(inntekt)\n                    .harIngenForekomsterDer { type.finnesBlant(\"3000\", \"3100\") }\n\n            val harAndreKostnader6700Eller7330 =\n                forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n                    .forForekomsterAv(kostnad)\n                    .filtrer { type.finnesBlant(\"6700\", \"7330\") }\n                    .summer { beloepSomGruppe.beloepSomTall }\n\n            hvis(harIkkeSalgsinntekt3000Og3100 og (harAndreKostnader6700Eller7330 erStørreEnn 0)) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Har du kjøpt tjenester fra utlandet? Det kan medføre at du må beregne og betale merverdiavgift selv om du ikke er registrert i Merverdiavgiftsregisteret. <a href="
      https: //www.skatteetaten.no/bedrift-og-organisasjon/avgifter/mva/utland/tjenester/" target="_blank">Gå til Merverdiavgift på tjenester virksomheten har kjøpt fra utlandet </a>for å få svar på om du skal beregne merverdiavgift, og hvordan du skal rapportere dette.",
      "BetjeningsstrategiSkattepliktig"
      :
      "merknadStandard"
    },
    {
      "kontrollnavn": "N_NEDSKREVET_VERDI_DRIFTSMIDDEL",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom nedskrevet verdi av utskilte driftsmidler er høyere enn\n    //summen av inngående verdi, nyanskaffelse og påkostning\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis(\n                (nedskrevetVerdiAvUtskilteDriftsmidler.beloepSomTall er oppgitt)\n                    og ((nedskrevetVerdiAvUtskilteDriftsmidler.beloepSomTall) erStørreEnn\n                    ((inngaaendeVerdi.beloepSomTall) + (nyanskaffelse.beloepSomTall) + (paakostning.beloepSomTall)))\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Summen av inngående verdi, nyanskaffelse og påkostning for driftsmiddelet/driftsmidlene kan ikke være lavere enn den nedskrevne verdien.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_NEGATIV_KONTO_2080",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom post 2080 \"udekket tap\" er negativ\n    //kontrollen avviser innleveringen\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, egenkapital))\n        .forForekomsterAv(kapital)\n        .utslagFor {\n            hvis((type erLik \"2080\") og (beloepSomGruppe.beloepSomTall erMindreEnn 0)) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er lagt inn verdi med negativ fortegn på konto for udekket tap. Verdien skal ikke ha fortegn.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_NEGATIV_KONTO_3300",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom post 3300 \"spesielle offentlige avgifter vedrørende salg\" er negativ\n    //kontrollen medfører merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(resultatregnskap, driftsinntekt, salgsinntekt))\n        .forForekomsterAv(inntekt)\n        .utslagFor {\n            hvis((type erLik \"3300\") og (beloepSomGruppe.beloepSomTall erMindreEnn 0)) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er lagt inn verdi med negativ fortegn på konto for spesielle offentlige avgifter vedrørende salg. Verdien skal i utgangspunktet ikke ha fortegn.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_NEGATIV_KONTO_6998",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag når post 6998 rapporteres med negativt fortegn\n    //kontrollen avviser innleveringen\n    naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .forForekomsterAv(kostnad)\n        .utslagFor {\n            hvis((type erLik \"6998\") og (beloepSomGruppe.beloepSomTall erMindreEnn 0)) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har lagt inn et positivt beløp for privat bruk av elektronisk kommunikasjon (konto 6998). Du må endre til et negativt beløp.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_NEGATIV_KONTO_7099",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom post 7099 er negativ\n    //kontrollen avviser innleveringen\n    naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .forForekomsterAv(kostnad)\n        .utslagFor {\n            hvis((type erLik \"7099\") og (beloepSomGruppe.beloepSomTall erMindreEnn 0)) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har lagt inn et positivt beløp for privat bruk av yrkesbil (konto 7099). Du må endre til et negativt beløp.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_NEGATIV_SALDO",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når grunnlag for inntektsføring er lavere enn - 15 000 og avskrivingssats er mindre enn minimumssatsen for saldogruppen\n    //kontrollen gir utslag når grunnlag for inntektsføring er høyere eller lik - 15 000 og avskrivningssats er mindre enn 100 %\n    //kontrollen medfører merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis(\n                ((saldogruppe erLik \"a\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 30)) eller\n                    ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                        (avskrivningssats erMindreEnn 100))) eller\n                    ((saldogruppe erLik \"c\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 24)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                            (avskrivningssats erMindreEnn 100))) eller\n                    ((saldogruppe erLik \"c2\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 30)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                            (avskrivningssats erMindreEnn 100))) eller\n                    ((saldogruppe erLik \"d\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 20)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                            (avskrivningssats erMindreEnn 100))) eller\n                    ((saldogruppe erLik \"j\") og ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn -15000) og (avskrivningssats erMindreEnn 10)) eller\n                        ((grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erMindreEnn 0) og (grunnlagForAvskrivningOgInntektsfoering.beloepSomTall erStørreEnnEllerLik -15000) og\n                            (avskrivningssats erMindreEnn 100)))\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt for lav sats ved beregning av beløpet som skal inntektsføres fra negativ saldo.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_OBLIGASJON_MANGLER_OPPLYSNING",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    skattemeldingUpersonlig\n        .forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning, obligasjonOgSertifikat))\n        .utslagFor {\n            hvis(rentepapiretsNavn er oppgitt og ((kontofoerersNavn ikkeEr oppgitt) eller\n                (kontonummer ikkeEr oppgitt) eller\n                (finansproduktidentifikator ikkeEr oppgitt) eller\n                (finansproduktidentifikatortype ikkeEr oppgitt) eller\n                (landkode ikkeEr oppgitt) eller\n                (antallObligasjonOgSertifikat ikkeEr oppgitt)))\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det mangler en eller flere opplysninger om rapportert obligasjon eller sertifikat. Vi ønsker at følgende felter fylles ut; kontofoerersNavn, kontonummer, finansproduktidentifikator, finansproduktidentifikatortype, landkode og antallObligasjonOgSertifikat.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_PERMANENT_FORSKJELL_BESKRIVELSE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //Dersom permanentForskjell.permanentForskjellstype = annetInntektstillegg eller annetInntektsfradrag og permanentForskjell.beskrivelse mangler\n\n    naeringsspesifikasjon\n        .forForekomsterAv(permanentForskjell)\n        .filtrer {\n            permanentForskjellstype\n                .finnesBlant(\"annetInntektstillegg\", \"annetInntektsfradrag\")\n        }\n        .utslagFor {\n            hvis(beskrivelse ikkeEr oppgitt)\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Når type permanent forskjell er annet inntektstillegg eller annet inntektsfradrag, så må det legges inn en beskrivelse av forskjellen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_PERSONINNTEKT_AKSJESELSKAP",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom skattepliktig med regnskapspliktstype 2 rapporterer personinntekt\n    //kontrollen gir faktiskFeil i valideringstjenesten\n\n    val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            virksomhetstype erLik \"aksjeselskap\"\n        }\n\n    val harRapportertPersoninntekt = naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetPersoninntekt)\n        .hvorMinstEnForekomst {\n            (identifikatorForFordeltBeregnetPersoninntekt er oppgitt)\n        }\n\n    naeringsspesifikasjon\n        .utslagFor {\n\n            hvis(harVirksomhetstypeLikAksjeselskap og harRapportertPersoninntekt)\n\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det finnes opplysninger om personinntekt i næringsspesifikasjonen. Aksjeselskap skal ikke rapportere opplysninger om personinntekt i næringsspesifikasjonen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_REGELTYPE_AARSREGNSKAP_MANGLER",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom skattepliktig med regnskapspliktstype 2 ikke rapporterer regeltype for årsregnskap\n    //kontrollen gir faktiskFeil i valideringstjenesten\n\n    val harRegnskapspliktstypeLik2 = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            regnskapspliktstype erLik \"2\"\n        }\n\n    val regeltypeForAarsregnskapMangler = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .harIngenForekomsterDer {\n            regeltypeForAarsregnskap\n                .finnesBlant(\"regnskapslovensAlminneligeRegler\",\n                    \"regnskapslovensReglerForSmaaForetak\",\n                    \"regnskapslovensReglerForSmaaForetak\",\n                    \"godRegnskapsskikkForIdeelleOrganisasjoner\",\n                    \"ifrs\",\n                    \"forenkletIfrs\")\n        }\n\n    naeringsspesifikasjon\n        .utslagFor {\n\n            hvis(harRegnskapspliktstypeLik2 og regeltypeForAarsregnskapMangler)\n\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det finnes ikke opplysninger om hvilken regeltype for årsregnskap som er benyttet ved føringen av resultatregnskapet og balansen. Aksjeselskap skal alltid opplyse om dette.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_SALDOAVSKRIVNING_ANSKAFFELSE_EKSISTERENDE_ENKELTSALDO",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når det rapporteres nyanskaffelse på en eksisterende enkeltesaldo\n    //kontrollen medfører merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .filtrer { fastsatt(saldogruppe).finnesBlant(\"e\", \"f\", \"g\", \"h\", \"i\") }\n        .utslagFor {\n            hvis((inngaaendeVerdi.beloepSomTall er oppgitt) og (nyanskaffelse.beloepSomTall er oppgitt)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er rapportert nyanskaffelse på en eksisterende enkeltsaldo. En enkeltsaldo skal bare inneholde ett driftsmiddel. Det kan registreres påkostning på enkeltsaldo.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SALDOAVSKRIVNING_FORRETNINGSBYGGFØR_01011984_ERVERVSDATO",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom det oppgis opplysninger om forretningseiendom anskaffet før 01.01.84 og ervervsdatoen er senere enn 01.01.84\n    //kontrollen medfører merknad i valideringstjenesten\n    val forretningsbygg = naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .hvorMinstEnForekomst {\n            ((forretningsbyggAnskaffetFoer01011984.historiskKostpris.beloepSomTall er oppgitt)\n                eller (forretningsbyggAnskaffetFoer01011984.nedskrevetVerdiPr01011984.beloepSomTall er oppgitt)\n                eller (forretningsbyggAnskaffetFoer01011984.nedreGrenseForAvskrivning.beloepSomTall er oppgitt))\n        }\n\n    val datoGrense = KonstantTekstFelt(\"1984-01-01\").dato\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis((forretningsbygg) og (ervervsdato er oppgitt) og (verdiFor { ervervsdato }.dato erStørreEnn datoGrense)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det må legges inn ervervsdato for forretningsbygg som er anskaffet før 1. januar 1984.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SALDOAVSKRIVNING_INNGÅENDE_VERDI_NY_ENKELTSALDO",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når det rapporteres inngående verdi på en ny enkeltesaldo\n    //kontrollen medfører merknad i valideringstjenesten\n\n    val datoIInntektsaaret = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .verdiFor { regnskapsperiode.start }.dato\n\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .filtrer { fastsatt(saldogruppe).finnesBlant(\"e\", \"f\", \"g\", \"h\", \"i\") }\n        .utslagFor {\n            hvis((inngaaendeVerdi.beloepSomTall er oppgitt) og (verdiFor { ervervsdato }.dato erStørreEnn datoIInntektsaaret)) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det skal ikke  rapporteres inngående verdi på  enkeltsaldo som er ny i inntektsåret. ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SALDOAVSKRIVNING_MANGLER_REALISASJONSDATO",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når driftsmiddelet er realisert og realisasjonsdato mangler\n    //kontrollen medfører merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis(\n                ((saldogruppe erLik \"e\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) eller\n                    ((saldogruppe erLik \"f\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) eller\n                    ((saldogruppe erLik \"g\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) eller\n                    ((saldogruppe erLik \"h\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt)) eller\n                    ((saldogruppe erLik \"i\") og (vederlagVedRealisasjonOgUttak.beloepSomTall er oppgitt) og (realisasjonsdato ikkeEr oppgitt))\n            )\n            {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Er driftsmiddelet solgt eller realisert på annen måte? Da må du oppgi realisasjonsdatoen.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SAMLESALDO_GTK",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n        .utslagFor {\n            hvis(\n                ((saldogruppe erLik \"a\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt))) eller\n                    ((saldogruppe erLik \"c\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt))) eller\n                    ((saldogruppe erLik \"c2\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt))) eller\n                    ((saldogruppe erLik \"d\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt))) eller\n                    ((saldogruppe erLik \"j\") og ((gevinstOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt) eller (tapOverfoertTilGevinstOgTapskonto.beloepSomTall er oppgitt)))\n            )\n            {\n                betjeningsstrategiSettesTil(\n                    ikke, faktiskFeil, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Gevinst eller tap etter salg eller annen realisasjonfor saldogruppe A, C, C2  D eller J skal ikke overføres til geivnst- og tapskonto. Slike gevinster eller tap skal inntekts- eller fradragsføres direkte på saldo, med minimum 20 prosent ved gevinst og makimum 20 prosent ved tap.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_SKJERMINGFRADRAG_NEGATIVT",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom skjermingsfradraget blir negativt\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetPersoninntekt)\n        .utslagFor {\n            hvis(skjermingsfradrag.beloepSomTall erMindreEnn 0) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Skjermingsgrunnlaget etter gjeldsfradrag kan ikke være negativt. Beløpet må være 0 eller høyere.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKJERMINGSRENTE_MANGLER",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom sum skjermingsgrunnlag etter gjeldsfradrag er positiv og skjermingsrente mangler\n    //kontrollen gir merknad i valideringstjenesten\n    naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetPersoninntekt)\n        .utslagFor {\n            hvis(\n                (sumSkjermingsgrunnlagEtterGjeldsfradrag.beloepSomTall erStørreEnn 0)\n                    og (skjermingsrente erMindreEnnEllerLik 0)\n            ) {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du bør legge inn skjermingsrente.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKOGBRUK_DIFFERANSE_FRADRAG",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når sjablongberegnet fradrag i skogbruk i fordelt beregnet næringsinntekt er ulik summen av sjablongberegnet fradrag pr tømmerkonto\n    //kontrollen gir merknad i valideringstjenesten\n    val sumSjablongberegnetFradragISkogbruk = naeringsspesifikasjon\n        .forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n        .summer { inntektOgKostnad.sjablongberegnetFradragKnyttetTilBiomasseOgVedproduksjon.beloepSomTall }\n\n\n    naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n        .utslagFor {\n            val næringstypeSkogbruk = hvorMinstEnForekomst { naeringstype erLik \"skogbruk\" }\n\n            val differanseSjablongberegnetFradrag =\n                sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall + sumSjablongberegnetFradragISkogbruk\n            //må bruke pluss i beregningen siden sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall angis med minus i fordeltBeregnetNaeringsinntekt\n\n            hvis(næringstypeSkogbruk og (sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall erUlik (sumSjablongberegnetFradragISkogbruk * -1))) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Avviksbeloep settesTil differanseSjablongberegnetFradrag\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er differanse i overføring av sjablongberegnet inntekt fra biomasse- og vedproduksjon. Beløpet som er ført til fradrag i skogbruk må legges til i jordbruksinntekten.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKOGBRUK_SJABLONGFRADRAG_BIOMASSEOGVED",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når sjablongberegnet fradrag i skogbruk pr tømmerkonto er høyere enn 55 % av salgsinntekt/uttak ved og biomasse\n    //kontrollen gir merknad i valideringstjenesten\n\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n        .utslagFor {\n            val maxSjablongberegnetFradrag =\n                inntektOgKostnad.salgsinntektOgUttakAvVedOgBiomasse.beloepSomTall * 55.prosent\n\n            hvis(inntektOgKostnad.sjablongberegnetFradragKnyttetTilBiomasseOgVedproduksjon.beloepSomTall erStørreEnn maxSjablongberegnetFradrag) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Kontroller at fradraget er riktig. Fradraget kan maksimalt utgjøre 55 % av produksjonsinntekt fra salg av tømmer, massevirke, ved o.l. som benyttes til biobrensel (ved, flis, pellets o.l.).",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SKOG_AKSJESELSKAP",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom skattepliktig med virksomhetstype aksjeselskap rapporterer skogbruk\n    //kontrollen gir faktiskFeil i valideringstjenesten\n    val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            virksomhetstype erLik \"aksjeselskap\"\n        }\n\n    val rapportererSkogbruk = naeringsspesifikasjon\n        .forForekomsterAv(sti(skogbruk, skogOgToemmerkonto))\n        .hvorMinstEnForekomst { driftsresultatSomKanOverfoeresTilToemmerkonto.beloepSomTall er oppgitt }\n\n    naeringsspesifikasjon\n        .utslagFor {\n\n            hvis(harVirksomhetstypeLikAksjeselskap og rapportererSkogbruk)\n\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det finnes opplysninger om skogbruk i næringsspesifikasjonen. Aksjeselskap skal ikke rapportere opplysninger om skogbruk i næringsspesifikasjonen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_SYKEPENGER_AVVIK_FISKERE",
      "kontrollformel": "sakstype(Personlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag når beløpet fylt ut i feltet 'Sykepenger fisker' avviker fra innrapportert beløp. Gjelder både når beløpet er større eller mindre enn innrapportert beløp.\n    skattemelding\n        .forForekomsterAv(sti(grunnlagKnyttetTilLottaker,\n            oppdragsgiver,\n            lottOgSykepengerMvFraOppdragsgiver))\n        .utslagFor {\n\n            val harSykepengerFisker = filtrer { behandlingsart erLik \"SYKEPENGER_FISKER\" }\n                .hvorMinstEnForekomst { grunnlag(beloepSomGruppe.beloepSomTall) er oppgitt }\n\n            val fastsattSykepengerFisker = filtrer { behandlingsart erLik \"SYKEPENGER_FISKER\" }\n                .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n\n            val grunnlagSykepengerFisker = filtrer { behandlingsart erLik \"SYKEPENGER_FISKER\" }\n                .summer { grunnlag(beloepSomGruppe.beloepSomTall) }\n\n            val differanseSykepengerFisker = fastsattSykepengerFisker - grunnlagSykepengerFisker\n\n            hvis(harSykepengerFisker og (differanseSykepengerFisker erUlik 0)) {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1,\n                    Avviksbeloep settesTil differanseSykepengerFisker\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Du har endret beløpet i feltet “Sykepenger for selvstendig næringsdrivende - fiske”. Beløpet er innrapportert av NAV og skal skattlegges i utbetalingsåret. Hvis du mener innrapportert beløp er feil, må du kontakte NAV.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_SYKEPENGER_AVVIK_GLD",
      "kontrollformel": "sakstype(Personlig)\n            .kontekst(ValideringSkattepliktig) {\n\n//kontrollen gir utslag når beløpet fylt ut på feltet 'Sykepenger for selvstendig næringsdrivende' avviker fra innrapportert beløp fra NAV. Gjelder både når beløpet er større eller mindre enn innrapportert beløp.\n\n                skattemelding\n                    .forForekomsterAv(sti(oppgavegiver, sykepengerOgAnnenInntektMvFraOppgavegiver))\n\n                    .utslagFor {\n\n                        val harSykepengerNAV = filtrer { behandlingsart erLik \"SYKEPENGER_NAER\" }\n                            .hvorMinstEnForekomst { grunnlag(beloepSomGruppe.beloepSomTall) er oppgitt }\n\n                        val fastsattSykepengerNAV = filtrer { behandlingsart erLik \"SYKEPENGER_NAER\" }\n                            .summer { fastsatt(beloepSomGruppe.beloepSomTall) }\n\n                        val grunnlagSykepengerNAV = filtrer { behandlingsart erLik \"SYKEPENGER_NAER\" }\n                            .summer { grunnlag(beloepSomGruppe.beloepSomTall) }\n\n                        val differanseSykepengerNAV = fastsattSykepengerNAV - grunnlagSykepengerNAV\n\n                        hvis(harSykepengerNAV og (differanseSykepengerNAV erUlik 0))\n\n                        {\n                            betjeningsstrategiSettesTil(\n                                ikke,\n                                merknadStandard,\n                                1,\n                                Avviksbeloep settesTil differanseSykepengerNAV\n                            )\n                        }\n                    }\n            }",
      "hjelpetekstSME": "Du har endret beløpet i feltet "
      Sykepenger
      for
      selvstendig
      næringsdrivende
      ". Beløpet er innrapportert av NAV og skal skattlegges i utbetalingsåret. Hvis du mener innrapportert beløp er feil, må du kontakte NAV.",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_TAP_FORDRINGER_KONTRAKTER",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    //kontrollen gir utslag dersom skattyter i post 7830 eller 7860 har oppgitt mer enn 20 000 i kostander\n    //kontrollen gir merknad i valideringstjenesten og SME\n    naeringsspesifikasjon\n        .forForekomsterAv(resultatregnskap.driftskostnad.annenDriftskostnadSomGruppe)\n        .forForekomsterAv(kostnad)\n        .filtrer { type.finnesBlant(\"7830\", \"7860\") }\n        .utslagFor {\n            hvis(beloepSomTall erStørreEnn 20_000)\n            {\n                betjeningsstrategiSettesTil(\n                    ikke, merknadStandard, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Alle vilkårene under må være oppfylt før et tap kan fradragsføres skattemessig i virksomheten.<br>Sjekk om du oppfyller vilkårene:<ul>
      <li>Du
      må
      drive
      virksomhet</li><li>Det
      må
      være
      tilstrekkelig
      tilknytning
      mellom
      fordringen
      og
      din
      virksomhet</li><li>Tapet
      må
      være
      endelig
      konstatert
      tapt</li></ul>Merk: Omsetningssvikt
      f.eks.
      på
      grunn
      av
      koronapandemien
      regnes
      ikke
      som
      tap.
      ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_TRANSPORTMIDDEL_AKSJESELSKAP",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom skattepliktig med virksomhetstype aksjeselskap rapporterer transportmiddel i næring\n    //kontrollen gir faktiskFeil i valideringstjenesten\n\n    val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            virksomhetstype erLik \"aksjeselskap\"\n        }\n\n\n    naeringsspesifikasjon\n        .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, transportmiddelINaering))\n        .utslagFor {\n\n            hvis(harVirksomhetstypeLikAksjeselskap og (kjennemerke er oppgitt))\n\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det finnes opplysninger i temaet transportmiddel i næring i næringsspesifikasjonen. Aksjeselskap skal ikke rapportere opplysninger i temaet transportmiddel i næring i næringsspesifikasjonen.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_TRANSPORTMIDDEL_DRIFTSKOSTNADER",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag når summen av driftskostnader rapportert pr bil under transportmiddel i næring er større enn driftskostnader til bil ført i resultatregnskapet\n    //kontrollen gir merknad i valideringstjenesten\n\n    naeringsspesifikasjon\n        .utslagFor {\n            val sumDriftskostnaderTransportmiddel =\n                forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, transportmiddelINaering))\n                    .summer { driftskostnaderSomGruppe.beloepSomTall }\n\n            val sumDriftskostnaderBilIResultatregnskapet =\n                forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n                    .forForekomsterAv(kostnad)\n                    .filtrer { type.finnesBlant(\"7000\", \"7020\", \"7040\") }\n                    .summer { beloepSomGruppe.beloepSomTall }\n\n            hvis(sumDriftskostnaderTransportmiddel erStørreEnn sumDriftskostnaderBilIResultatregnskapet)\n            {\n                betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Summen av driftskostnadene per transportmiddel kan ikke være høyere enn summen av tilsvarende felter i resultatregnskapet (konto 7000, 7020 og/eller 7040). ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_TRANSPORTMIDDEL_LEASINGLEIE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag når summen av leasingleie rapportert pr bil under transportmiddel i næring er større enn leasingleie av bil i konto 6440 i resultatregnskapet\n    //kontrollen gir merknad i valideringstjenesten\n\n    naeringsspesifikasjon\n        .utslagFor {\n            val sumLeasingleie = naeringsspesifikasjon\n                .forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, transportmiddelINaering))\n                .summer { leasingleie.beloepSomTall }\n\n            val harLeasingleie = naeringsspesifikasjon\n                .forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnadSomGruppe))\n                .forForekomsterAv(kostnad)\n                .filtrer { type erLik \"6440\" }\n                .summer { beloepSomGruppe.beloepSomTall }\n\n            hvis(sumLeasingleie erStørreEnn harLeasingleie)\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    merknadStandard,\n                    1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Summen av leasingleien per transportmiddel kan ikke være høyere enn summen av tilsvarende felt i resultatregnskapet (konto 6440).",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_UFULLSTENDIG_STOETTE_ORDNING",
      "kontrollformel": "//Kontrollen gir utslag når selskap rapporterer ufullstendige opplysninger knyttet til skatte- og avgiftsordrninger. Alle opplysningene må fylles ut.\n//KOntrollen gir merknad i valideringstjenesten.\n        sakstype(Upersonlig)\n            .kontekst(ValideringSkattepliktig) {\n\n                val gyldigeStøtteordninger = skatteOgAvgiftsordningOmfattetAvOffentligStoette_2021\n                    .forForekomsterAv { kode }\n                    .verdierFor { tekniskNavn }\n\n                val harStøtteordning = skattemeldingUpersonlig\n                    .forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning,\n                        tilleggsinformasjonKnyttetTilMottakAvSkatteOgAvgiftsordningOmfattetAvOffentligStoette,\n                        skatteOgAvgiftsordningOmfattetAvOffentligStoette))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(skatteOgAvgiftsordning) er oppgitt) og\n                            (fastsatt(skatteOgAvgiftsordning).finnesBlant(gyldigeStøtteordninger))\n                    }\n\n                skattemeldingUpersonlig\n                    .forForekomsterAv(sti(spesifikasjonAvForholdRelevanteForBeskatning,\n                        tilleggsinformasjonKnyttetTilMottakAvSkatteOgAvgiftsordningOmfattetAvOffentligStoette))\n                    .utslagFor {\n                        hvis(harStøtteordning og (varIOekonomiskeVanskerVedSistAvlagtRegnskapsaar ikkeEr oppgitt) eller\n                            (erIKonsern ikkeEr oppgitt) eller\n                            (harUtestaaendeBetalingskravKnyttetTilUlovligUtdeltStatsstoette ikkeEr oppgitt) eller\n                            (erLitenEllerMellomstorBedrift ikkeEr oppgitt) eller\n                            (harMottattAnnenOffentligStoette ikkeEr oppgitt)\n                        ) {\n                            betjeningsstrategiSettesTil(ikke, merknadStandard, 1)\n                        }\n                    }\n            }",
      "hjelpetekstSME": "Alle vilkårene under må være oppfylt før et tap kan fradragsføres skattemessig i virksomheten.<br>Sjekk om du oppfyller vilkårene:<ul>
      <li>Du
      må
      drive
      virksomhet</li><li>Det
      må
      være
      tilstrekkelig
      tilknytning
      mellom
      fordringen
      og
      din
      virksomhet</li><li>Tapet
      må
      være
      endelig
      konstatert
      tapt</li></ul>Merk: Omsetningssvikt
      f.eks.
      på
      grunn
      av
      koronapandemien
      regnes
      ikke
      som
      tap.
      ",
      "BetjeningsstrategiSkattepliktig": "merknadStandard"
    },
    {
      "kontrollnavn": "N_UGYLDIGE_FELT_NAERINGBEREGNING",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    //kontrollen gir utslag dersom skattepliktig med virksomhetstype aksjeselskap rapporterer ett eller flere av følgende felter\n    //fordeltBeregnetNaeringsinntekt.sjablongberegnetInntektFraBiomasseVedproduksjon\n    //fordeltBeregnetNaeringsinntekt.fradragForRenterINaeringPaaSvalbard\n    //fordeltBeregnetNaeringsinntekt.fremfoertUnderskuddIEnkeltpersonforetakPaaSvalbardFraTidligereAar\n    //fordeltBeregnetNaeringsinntekt.korreksjonFraReindrift\n    //kontrollen gir faktiskFeil i valideringstjenesten\n\n    val harVirksomhetstypeLikAksjeselskap = naeringsspesifikasjon\n        .forForekomsterAv(virksomhet)\n        .hvorMinstEnForekomst {\n            virksomhetstype erLik \"aksjeselskap\"\n        }\n\n    val rapportererUgylidigFelt = naeringsspesifikasjon\n        .forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n        .hvorMinstEnForekomst {\n            (\n                (sjablongberegnetInntektFraBiomasseVedproduksjon.beloepSomTall er oppgitt) eller\n                    (fradragForRenterINaeringPaaSvalbard.beloepSomTall er oppgitt) eller\n                    (fremfoertUnderskuddIEnkeltpersonforetakPaaSvalbardFraTidligereAar.beloepSomTall er oppgitt) eller\n                    (korreksjonFraReindrift.beloepSomTall er oppgitt)\n                )\n        }\n\n    naeringsspesifikasjon\n        .utslagFor {\n\n            hvis(harVirksomhetstypeLikAksjeselskap og rapportererUgylidigFelt)\n\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det finnes opplysninger i temaet fordelt beregnet næringsinntekt som ikke er gyldige for aksjeselskaper. Dette er enten opplysninger om sjablongberegnet inntekt fra biomasse eller vedproduksjon, korreksjon fra reindrift, fradrag for renter på Svalbard eller fremført underskudd i enkeltpersonforetak på Svalbard.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_BILTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeBiltyper = biltype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en biltype som ikke finnes i kodelisten 2021_biltype\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeBil = forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, transportmiddelINaering))\n                .hvorMinstEnForekomst {\n                    (fastsatt(biltype) er oppgitt) og\n                        (fastsatt(biltype).finnesIkkeBlant(gyldigeBiltyper))\n                }\n\n            hvis(feilTypeBil)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_BRANSJETYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeBransjetyper = bransjetype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en bransjetype som ikke finnes i kodelisten 2021_bransjetype\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeBil = forForekomsterAv(sti(andreForhold, loeyveForDrosjeOgGodstransport))\n                .hvorMinstEnForekomst {\n                    (fastsatt(bransje) er oppgitt) og\n                        (fastsatt(bransje).finnesIkkeBlant(gyldigeBransjetyper))\n                }\n\n            hvis(feilTypeBil)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_EGENKAPITALENDRINGSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeEgenkapitalendringstyper = egenkapitalendringstype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en egenkapitalendringstype som ikke finnes i kodelisten 2021_egenkapitalendringstype\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeEgenkapitalendring = forForekomsterAv(egenkapitalavstemming)\n                .forForekomsterAv(egenkapitalendring)\n                .hvorMinstEnForekomst {\n                    (fastsatt(egenkapitalendringstype) er oppgitt) og\n                        (fastsatt(egenkapitalendringstype).finnesIkkeBlant(gyldigeEgenkapitalendringstyper))\n                }\n\n            hvis(feilTypeEgenkapitalendring)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en egenkapitalendringstype som ikke er forenlig med kodelisten over egenkapitalendringstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FORMUESOBJEKT",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeformuesobjekttyper = formuesobjekttypeUpersonligSkattepliktig_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en skatte- og avgiftsordning som ikke finnes i kodelistene\n    skattemeldingUpersonlig\n        .utslagFor {\n\n            val feilFormuesobjekttype = forForekomsterAv(formuesobjekt)\n                .hvorMinstEnForekomst {\n                    (fastsatt(formuesobjekttype) er oppgitt) og\n                        (fastsatt(formuesobjekttype).finnesIkkeBlant(gyldigeformuesobjekttyper))\n                }\n\n\n            hvis(feilFormuesobjekttype)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en formuesobjekttype i næringsspesifikasjonen som ikke er forenlig med kodelisten \"formuesobjektVedRealisasjonEllerUtleieMellomSelskapOgNaerstaaendeMv\".",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FORMUESOBJEKTTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeFormuesobjekttyper = formuesobjektVedRealisasjonEllerUtleieMellomSelskapOgNaerstaaendeMv_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en formuesobjekttype som ikke finnes i kodelisten 2021_formuesobjektVedRealisasjonEllerUtleieMellomSelskapOgNaerstaaendeMv\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeFormuesobjektForYtelserFraAksjonaererEllerNaerstaaende =\n                forForekomsterAv(sti(andreForhold, ytelseFraAksjonaerEllerNaerstaaende))\n                    .forForekomsterAv(realisasjonOgUtleieAvFormuesobjektMv)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(formuesobjektSomTekst) er oppgitt) og\n                            (fastsatt(formuesobjektSomTekst).finnesIkkeBlant(gyldigeFormuesobjekttyper))\n                    }\n\n            val feilTypeFormuesobjektForYtelserFraSelskap =\n                forForekomsterAv(sti(andreForhold, ytelseFraSelskapEllerSelskapetsDatterselskap))\n                    .forForekomsterAv(realisasjonOgUtleieAvFormuesobjektMv)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(formuesobjektSomTekst) er oppgitt) og\n                            (fastsatt(formuesobjektSomTekst).finnesIkkeBlant(gyldigeFormuesobjekttyper))\n                    }\n\n            hvis(feilTypeFormuesobjektForYtelserFraAksjonaererEllerNaerstaaende eller feilTypeFormuesobjektForYtelserFraSelskap)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en formuesobjekttype i skattemeldingen som ikke er forenlig med kodelisten \"formuesobjekttypeUpersonligSkattepliktig\".",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_FORSKJELLSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeMidlertidigForskjellstyper = midlertidigForskjellstype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigePermanentForskjellstyper = permanentForskjellstype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en forskjellstype (midlertidig eller permanent) som ikke finnes i kodelistene\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeMidlertidigForskjell = forForekomsterAv(midlertidigForskjell)\n                .hvorMinstEnForekomst {\n                    (fastsatt(midlertidigForskjellstype) er oppgitt) og\n                        (fastsatt(midlertidigForskjellstype).finnesIkkeBlant(\n                            gyldigeMidlertidigForskjellstyper))\n                }\n\n            val feilTypePermanentForskjell = forForekomsterAv(permanentForskjell)\n                .hvorMinstEnForekomst {\n                    (fastsatt(permanentForskjellstype) er oppgitt) og\n                        (fastsatt(permanentForskjellstype).finnesIkkeBlant(gyldigePermanentForskjellstyper))\n                }\n\n            hvis(feilTypeMidlertidigForskjell eller feilTypePermanentForskjell)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en forskjellstype som ikke er forenlig med kodelistene over midlertidige og permanente forskjellstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KASSASYSTEM",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeKassasystemtyper = kassasystemtype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en kassasystemtype som ikke finnes i kodelisten 2021_kassasystemtype\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeKassasystem = forForekomsterAv(sti(andreForhold, overnattingsOgServeringssted))\n                .forForekomsterAv(kassasystem)\n                .hvorMinstEnForekomst {\n                    (fastsatt(kassasystemtype) er oppgitt) og\n                        (fastsatt(kassasystemtype).finnesIkkeBlant(gyldigeKassasystemtyper))\n                }\n\n            hvis(feilTypeKassasystem)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en egenkapitalendringstype som ikke er forenlig med kodelisten over kassasystemtyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KONTO_BALANSEREGNSKAP",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigekontoerForAnleggsmidler = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"balanseverdiForAnleggsmiddel\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForEgenkapital = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"egenkapital\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForKortsiktigGjeld = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"kortsiktigGjeld\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForLangsiktigGjeld = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"langsiktigGjeld\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForOmloepsmiddel = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"balanseverdiForOmloepsmiddel\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en konto som ikke finnes i kodelisten\n    //sjekker på alle typefelter under balanseregnskap\n    naeringsspesifikasjon\n        .utslagFor {\n            val feilTypeAnleggsmiddel =\n                forForekomsterAv(sti(balanseregnskap, anleggsmiddel, balanseverdiForAnleggsmiddel))\n                    .forForekomsterAv(balanseverdi)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                            gyldigekontoerForAnleggsmidler))\n                    }\n\n            val feilTypeEgenkapital =\n                forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, egenkapital))\n                    .forForekomsterAv(kapital)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                            gyldigekontoerForEgenkapital))\n                    }\n\n            val feilTypeKortsiktigGjeld =\n                forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, kortsiktigGjeld))\n                    .forForekomsterAv(gjeld)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                            gyldigekontoerForKortsiktigGjeld))\n                    }\n\n            val feilTypeLangsiktigGjeld =\n                forForekomsterAv(sti(balanseregnskap, gjeldOgEgenkapital, langsiktigGjeld))\n                    .forForekomsterAv(gjeld)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                            gyldigekontoerForLangsiktigGjeld))\n                    }\n\n            val feilTypeOmloepsmiddel =\n                forForekomsterAv(sti(balanseregnskap, omloepsmiddel, balanseverdiForOmloepsmiddel))\n                    .forForekomsterAv(balanseverdi)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                            gyldigekontoerForOmloepsmiddel))\n                    }\n\n            hvis(feilTypeAnleggsmiddel eller feilTypeEgenkapital eller feilTypeKortsiktigGjeld eller\n                feilTypeLangsiktigGjeld eller feilTypeOmloepsmiddel)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en balansekonto som ikke er forenlig med kontoene i kodelisten over balansekontoer.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KONTO_EGENKAPITALAVSTEMMING_PRINSIPPENDRING",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigekontoerForEgenkapitalavstemningPrinsippendring = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en konto som ikke finnes i kodelisten resultatregnskapOgBalanse_2021\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypePrinsippendring = forForekomsterAv(egenkapitalavstemming)\n                .forForekomsterAv(prinsippendring)\n                .hvorMinstEnForekomst {\n                    (fastsatt(resultatOgBalanseregnskapstype) er oppgitt) og\n                        (fastsatt(resultatOgBalanseregnskapstype).finnesIkkeBlant(\n                            gyldigekontoerForEgenkapitalavstemningPrinsippendring))\n                }\n\n            hvis(feilTypePrinsippendring)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en resultatregnskaps-/eller balansekonto som ikke er forenlig med kontoene i kodelisten over resultatregnskaps- og balansekontoer. ",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_KONTO_RESULTATREGNSKAP",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigekontoerForAnnenDriftsinntekt = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"annenDriftsinntekt\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForSalgsinntekt = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"salgsinntekt\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForAnnenDriftskostnad = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"annenDriftskostnad\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForLoennskostnad = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"loennskostnad\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForVarekostnad = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"varekostnad\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForEkstraordinaerPost = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"ekstraordinaerPost\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForFinansinntekt = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"finansinntekt\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForFinanskostnad = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"finanskostnad\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    val gyldigekontoerForSkattekostnad = resultatregnskapOgBalanse_2021\n        .forForekomsterAv { underkodeliste }\n        .filtrer { tekniskNavn erLik \"skattekostnad\" }\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en konto som ikke finnes i kodelisten\n    //sjekker på alle typefelter under resultatregnskap\n    naeringsspesifikasjon\n        .utslagFor {\n            val feilTypeDriftsinntekt =\n                forForekomsterAv(sti(resultatregnskap, driftsinntekt, annenDriftsinntekt))\n                    .forForekomsterAv(inntekt)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                            gyldigekontoerForAnnenDriftsinntekt))\n                    }\n\n            val feilTypeSalgsinntekt = forForekomsterAv(sti(resultatregnskap, driftsinntekt, salgsinntekt))\n                .forForekomsterAv(inntekt)\n                .hvorMinstEnForekomst {\n                    (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                        gyldigekontoerForSalgsinntekt))\n                }\n\n            val feilTypeAnnenDriftskostnad =\n                forForekomsterAv(sti(resultatregnskap, driftskostnad, annenDriftskostnad))\n                    .forForekomsterAv(kostnad)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                            gyldigekontoerForAnnenDriftskostnad))\n                    }\n\n            val feilTypeLoennskostnad =\n                forForekomsterAv(sti(resultatregnskap, driftskostnad, loennskostnad))\n                    .forForekomsterAv(kostnad)\n                    .hvorMinstEnForekomst {\n                        (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                            gyldigekontoerForLoennskostnad))\n                    }\n\n            val feilTypeVarekostnad = forForekomsterAv(sti(resultatregnskap, driftskostnad, varekostnad))\n                .forForekomsterAv(kostnad)\n                .hvorMinstEnForekomst {\n                    (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                        gyldigekontoerForVarekostnad))\n                }\n\n            val feilTypeEkstraordinaerPost = forForekomsterAv(sti(resultatregnskap, ekstraordinaerPost))\n                .forForekomsterAv(post)\n                .hvorMinstEnForekomst {\n                    (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                        gyldigekontoerForEkstraordinaerPost))\n                }\n\n            val feilTypeFinansinntekt = forForekomsterAv(sti(resultatregnskap, finansinntekt))\n                .forForekomsterAv(inntekt)\n                .hvorMinstEnForekomst {\n                    (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                        gyldigekontoerForFinansinntekt))\n                }\n\n            val feilTypeFinanskostnad = forForekomsterAv(sti(resultatregnskap, finanskostnad))\n                .forForekomsterAv(kostnad)\n                .hvorMinstEnForekomst {\n                    (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                        gyldigekontoerForFinanskostnad))\n                }\n\n            val feilTypeSkattekostnad = forForekomsterAv(sti(resultatregnskap, skattekostnad))\n                .forForekomsterAv(kostnad)\n                .hvorMinstEnForekomst {\n                    (fastsatt(type) er oppgitt) og (fastsatt(type).finnesIkkeBlant(\n                        gyldigekontoerForSkattekostnad))\n                }\n\n            hvis(feilTypeDriftsinntekt eller feilTypeSalgsinntekt eller feilTypeAnnenDriftskostnad eller\n                feilTypeLoennskostnad eller feilTypeVarekostnad eller feilTypeEkstraordinaerPost eller\n                feilTypeFinansinntekt eller feilTypeFinanskostnad eller feilTypeSkattekostnad)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en resultatregnskapskonto som ikke er forenlig med kontoene i kodelisten over resultatregnskapskontoer.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_NÆRINGSEIENDOMSTYPE",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig) {\n    // Kontrollen gir utslag dersom skattyter oppgir en næringseiendomstype som ikke er gyldig\n    // Kontrollen medfører at innleveringen avvises\n    skattemeldingUpersonlig\n        .forForekomsterAv(formuesgrunnlagIkkeUtleidNaeringseiendomINorge)\n        .utslagFor {\n\n            val harIkkeUtleidNæringseiendomINorge = hvorMinstEnForekomst {\n                naeringseiendomstype.finnesIkkeBlant(\n                    \"industri\",\n                    \"verksted\",\n                    \"lager\",\n                    \"hotell\",\n                    \"butikkEllerKjoepesenter\",\n                    \"kontor\",\n                    \"tomtGrunnarealHovedfunksjon\",\n                    \"annet\")\n            }\n\n            hvis(harIkkeUtleidNæringseiendomINorge)\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_NÆRINGSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeNaeringstyper = naeringstype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en næringstype som ikke finnes i kodelistene\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeNaering = forForekomsterAv(fordeltBeregnetNaeringsinntekt)\n                .hvorMinstEnForekomst {\n                    (fastsatt(naeringstype) er oppgitt) og\n                        (fastsatt(naeringstype).finnesIkkeBlant(gyldigeNaeringstyper))\n                }\n\n\n            hvis(feilTypeNaering)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_REGELTYPE_FOR_ÅRSREGNSKAP",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeRegeltyperForAarsregnskap = regeltypeForAarsregnskap_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en regeltype for årsregnskap som ikke finnes i kodelistene\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeRegelForAarsregnskap = forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst {\n                    (fastsatt(regeltypeForAarsregnskap) er oppgitt) og\n                        (fastsatt(regeltypeForAarsregnskap).finnesIkkeBlant(gyldigeRegeltyperForAarsregnskap))\n                }\n\n\n            hvis(feilTypeRegelForAarsregnskap)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en regeltype for årsregnskap som ikke er forenlig med kodelisten over regeltyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_REGNSKAPSPLIKTTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeRegnskapspliktstyper = regnskapsplikttype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    // kontrollen gir utslag dersom skattyter har oppgitt en regnskapspliktstype som ikke finnes i kodelisten 2021_regnskapsplikttype\n\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeRegnskapsplikt = forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst {\n                    (fastsatt(regnskapspliktstype) er oppgitt) og\n                        (fastsatt(regnskapspliktstype).finnesIkkeBlant(gyldigeRegnskapspliktstyper))\n                }\n\n            hvis(feilTypeRegnskapsplikt)\n\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en regnskapspliktstype som ikke er forenlig med kodelisten over regnskapspliktstyper .",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_SALDOGRUPPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeSaldogrupper = saldogruppe_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en saldogruppe som ikke finnes i kodelistene\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilSaldogruppe =\n                forForekomsterAv(sti(spesifikasjonAvAnleggsmiddel, saldoavskrevetAnleggsmiddel))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(saldogruppe) er oppgitt) og\n                            (fastsatt(saldogruppe).finnesIkkeBlant(gyldigeSaldogrupper))\n                    }\n\n\n            hvis(feilSaldogruppe)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en saldogruppe som ikke er forenlig med kodelisten over saldogrupper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_SKATTE_OG_AVGIFTSORDNING",
      "kontrollformel": "sakstype(Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeSkatteOgAvgiftsordninger = skatteOgAvgiftsordningOmfattetAvOffentligStoette_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en skatte- og avgiftsordning som ikke finnes i kodelistene\n    skattemeldingUpersonlig\n        .utslagFor {\n\n            val feilSkatteOgAvgiftsordning = forForekomsterAv(sti(\n                spesifikasjonAvForholdRelevanteForBeskatning,\n                tilleggsinformasjonKnyttetTilMottakAvSkatteOgAvgiftsordningOmfattetAvOffentligStoette))\n                .forForekomsterAv(skatteOgAvgiftsordningOmfattetAvOffentligStoette)\n                .hvorMinstEnForekomst {\n                    (fastsatt(skatteOgAvgiftsordning) er oppgitt) og\n                        (fastsatt(skatteOgAvgiftsordning).finnesIkkeBlant(gyldigeSkatteOgAvgiftsordninger))\n                }\n\n            hvis(feilSkatteOgAvgiftsordning)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en skatt- og avgiftsordning som ikke er forenlig med kodelisten \"skatteOgAvgiftsordningOmfattetAvOffentligStoette\".",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_SKJERMINGSGRUNNLAGSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeSkjermingsgrunnlagstyper = skjermingsgrunnlagstype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en skjermingsgrunnlagstype som ikke finnes i kodelistene\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilSkjermingsgrunnlagstype =\n                forForekomsterAv(sti(fordeltBeregnetPersoninntekt, spesifikasjonAvSkjermingsgrunnlag))\n                    .hvorMinstEnForekomst {\n                        (fastsatt(skjermingsgrunnlagstype) er oppgitt) og\n                            (fastsatt(skjermingsgrunnlagstype).finnesIkkeBlant(\n                                gyldigeSkjermingsgrunnlagstyper))\n                    }\n\n\n            hvis(feilSkjermingsgrunnlagstype)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_TAKSAMETERTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeTaksametertyper = taksametertype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en taksametertype som ikke finnes i kodelistene\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTaksametertype = forForekomsterAv(sti(andreForhold, loeyveForDrosjeOgGodstransport))\n                .forForekomsterAv(kjoeretoey)\n                .hvorMinstEnForekomst {\n                    (fastsatt(taksametertype) er oppgitt) og\n                        (fastsatt(taksametertype).finnesIkkeBlant(gyldigeTaksametertyper))\n                }\n\n\n            hvis(feilTaksametertype)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_VAREART",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeVarearter = vareart_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    //Kontrollen gir utslag dersom skattyter har oppgitt en vareart som ikke finnes i kodelistene\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilVareart = forForekomsterAv(sti(andreForhold, overnattingsOgServeringssted))\n                .forForekomsterAv(varelagerPerVareart)\n                .hvorMinstEnForekomst {\n                    (fastsatt(vareart) er oppgitt) og\n                        (fastsatt(vareart).finnesIkkeBlant(gyldigeVarearter))\n                }\n\n\n            hvis(feilVareart)\n            {\n                betjeningsstrategiSettesTil(ikke, faktiskFeil, 1)\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en vareart som ikke er forenlig med kodelisten over varearter.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    },
    {
      "kontrollnavn": "N_UGYLDIG_VIRKSOMHETSTYPE",
      "kontrollformel": "sakstype(Personlig, Upersonlig)\n.kontekst(ValideringSkattepliktig)\n{\n    val gyldigeVirksomhetstyper = virksomhetstype_2021\n        .forForekomsterAv { kode }\n        .verdierFor { tekniskNavn }\n\n    // kontrollen gir utslag dersom skattyter har oppgitt en virksomhetstype som ikke finnes i kodelisten 2021_virksomhetstype\n\n    naeringsspesifikasjon\n        .utslagFor {\n\n            val feilTypeVirksomhet = forForekomsterAv(virksomhet)\n                .hvorMinstEnForekomst {\n                    (fastsatt(virksomhetstype) er oppgitt) og\n                        (fastsatt(virksomhetstype).finnesIkkeBlant(gyldigeVirksomhetstyper))\n                }\n\n            hvis(feilTypeVirksomhet)\n\n            {\n                betjeningsstrategiSettesTil(\n                    ikke,\n                    faktiskFeil,\n                    1,\n                    Gruppering settesLik Næring\n                )\n            }\n        }\n}",
      "hjelpetekstSME": "Det er brukt en virksomhetstype som ikke er forenlig med kodelisten over virksomhetstyper.",
      "BetjeningsstrategiSkattepliktig": "faktiskFeil"
    }
  ]
}